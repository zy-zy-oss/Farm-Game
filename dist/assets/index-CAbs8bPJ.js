var f_=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var U2=f_((H2,gc)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var Jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ac(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function n1(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var s=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return i[r]}})}),t}var yp={exports:{}},tc={},vp={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function p_(){if(Tg)return ht;Tg=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function _(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,P={};function T(k,G,Y){this.props=k,this.context=G,this.refs=P,this.updater=Y||A}T.prototype.isReactComponent={},T.prototype.setState=function(k,G){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,G,"setState")},T.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function R(){}R.prototype=T.prototype;function F(k,G,Y){this.props=k,this.context=G,this.refs=P,this.updater=Y||A}var D=F.prototype=new R;D.constructor=F,b(D,T.prototype),D.isPureReactComponent=!0;var H=Array.isArray,O=Object.prototype.hasOwnProperty,V={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function J(k,G,Y){var se,de={},me=null,pe=null;if(G!=null)for(se in G.ref!==void 0&&(pe=G.ref),G.key!==void 0&&(me=""+G.key),G)O.call(G,se)&&!L.hasOwnProperty(se)&&(de[se]=G[se]);var xe=arguments.length-2;if(xe===1)de.children=Y;else if(1<xe){for(var Te=Array(xe),Ee=0;Ee<xe;Ee++)Te[Ee]=arguments[Ee+2];de.children=Te}if(k&&k.defaultProps)for(se in xe=k.defaultProps,xe)de[se]===void 0&&(de[se]=xe[se]);return{$$typeof:i,type:k,key:me,ref:pe,props:de,_owner:V.current}}function oe(k,G){return{$$typeof:i,type:k.type,key:G,ref:k.ref,props:k.props,_owner:k._owner}}function ce(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function Ae(k){var G={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Y){return G[Y]})}var Q=/\/+/g;function q(k,G){return typeof k=="object"&&k!==null&&k.key!=null?Ae(""+k.key):G.toString(36)}function te(k,G,Y,se,de){var me=typeof k;(me==="undefined"||me==="boolean")&&(k=null);var pe=!1;if(k===null)pe=!0;else switch(me){case"string":case"number":pe=!0;break;case"object":switch(k.$$typeof){case i:case e:pe=!0}}if(pe)return pe=k,de=de(pe),k=se===""?"."+q(pe,0):se,H(de)?(Y="",k!=null&&(Y=k.replace(Q,"$&/")+"/"),te(de,G,Y,"",function(Ee){return Ee})):de!=null&&(ce(de)&&(de=oe(de,Y+(!de.key||pe&&pe.key===de.key?"":(""+de.key).replace(Q,"$&/")+"/")+k)),G.push(de)),1;if(pe=0,se=se===""?".":se+":",H(k))for(var xe=0;xe<k.length;xe++){me=k[xe];var Te=se+q(me,xe);pe+=te(me,G,Y,Te,de)}else if(Te=_(k),typeof Te=="function")for(k=Te.call(k),xe=0;!(me=k.next()).done;)me=me.value,Te=se+q(me,xe++),pe+=te(me,G,Y,Te,de);else if(me==="object")throw G=String(k),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return pe}function he(k,G,Y){if(k==null)return k;var se=[],de=0;return te(k,se,"","",function(me){return G.call(Y,me,de++)}),se}function N(k){if(k._status===-1){var G=k._result;G=G(),G.then(function(Y){(k._status===0||k._status===-1)&&(k._status=1,k._result=Y)},function(Y){(k._status===0||k._status===-1)&&(k._status=2,k._result=Y)}),k._status===-1&&(k._status=0,k._result=G)}if(k._status===1)return k._result.default;throw k._result}var z={current:null},I={transition:null},j={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:I,ReactCurrentOwner:V};function B(){throw Error("act(...) is not supported in production builds of React.")}return ht.Children={map:he,forEach:function(k,G,Y){he(k,function(){G.apply(this,arguments)},Y)},count:function(k){var G=0;return he(k,function(){G++}),G},toArray:function(k){return he(k,function(G){return G})||[]},only:function(k){if(!ce(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},ht.Component=T,ht.Fragment=t,ht.Profiler=s,ht.PureComponent=F,ht.StrictMode=r,ht.Suspense=p,ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,ht.act=B,ht.cloneElement=function(k,G,Y){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var se=b({},k.props),de=k.key,me=k.ref,pe=k._owner;if(G!=null){if(G.ref!==void 0&&(me=G.ref,pe=V.current),G.key!==void 0&&(de=""+G.key),k.type&&k.type.defaultProps)var xe=k.type.defaultProps;for(Te in G)O.call(G,Te)&&!L.hasOwnProperty(Te)&&(se[Te]=G[Te]===void 0&&xe!==void 0?xe[Te]:G[Te])}var Te=arguments.length-2;if(Te===1)se.children=Y;else if(1<Te){xe=Array(Te);for(var Ee=0;Ee<Te;Ee++)xe[Ee]=arguments[Ee+2];se.children=xe}return{$$typeof:i,type:k.type,key:de,ref:me,props:se,_owner:pe}},ht.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:a,_context:k},k.Consumer=k},ht.createElement=J,ht.createFactory=function(k){var G=J.bind(null,k);return G.type=k,G},ht.createRef=function(){return{current:null}},ht.forwardRef=function(k){return{$$typeof:d,render:k}},ht.isValidElement=ce,ht.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:N}},ht.memo=function(k,G){return{$$typeof:g,type:k,compare:G===void 0?null:G}},ht.startTransition=function(k){var G=I.transition;I.transition={};try{k()}finally{I.transition=G}},ht.unstable_act=B,ht.useCallback=function(k,G){return z.current.useCallback(k,G)},ht.useContext=function(k){return z.current.useContext(k)},ht.useDebugValue=function(){},ht.useDeferredValue=function(k){return z.current.useDeferredValue(k)},ht.useEffect=function(k,G){return z.current.useEffect(k,G)},ht.useId=function(){return z.current.useId()},ht.useImperativeHandle=function(k,G,Y){return z.current.useImperativeHandle(k,G,Y)},ht.useInsertionEffect=function(k,G){return z.current.useInsertionEffect(k,G)},ht.useLayoutEffect=function(k,G){return z.current.useLayoutEffect(k,G)},ht.useMemo=function(k,G){return z.current.useMemo(k,G)},ht.useReducer=function(k,G,Y){return z.current.useReducer(k,G,Y)},ht.useRef=function(k){return z.current.useRef(k)},ht.useState=function(k){return z.current.useState(k)},ht.useSyncExternalStore=function(k,G,Y){return z.current.useSyncExternalStore(k,G,Y)},ht.useTransition=function(){return z.current.useTransition()},ht.version="18.3.1",ht}var Cg;function N0(){return Cg||(Cg=1,vp.exports=p_()),vp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function m_(){if(Pg)return tc;Pg=1;var i=N0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,g){var y,w={},_=null,A=null;g!==void 0&&(_=""+g),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(A=p.ref);for(y in p)r.call(p,y)&&!a.hasOwnProperty(y)&&(w[y]=p[y]);if(d&&d.defaultProps)for(y in p=d.defaultProps,p)w[y]===void 0&&(w[y]=p[y]);return{$$typeof:e,type:d,key:_,ref:A,props:w,_owner:s.current}}return tc.Fragment=t,tc.jsx=c,tc.jsxs=c,tc}var Ig;function g_(){return Ig||(Ig=1,yp.exports=m_()),yp.exports}var lt=g_(),Ce=N0();const As=Ac(Ce);var md={},xp={exports:{}},Bn={},_p={exports:{}},wp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function y_(){return Rg||(Rg=1,function(i){function e(I,j){var B=I.length;I.push(j);e:for(;0<B;){var k=B-1>>>1,G=I[k];if(0<s(G,j))I[k]=j,I[B]=G,B=k;else break e}}function t(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var j=I[0],B=I.pop();if(B!==j){I[0]=B;e:for(var k=0,G=I.length,Y=G>>>1;k<Y;){var se=2*(k+1)-1,de=I[se],me=se+1,pe=I[me];if(0>s(de,B))me<G&&0>s(pe,de)?(I[k]=pe,I[me]=B,k=me):(I[k]=de,I[se]=B,k=se);else if(me<G&&0>s(pe,B))I[k]=pe,I[me]=B,k=me;else break e}}return j}function s(I,j){var B=I.sortIndex-j.sortIndex;return B!==0?B:I.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,w=null,_=3,A=!1,b=!1,P=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(I){for(var j=t(g);j!==null;){if(j.callback===null)r(g);else if(j.startTime<=I)r(g),j.sortIndex=j.expirationTime,e(p,j);else break;j=t(g)}}function H(I){if(P=!1,D(I),!b)if(t(p)!==null)b=!0,N(O);else{var j=t(g);j!==null&&z(H,j.startTime-I)}}function O(I,j){b=!1,P&&(P=!1,R(J),J=-1),A=!0;var B=_;try{for(D(j),w=t(p);w!==null&&(!(w.expirationTime>j)||I&&!Ae());){var k=w.callback;if(typeof k=="function"){w.callback=null,_=w.priorityLevel;var G=k(w.expirationTime<=j);j=i.unstable_now(),typeof G=="function"?w.callback=G:w===t(p)&&r(p),D(j)}else r(p);w=t(p)}if(w!==null)var Y=!0;else{var se=t(g);se!==null&&z(H,se.startTime-j),Y=!1}return Y}finally{w=null,_=B,A=!1}}var V=!1,L=null,J=-1,oe=5,ce=-1;function Ae(){return!(i.unstable_now()-ce<oe)}function Q(){if(L!==null){var I=i.unstable_now();ce=I;var j=!0;try{j=L(!0,I)}finally{j?q():(V=!1,L=null)}}else V=!1}var q;if(typeof F=="function")q=function(){F(Q)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,he=te.port2;te.port1.onmessage=Q,q=function(){he.postMessage(null)}}else q=function(){T(Q,0)};function N(I){L=I,V||(V=!0,q())}function z(I,j){J=T(function(){I(i.unstable_now())},j)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(I){I.callback=null},i.unstable_continueExecution=function(){b||A||(b=!0,N(O))},i.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<I?Math.floor(1e3/I):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(I){switch(_){case 1:case 2:case 3:var j=3;break;default:j=_}var B=_;_=j;try{return I()}finally{_=B}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(I,j){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=_;_=I;try{return j()}finally{_=B}},i.unstable_scheduleCallback=function(I,j,B){var k=i.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?k+B:k):B=k,I){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,I={id:y++,callback:j,priorityLevel:I,startTime:B,expirationTime:G,sortIndex:-1},B>k?(I.sortIndex=B,e(g,I),t(p)===null&&I===t(g)&&(P?(R(J),J=-1):P=!0,z(H,B-k))):(I.sortIndex=G,e(p,I),b||A||(b=!0,N(O))),I},i.unstable_shouldYield=Ae,i.unstable_wrapCallback=function(I){var j=_;return function(){var B=_;_=j;try{return I.apply(this,arguments)}finally{_=B}}}}(wp)),wp}var kg;function v_(){return kg||(kg=1,_p.exports=y_()),_p.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function x_(){if(Mg)return Bn;Mg=1;var i=N0(),e=v_();function t(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,h=1;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(n,o){c(n,o),c(n+"Capture",o)}function c(n,o){for(s[n]=o,n=0;n<o.length;n++)r.add(o[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function _(n){return p.call(w,n)?!0:p.call(y,n)?!1:g.test(n)?w[n]=!0:(y[n]=!0,!1)}function A(n,o,h,f){if(h!==null&&h.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:h!==null?!h.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function b(n,o,h,f){if(o===null||typeof o>"u"||A(n,o,h,f))return!0;if(f)return!1;if(h!==null)switch(h.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function P(n,o,h,f,v,S,M){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=v,this.mustUseProperty=h,this.propertyName=n,this.type=o,this.sanitizeURL=S,this.removeEmptyString=M}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){T[n]=new P(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];T[o]=new P(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){T[n]=new P(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){T[n]=new P(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){T[n]=new P(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){T[n]=new P(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){T[n]=new P(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){T[n]=new P(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){T[n]=new P(n,5,!1,n.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function F(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(R,F);T[o]=new P(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(R,F);T[o]=new P(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(R,F);T[o]=new P(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){T[n]=new P(n,1,!1,n.toLowerCase(),null,!1,!1)}),T.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){T[n]=new P(n,1,!1,n.toLowerCase(),null,!0,!0)});function D(n,o,h,f){var v=T.hasOwnProperty(o)?T[o]:null;(v!==null?v.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,h,v,f)&&(h=null),f||v===null?_(o)&&(h===null?n.removeAttribute(o):n.setAttribute(o,""+h)):v.mustUseProperty?n[v.propertyName]=h===null?v.type===3?!1:"":h:(o=v.attributeName,f=v.attributeNamespace,h===null?n.removeAttribute(o):(v=v.type,h=v===3||v===4&&h===!0?"":""+h,f?n.setAttributeNS(f,o,h):n.setAttribute(o,h))))}var H=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),V=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),Ae=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),I=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=I&&n[I]||n["@@iterator"],typeof n=="function"?n:null)}var B=Object.assign,k;function G(n){if(k===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);k=o&&o[1]||""}return`
`+k+n}var Y=!1;function se(n,o){if(!n||Y)return"";Y=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(le){var f=le}Reflect.construct(n,[],o)}else{try{o.call()}catch(le){f=le}n.call(o.prototype)}else{try{throw Error()}catch(le){f=le}n()}}catch(le){if(le&&f&&typeof le.stack=="string"){for(var v=le.stack.split(`
`),S=f.stack.split(`
`),M=v.length-1,W=S.length-1;1<=M&&0<=W&&v[M]!==S[W];)W--;for(;1<=M&&0<=W;M--,W--)if(v[M]!==S[W]){if(M!==1||W!==1)do if(M--,W--,0>W||v[M]!==S[W]){var X=`
`+v[M].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=M&&0<=W);break}}}finally{Y=!1,Error.prepareStackTrace=h}return(n=n?n.displayName||n.name:"")?G(n):""}function de(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=se(n.type,!1),n;case 11:return n=se(n.type.render,!1),n;case 1:return n=se(n.type,!0),n;default:return""}}function me(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case V:return"Portal";case oe:return"Profiler";case J:return"StrictMode";case q:return"Suspense";case te:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ae:return(n.displayName||"Context")+".Consumer";case ce:return(n._context.displayName||"Context")+".Provider";case Q:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case he:return o=n.displayName||null,o!==null?o:me(n.type)||"Memo";case N:o=n._payload,n=n._init;try{return me(n(o))}catch{}}return null}function pe(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(o);case 8:return o===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function xe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Te(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ee(n){var o=Te(n)?"checked":"value",h=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),f=""+n[o];if(!n.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,S=h.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return v.call(this)},set:function(M){f=""+M,S.call(this,M)}}),Object.defineProperty(n,o,{enumerable:h.enumerable}),{getValue:function(){return f},setValue:function(M){f=""+M},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Fe(n){n._valueTracker||(n._valueTracker=Ee(n))}function et(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var h=o.getValue(),f="";return n&&(f=Te(n)?n.checked?"true":"false":n.value),n=f,n!==h?(o.setValue(n),!0):!1}function je(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function pt(n,o){var h=o.checked;return B({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??n._wrapperState.initialChecked})}function Xe(n,o){var h=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;h=xe(o.value!=null?o.value:h),n._wrapperState={initialChecked:f,initialValue:h,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function $e(n,o){o=o.checked,o!=null&&D(n,"checked",o,!1)}function Dt(n,o){$e(n,o);var h=xe(o.value),f=o.type;if(h!=null)f==="number"?(h===0&&n.value===""||n.value!=h)&&(n.value=""+h):n.value!==""+h&&(n.value=""+h);else if(f==="submit"||f==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?Un(n,o.type,h):o.hasOwnProperty("defaultValue")&&Un(n,o.type,xe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function Yt(n,o,h){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,h||o===n.value||(n.value=o),n.defaultValue=o}h=n.name,h!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,h!==""&&(n.name=h)}function Un(n,o,h){(o!=="number"||je(n.ownerDocument)!==n)&&(h==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+h&&(n.defaultValue=""+h))}var Sr=Array.isArray;function rn(n,o,h,f){if(n=n.options,o){o={};for(var v=0;v<h.length;v++)o["$"+h[v]]=!0;for(h=0;h<n.length;h++)v=o.hasOwnProperty("$"+n[h].value),n[h].selected!==v&&(n[h].selected=v),v&&f&&(n[h].defaultSelected=!0)}else{for(h=""+xe(h),o=null,v=0;v<n.length;v++){if(n[v].value===h){n[v].selected=!0,f&&(n[v].defaultSelected=!0);return}o!==null||n[v].disabled||(o=n[v])}o!==null&&(o.selected=!0)}}function Sa(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return B({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ul(n,o){var h=o.value;if(h==null){if(h=o.children,o=o.defaultValue,h!=null){if(o!=null)throw Error(t(92));if(Sr(h)){if(1<h.length)throw Error(t(93));h=h[0]}o=h}o==null&&(o=""),h=o}n._wrapperState={initialValue:xe(h)}}function Yi(n,o){var h=xe(o.value),f=xe(o.defaultValue);h!=null&&(h=""+h,h!==n.value&&(n.value=h),o.defaultValue==null&&n.defaultValue!==h&&(n.defaultValue=h)),f!=null&&(n.defaultValue=""+f)}function zl(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function Aa(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ba(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?Aa(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Jn,xo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,h,f,v){MSApp.execUnsafeLocalFunction(function(){return n(o,h,f,v)})}:n}(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(Jn=Jn||document.createElement("div"),Jn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Jn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function qi(n,o){if(o){var h=n.firstChild;if(h&&h===n.lastChild&&h.nodeType===3){h.nodeValue=o;return}}n.textContent=o}var Ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rh=["Webkit","ms","Moz","O"];Object.keys(Ms).forEach(function(n){rh.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),Ms[o]=Ms[n]})});function _o(n,o,h){return o==null||typeof o=="boolean"||o===""?"":h||typeof o!="number"||o===0||Ms.hasOwnProperty(n)&&Ms[n]?(""+o).trim():o+"px"}function Ds(n,o){n=n.style;for(var h in o)if(o.hasOwnProperty(h)){var f=h.indexOf("--")===0,v=_o(h,o[h],f);h==="float"&&(h="cssFloat"),f?n.setProperty(h,v):n[h]=v}}var ne=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ae(n,o){if(o){if(ne[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ut(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function At(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var st=null,Br=null,Wr=null;function Ar(n){if(n=Vo(n)){if(typeof st!="function")throw Error(t(280));var o=n.stateNode;o&&(o=Xo(o),st(n.stateNode,n.type,o))}}function gn(n){Br?Wr?Wr.push(n):Wr=[n]:Br=n}function Ns(){if(Br){var n=Br,o=Wr;if(Wr=Br=null,Ar(n),o)for(n=0;n<o.length;n++)Ar(o[n])}}function pi(n,o){return n(o)}function br(){}var Fs=!1;function wo(n,o,h){if(Fs)return n(o,h);Fs=!0;try{return pi(n,o,h)}finally{Fs=!1,(Br!==null||Wr!==null)&&(br(),Ns())}}function Qi(n,o){var h=n.stateNode;if(h===null)return null;var f=Xo(h);if(f===null)return null;h=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(h&&typeof h!="function")throw Error(t(231,o,typeof h));return h}var mi=!1;if(d)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){mi=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{mi=!1}function Bs(n,o,h,f,v,S,M,W,X){var le=Array.prototype.slice.call(arguments,3);try{o.apply(h,le)}catch(we){this.onError(we)}}var zn=!1,Ki=null,Os=!1,yi=null,Ta={onError:function(n){zn=!0,Ki=n}};function Gl(n,o,h,f,v,S,M,W,X){zn=!1,Ki=null,Bs.apply(Ta,arguments)}function Ca(n,o,h,f,v,S,M,W,X){if(Gl.apply(this,arguments),zn){if(zn){var le=Ki;zn=!1,Ki=null}else throw Error(t(198));Os||(Os=!0,yi=le)}}function ei(n){var o=n,h=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,o.flags&4098&&(h=o.return),n=o.return;while(n)}return o.tag===3?h:null}function Hl(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function Eo(n){if(ei(n)!==n)throw Error(t(188))}function Zi(n){var o=n.alternate;if(!o){if(o=ei(n),o===null)throw Error(t(188));return o!==n?null:n}for(var h=n,f=o;;){var v=h.return;if(v===null)break;var S=v.alternate;if(S===null){if(f=v.return,f!==null){h=f;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===h)return Eo(v),n;if(S===f)return Eo(v),o;S=S.sibling}throw Error(t(188))}if(h.return!==f.return)h=v,f=S;else{for(var M=!1,W=v.child;W;){if(W===h){M=!0,h=v,f=S;break}if(W===f){M=!0,f=v,h=S;break}W=W.sibling}if(!M){for(W=S.child;W;){if(W===h){M=!0,h=S,f=v;break}if(W===f){M=!0,f=S,h=v;break}W=W.sibling}if(!M)throw Error(t(189))}}if(h.alternate!==f)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?n:o}function Ls(n){return n=Zi(n),n!==null?jl(n):null}function jl(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=jl(n);if(o!==null)return o;n=n.sibling}return null}var Pa=e.unstable_scheduleCallback,Pc=e.unstable_cancelCallback,Df=e.unstable_shouldYield,Nf=e.unstable_requestPaint,qt=e.unstable_now,Ia=e.unstable_getCurrentPriorityLevel,Ra=e.unstable_ImmediatePriority,Wl=e.unstable_UserBlockingPriority,Vl=e.unstable_NormalPriority,nh=e.unstable_LowPriority,Us=e.unstable_IdlePriority,Gn=null,mt=null;function Pt(n){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:zs,Tr=Math.log,Vr=Math.LN2;function zs(n){return n>>>=0,n===0?32:31-(Tr(n)/Vr|0)|0}var vi=64,Cr=4194304;function Gs(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ka(n,o){var h=n.pendingLanes;if(h===0)return 0;var f=0,v=n.suspendedLanes,S=n.pingedLanes,M=h&268435455;if(M!==0){var W=M&~v;W!==0?f=Gs(W):(S&=M,S!==0&&(f=Gs(S)))}else M=h&~v,M!==0?f=Gs(M):S!==0&&(f=Gs(S));if(f===0)return 0;if(o!==0&&o!==f&&!(o&v)&&(v=f&-f,S=o&-o,v>=S||v===16&&(S&4194240)!==0))return o;if(f&4&&(f|=h&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=f;0<o;)h=31-pr(o),v=1<<h,f|=n[h],o&=~v;return f}function Ic(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xl(n,o){for(var h=n.suspendedLanes,f=n.pingedLanes,v=n.expirationTimes,S=n.pendingLanes;0<S;){var M=31-pr(S),W=1<<M,X=v[M];X===-1?(!(W&h)||W&f)&&(v[M]=Ic(W,o)):X<=o&&(n.expiredLanes|=W),S&=~W}}function $l(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function yn(){var n=vi;return vi<<=1,!(vi&4194240)&&(vi=64),n}function ih(n){for(var o=[],h=0;31>h;h++)o.push(n);return o}function Ma(n,o,h){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-pr(o),n[o]=h}function sh(n,o){var h=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var f=n.eventTimes;for(n=n.expirationTimes;0<h;){var v=31-pr(h),S=1<<v;o[v]=0,f[v]=-1,n[v]=-1,h&=~S}}function Da(n,o){var h=n.entangledLanes|=o;for(n=n.entanglements;h;){var f=31-pr(h),v=1<<f;v&o|n[f]&o&&(n[f]|=o),h&=~v}}var gt=0;function Na(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Rc,Fa,oh,Yl,So,Ba=!1,ct=[],xi=null,ti=null,_i=null,Oa=new Map,La=new Map,Nt=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kc(n,o){switch(n){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Oa.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":La.delete(o.pointerId)}}function Ao(n,o,h,f,v,S){return n===null||n.nativeEvent!==S?(n={blockedOn:o,domEventName:h,eventSystemFlags:f,nativeEvent:S,targetContainers:[v]},o!==null&&(o=Vo(o),o!==null&&Fa(o)),n):(n.eventSystemFlags|=f,o=n.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),n)}function Ff(n,o,h,f,v){switch(o){case"focusin":return xi=Ao(xi,n,o,h,f,v),!0;case"dragenter":return ti=Ao(ti,n,o,h,f,v),!0;case"mouseover":return _i=Ao(_i,n,o,h,f,v),!0;case"pointerover":var S=v.pointerId;return Oa.set(S,Ao(Oa.get(S)||null,n,o,h,f,v)),!0;case"gotpointercapture":return S=v.pointerId,La.set(S,Ao(La.get(S)||null,n,o,h,f,v)),!0}return!1}function Ua(n){var o=ls(n.target);if(o!==null){var h=ei(o);if(h!==null){if(o=h.tag,o===13){if(o=Hl(h),o!==null){n.blockedOn=o,So(n.priority,function(){oh(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){n.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nn(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var h=Xr(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(h===null){h=n.nativeEvent;var f=new h.constructor(h.type,h);wt=f,h.target.dispatchEvent(f),wt=null}else return o=Vo(h),o!==null&&Fa(o),n.blockedOn=h,!1;o.shift()}return!0}function vn(n,o,h){nn(n)&&h.delete(o)}function wi(){Ba=!1,xi!==null&&nn(xi)&&(xi=null),ti!==null&&nn(ti)&&(ti=null),_i!==null&&nn(_i)&&(_i=null),Oa.forEach(vn),La.forEach(vn)}function Ji(n,o){n.blockedOn===o&&(n.blockedOn=null,Ba||(Ba=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wi)))}function Hs(n){function o(v){return Ji(v,n)}if(0<ct.length){Ji(ct[0],n);for(var h=1;h<ct.length;h++){var f=ct[h];f.blockedOn===n&&(f.blockedOn=null)}}for(xi!==null&&Ji(xi,n),ti!==null&&Ji(ti,n),_i!==null&&Ji(_i,n),Oa.forEach(o),La.forEach(o),h=0;h<Nt.length;h++)f=Nt[h],f.blockedOn===n&&(f.blockedOn=null);for(;0<Nt.length&&(h=Nt[0],h.blockedOn===null);)Ua(h),h.blockedOn===null&&Nt.shift()}var js=H.ReactCurrentBatchConfig,sn=!0;function bo(n,o,h,f){var v=gt,S=js.transition;js.transition=null;try{gt=1,Co(n,o,h,f)}finally{gt=v,js.transition=S}}function To(n,o,h,f){var v=gt,S=js.transition;js.transition=null;try{gt=4,Co(n,o,h,f)}finally{gt=v,js.transition=S}}function Co(n,o,h,f){if(sn){var v=Xr(n,o,h,f);if(v===null)pu(n,o,f,Ws,h),kc(n,f);else if(Ff(v,n,o,h,f))f.stopPropagation();else if(kc(n,f),o&4&&-1<ah.indexOf(n)){for(;v!==null;){var S=Vo(v);if(S!==null&&Rc(S),S=Xr(n,o,h,f),S===null&&pu(n,o,f,Ws,h),S===v)break;v=S}v!==null&&f.stopPropagation()}else pu(n,o,f,null,h)}}var Ws=null;function Xr(n,o,h,f){if(Ws=null,n=At(f),n=ls(n),n!==null)if(o=ei(n),o===null)n=null;else if(h=o.tag,h===13){if(n=Hl(o),n!==null)return n;n=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return Ws=n,null}function on(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ia()){case Ra:return 1;case Wl:return 4;case Vl:case nh:return 16;case Us:return 536870912;default:return 16}default:return 16}}var $r=null,xn=null,_n=null;function es(){if(_n)return _n;var n,o=xn,h=o.length,f,v="value"in $r?$r.value:$r.textContent,S=v.length;for(n=0;n<h&&o[n]===v[n];n++);var M=h-n;for(f=1;f<=M&&o[h-f]===v[S-f];f++);return _n=v.slice(n,1<f?1-f:void 0)}function za(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function Po(){return!0}function ql(){return!1}function Ft(n){function o(h,f,v,S,M){this._reactName=h,this._targetInst=v,this.type=f,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var W in n)n.hasOwnProperty(W)&&(h=n[W],this[W]=h?h(S):S[W]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Po:ql,this.isPropagationStopped=ql,this}return B(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),o}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},It=Ft(yr),Ei=B({},yr,{view:0,detail:0}),Hn=Ft(Ei),Ql,Kl,Vs,Io=B({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ja,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Vs&&(Vs&&n.type==="mousemove"?(Ql=n.screenX-Vs.screenX,Kl=n.screenY-Vs.screenY):Kl=Ql=0,Vs=n),Ql)},movementY:function(n){return"movementY"in n?n.movementY:Kl}}),lh=Ft(Io),Zl=B({},Io,{dataTransfer:0}),Mc=Ft(Zl),Ro=B({},Ei,{relatedTarget:0}),Ga=Ft(Ro),Bf=B({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jl=Ft(Bf),Of=B({},yr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),jn=Ft(Of),eu=B({},yr,{data:0}),Ha=Ft(eu),ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=hh[n])?!!o[n]:!1}function ja(){return Dc}var ch=B({},Ei,{key:function(n){if(n.key){var o=ko[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=za(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?uh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ja,charCode:function(n){return n.type==="keypress"?za(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?za(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Mo=Ft(ch),wn=B({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=Ft(wn),dh=B({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ja}),Nc=Ft(dh),ri=B({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rs=Ft(ri),fh=B({},Io,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Fc=Ft(fh),Si=[9,13,27,32],ni=d&&"CompositionEvent"in window,ns=null;d&&"documentMode"in document&&(ns=document.documentMode);var Bc=d&&"TextEvent"in window&&!ns,Wa=d&&(!ni||ns&&8<ns&&11>=ns),ph=" ",mh=!1;function tu(n,o){switch(n){case"keyup":return Si.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xs=!1;function Oc(n,o){switch(n){case"compositionend":return Va(o);case"keypress":return o.which!==32?null:(mh=!0,ph);case"textInput":return n=o.data,n===ph&&mh?null:n;default:return null}}function Lc(n,o){if(Xs)return n==="compositionend"||!ni&&tu(n,o)?(n=es(),_n=xn=$r=null,Xs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Wa&&o.locale!=="ko"?null:o.data;default:return null}}var gh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Do(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!gh[n.type]:o==="textarea"}function Xa(n,o,h,f){gn(f),o=Ja(o,"onChange"),0<o.length&&(h=new It("onChange","change",null,h,f),n.push({event:h,listeners:o}))}var No=null,Fo=null;function Bo(n){cu(n,0)}function $a(n){var o=Qs(n);if(et(o))return n}function Ya(n,o){if(n==="change")return o}var an=!1;if(d){var $s;if(d){var is="oninput"in document;if(!is){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),is=typeof Wn.oninput=="function"}$s=is}else $s=!1;an=$s&&(!document.documentMode||9<document.documentMode)}function ru(){No&&(No.detachEvent("onpropertychange",Ys),Fo=No=null)}function Ys(n){if(n.propertyName==="value"&&$a(Fo)){var o=[];Xa(o,Fo,n,At(n)),wo(Bo,o)}}function Uc(n,o,h){n==="focusin"?(ru(),No=o,Fo=h,No.attachEvent("onpropertychange",Ys)):n==="focusout"&&ru()}function yh(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $a(Fo)}function Wt(n,o){if(n==="click")return $a(o)}function nu(n,o){if(n==="input"||n==="change")return $a(o)}function vh(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var ln=typeof Object.is=="function"?Object.is:vh;function ss(n,o){if(ln(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var h=Object.keys(n),f=Object.keys(o);if(h.length!==f.length)return!1;for(f=0;f<h.length;f++){var v=h[f];if(!p.call(o,v)||!ln(n[v],o[v]))return!1}return!0}function iu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function os(n,o){var h=iu(n);n=0;for(var f;h;){if(h.nodeType===3){if(f=n+h.textContent.length,n<=o&&f>=o)return{node:h,offset:o-n};n=f}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=iu(h)}}function Ut(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Ut(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function ar(){for(var n=window,o=je();o instanceof n.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)n=o.contentWindow;else break;o=je(n.document)}return o}function Jt(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function su(n){var o=ar(),h=n.focusedElem,f=n.selectionRange;if(o!==h&&h&&h.ownerDocument&&Ut(h.ownerDocument.documentElement,h)){if(f!==null&&Jt(h)){if(o=f.start,n=f.end,n===void 0&&(n=o),"selectionStart"in h)h.selectionStart=o,h.selectionEnd=Math.min(n,h.value.length);else if(n=(o=h.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var v=h.textContent.length,S=Math.min(f.start,v);f=f.end===void 0?S:Math.min(f.end,v),!n.extend&&S>f&&(v=f,f=S,S=v),v=os(h,S);var M=os(h,f);v&&M&&(n.rangeCount!==1||n.anchorNode!==v.node||n.anchorOffset!==v.offset||n.focusNode!==M.node||n.focusOffset!==M.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),n.removeAllRanges(),S>f?(n.addRange(o),n.extend(M.node,M.offset)):(o.setEnd(M.node,M.offset),n.addRange(o)))}}for(o=[],n=h;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<o.length;h++)n=o[h],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var qa=d&&"documentMode"in document&&11>=document.documentMode,ii=null,xh=null,er=null,Qa=!1;function ou(n,o,h){var f=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Qa||ii==null||ii!==je(f)||(f=ii,"selectionStart"in f&&Jt(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),er&&ss(er,f)||(er=f,f=Ja(xh,"onSelect"),0<f.length&&(o=new It("onSelect","select",null,o,h),n.push({event:o,listeners:f}),o.target=ii)))}function Oo(n,o){var h={};return h[n.toLowerCase()]=o.toLowerCase(),h["Webkit"+n]="webkit"+o,h["Moz"+n]="moz"+o,h}var Or={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionend:Oo("Transition","TransitionEnd")},Yr={},Lo={};d&&(Lo=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Uo(n){if(Yr[n])return Yr[n];if(!Or[n])return n;var o=Or[n],h;for(h in o)if(o.hasOwnProperty(h)&&h in Lo)return Yr[n]=o[h];return n}var au=Uo("animationend"),_h=Uo("animationiteration"),wh=Uo("animationstart"),Eh=Uo("transitionend"),Sh=new Map,Ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(n,o){Sh.set(n,o),a(o,[n])}for(var lu=0;lu<Ah.length;lu++){var uu=Ah[lu],Ka=uu.toLowerCase(),zc=uu[0].toUpperCase()+uu.slice(1);Ai(Ka,"on"+zc)}Ai(au,"onAnimationEnd"),Ai(_h,"onAnimationIteration"),Ai(wh,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(Eh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var as="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hu=new Set("cancel close invalid load scroll toggle".split(" ").concat(as));function bh(n,o,h){var f=n.type||"unknown-event";n.currentTarget=h,Ca(f,o,void 0,n),n.currentTarget=null}function cu(n,o){o=(o&4)!==0;for(var h=0;h<n.length;h++){var f=n[h],v=f.event;f=f.listeners;e:{var S=void 0;if(o)for(var M=f.length-1;0<=M;M--){var W=f[M],X=W.instance,le=W.currentTarget;if(W=W.listener,X!==S&&v.isPropagationStopped())break e;bh(v,W,le),S=X}else for(M=0;M<f.length;M++){if(W=f[M],X=W.instance,le=W.currentTarget,W=W.listener,X!==S&&v.isPropagationStopped())break e;bh(v,W,le),S=X}}}if(Os)throw n=yi,Os=!1,yi=null,n}function Rt(n,o){var h=o[Pr];h===void 0&&(h=o[Pr]=new Set);var f=n+"__bubble";h.has(f)||(fu(o,n,2,!1),h.add(f))}function du(n,o,h){var f=0;o&&(f|=4),fu(h,n,f,o)}var Za="_reactListening"+Math.random().toString(36).slice(2);function zo(n){if(!n[Za]){n[Za]=!0,r.forEach(function(h){h!=="selectionchange"&&(hu.has(h)||du(h,!1,n),du(h,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Za]||(o[Za]=!0,du("selectionchange",!1,o))}}function fu(n,o,h,f){switch(on(o)){case 1:var v=bo;break;case 4:v=To;break;default:v=Co}h=v.bind(null,o,h,n),v=void 0,!mi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),f?v!==void 0?n.addEventListener(o,h,{capture:!0,passive:v}):n.addEventListener(o,h,!0):v!==void 0?n.addEventListener(o,h,{passive:v}):n.addEventListener(o,h,!1)}function pu(n,o,h,f,v){var S=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var M=f.tag;if(M===3||M===4){var W=f.stateNode.containerInfo;if(W===v||W.nodeType===8&&W.parentNode===v)break;if(M===4)for(M=f.return;M!==null;){var X=M.tag;if((X===3||X===4)&&(X=M.stateNode.containerInfo,X===v||X.nodeType===8&&X.parentNode===v))return;M=M.return}for(;W!==null;){if(M=ls(W),M===null)return;if(X=M.tag,X===5||X===6){f=S=M;continue e}W=W.parentNode}}f=f.return}wo(function(){var le=S,we=At(h),be=[];e:{var _e=Sh.get(n);if(_e!==void 0){var Be=It,Ge=n;switch(n){case"keypress":if(za(h)===0)break e;case"keydown":case"keyup":Be=Mo;break;case"focusin":Ge="focus",Be=Ga;break;case"focusout":Ge="blur",Be=Ga;break;case"beforeblur":case"afterblur":Be=Ga;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=Nc;break;case au:case _h:case wh:Be=Jl;break;case Eh:Be=rs;break;case"scroll":Be=Hn;break;case"wheel":Be=Fc;break;case"copy":case"cut":case"paste":Be=jn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=ts}var We=(o&4)!==0,cr=!We&&n==="scroll",ee=We?_e!==null?_e+"Capture":null:_e;We=[];for(var K=le,ie;K!==null;){ie=K;var Re=ie.stateNode;if(ie.tag===5&&Re!==null&&(ie=Re,ee!==null&&(Re=Qi(K,ee),Re!=null&&We.push(Go(K,Re,ie)))),cr)break;K=K.return}0<We.length&&(_e=new Be(_e,Ge,null,h,we),be.push({event:_e,listeners:We}))}}if(!(o&7)){e:{if(_e=n==="mouseover"||n==="pointerover",Be=n==="mouseout"||n==="pointerout",_e&&h!==wt&&(Ge=h.relatedTarget||h.fromElement)&&(ls(Ge)||Ge[Vt]))break e;if((Be||_e)&&(_e=we.window===we?we:(_e=we.ownerDocument)?_e.defaultView||_e.parentWindow:window,Be?(Ge=h.relatedTarget||h.toElement,Be=le,Ge=Ge?ls(Ge):null,Ge!==null&&(cr=ei(Ge),Ge!==cr||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(Be=null,Ge=le),Be!==Ge)){if(We=lh,Re="onMouseLeave",ee="onMouseEnter",K="mouse",(n==="pointerout"||n==="pointerover")&&(We=ts,Re="onPointerLeave",ee="onPointerEnter",K="pointer"),cr=Be==null?_e:Qs(Be),ie=Ge==null?_e:Qs(Ge),_e=new We(Re,K+"leave",Be,h,we),_e.target=cr,_e.relatedTarget=ie,Re=null,ls(we)===le&&(We=new We(ee,K+"enter",Ge,h,we),We.target=ie,We.relatedTarget=cr,Re=We),cr=Re,Be&&Ge)t:{for(We=Be,ee=Ge,K=0,ie=We;ie;ie=Ho(ie))K++;for(ie=0,Re=ee;Re;Re=Ho(Re))ie++;for(;0<K-ie;)We=Ho(We),K--;for(;0<ie-K;)ee=Ho(ee),ie--;for(;K--;){if(We===ee||ee!==null&&We===ee.alternate)break t;We=Ho(We),ee=Ho(ee)}We=null}else We=null;Be!==null&&Th(be,_e,Be,We,!1),Ge!==null&&cr!==null&&Th(be,cr,Ge,We,!0)}}e:{if(_e=le?Qs(le):window,Be=_e.nodeName&&_e.nodeName.toLowerCase(),Be==="select"||Be==="input"&&_e.type==="file")var Ye=Ya;else if(Do(_e))if(an)Ye=nu;else{Ye=yh;var Ze=Uc}else(Be=_e.nodeName)&&Be.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Ye=Wt);if(Ye&&(Ye=Ye(n,le))){Xa(be,Ye,h,we);break e}Ze&&Ze(n,_e,le),n==="focusout"&&(Ze=_e._wrapperState)&&Ze.controlled&&_e.type==="number"&&Un(_e,"number",_e.value)}switch(Ze=le?Qs(le):window,n){case"focusin":(Do(Ze)||Ze.contentEditable==="true")&&(ii=Ze,xh=le,er=null);break;case"focusout":er=xh=ii=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,ou(be,h,we);break;case"selectionchange":if(qa)break;case"keydown":case"keyup":ou(be,h,we)}var Je;if(ni)e:{switch(n){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Xs?tu(n,h)&&(nt="onCompositionEnd"):n==="keydown"&&h.keyCode===229&&(nt="onCompositionStart");nt&&(Wa&&h.locale!=="ko"&&(Xs||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Xs&&(Je=es()):($r=we,xn="value"in $r?$r.value:$r.textContent,Xs=!0)),Ze=Ja(le,nt),0<Ze.length&&(nt=new Ha(nt,n,null,h,we),be.push({event:nt,listeners:Ze}),Je?nt.data=Je:(Je=Va(h),Je!==null&&(nt.data=Je)))),(Je=Bc?Oc(n,h):Lc(n,h))&&(le=Ja(le,"onBeforeInput"),0<le.length&&(we=new Ha("onBeforeInput","beforeinput",null,h,we),be.push({event:we,listeners:le}),we.data=Je))}cu(be,o)})}function Go(n,o,h){return{instance:n,listener:o,currentTarget:h}}function Ja(n,o){for(var h=o+"Capture",f=[];n!==null;){var v=n,S=v.stateNode;v.tag===5&&S!==null&&(v=S,S=Qi(n,h),S!=null&&f.unshift(Go(n,S,v)),S=Qi(n,o),S!=null&&f.push(Go(n,S,v))),n=n.return}return f}function Ho(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Th(n,o,h,f,v){for(var S=o._reactName,M=[];h!==null&&h!==f;){var W=h,X=W.alternate,le=W.stateNode;if(X!==null&&X===f)break;W.tag===5&&le!==null&&(W=le,v?(X=Qi(h,S),X!=null&&M.unshift(Go(h,X,W))):v||(X=Qi(h,S),X!=null&&M.push(Go(h,X,W)))),h=h.return}M.length!==0&&n.push({event:o,listeners:M})}var Lf=/\r\n?/g,Uf=/\u0000|\uFFFD/g;function Ch(n){return(typeof n=="string"?n:""+n).replace(Lf,`
`).replace(Uf,"")}function el(n,o,h){if(o=Ch(o),Ch(n)!==o&&h)throw Error(t(425))}function tl(){}var jo=null,Ph=null;function Ih(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Rh=typeof setTimeout=="function"?setTimeout:void 0,Wo=typeof clearTimeout=="function"?clearTimeout:void 0,mu=typeof Promise=="function"?Promise:void 0,kh=typeof queueMicrotask=="function"?queueMicrotask:typeof mu<"u"?function(n){return mu.resolve(null).then(n).catch(zf)}:Rh;function zf(n){setTimeout(function(){throw n})}function gu(n,o){var h=o,f=0;do{var v=h.nextSibling;if(n.removeChild(h),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(f===0){n.removeChild(v),Hs(o);return}f--}else h!=="$"&&h!=="$?"&&h!=="$!"||f++;h=v}while(h);Hs(o)}function bi(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function Mh(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var h=n.data;if(h==="$"||h==="$!"||h==="$?"){if(o===0)return n;o--}else h==="/$"&&o++}n=n.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Vn="__reactFiber$"+qs,rl="__reactProps$"+qs,Vt="__reactContainer$"+qs,Pr="__reactEvents$"+qs,Gc="__reactListeners$"+qs,Hc="__reactHandles$"+qs;function ls(n){var o=n[Vn];if(o)return o;for(var h=n.parentNode;h;){if(o=h[Vt]||h[Vn]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(n=Mh(n);n!==null;){if(h=n[Vn])return h;n=Mh(n)}return o}n=h,h=n.parentNode}return null}function Vo(n){return n=n[Vn]||n[Vt],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Qs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Xo(n){return n[rl]||null}var yu=[],us=-1;function Ti(n){return{current:n}}function kt(n){0>us||(n.current=yu[us],yu[us]=null,us--)}function Et(n,o){us++,yu[us]=n.current,n.current=o}var En={},lr=Ti(En),vr=Ti(!1),Ci=En;function hs(n,o){var h=n.type.contextTypes;if(!h)return En;var f=n.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var v={},S;for(S in h)v[S]=o[S];return f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=v),v}function Lr(n){return n=n.childContextTypes,n!=null}function $o(){kt(vr),kt(lr)}function nl(n,o,h){if(lr.current!==En)throw Error(t(168));Et(lr,o),Et(vr,h)}function Dh(n,o,h){var f=n.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return h;f=f.getChildContext();for(var v in f)if(!(v in o))throw Error(t(108,pe(n)||"Unknown",v));return B({},h,f)}function Yo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||En,Ci=lr.current,Et(lr,n),Et(vr,vr.current),!0}function Nh(n,o,h){var f=n.stateNode;if(!f)throw Error(t(169));h?(n=Dh(n,o,Ci),f.__reactInternalMemoizedMergedChildContext=n,kt(vr),kt(lr),Et(lr,n)):kt(vr),Et(vr,h)}var Sn=null,An=!1,bn=!1;function Fh(n){Sn===null?Sn=[n]:Sn.push(n)}function jc(n){An=!0,Fh(n)}function Tn(){if(!bn&&Sn!==null){bn=!0;var n=0,o=gt;try{var h=Sn;for(gt=1;n<h.length;n++){var f=h[n];do f=f(!0);while(f!==null)}Sn=null,An=!1}catch(v){throw Sn!==null&&(Sn=Sn.slice(n+1)),Pa(Ra,Tn),v}finally{gt=o,bn=!1}}return null}var tr=[],qo=0,vu=null,Ks=0,Tt=[],Cn=0,Ne=null,qr=1,si="";function cs(n,o){tr[qo++]=Ks,tr[qo++]=vu,vu=n,Ks=o}function Qo(n,o,h){Tt[Cn++]=qr,Tt[Cn++]=si,Tt[Cn++]=Ne,Ne=n;var f=qr;n=si;var v=32-pr(f)-1;f&=~(1<<v),h+=1;var S=32-pr(o)+v;if(30<S){var M=v-v%5;S=(f&(1<<M)-1).toString(32),f>>=M,v-=M,qr=1<<32-pr(o)+v|h<<v|f,si=S+n}else qr=1<<S|h<<v|f,si=n}function Ko(n){n.return!==null&&(cs(n,1),Qo(n,1,0))}function il(n){for(;n===vu;)vu=tr[--qo],tr[qo]=null,Ks=tr[--qo],tr[qo]=null;for(;n===Ne;)Ne=Tt[--Cn],Tt[Cn]=null,si=Tt[--Cn],Tt[Cn]=null,qr=Tt[--Cn],Tt[Cn]=null}var Qr=null,Kr=null,Bt=!1,un=null;function xu(n,o){var h=hi(5,null,null,0);h.elementType="DELETED",h.stateNode=o,h.return=n,o=n.deletions,o===null?(n.deletions=[h],n.flags|=16):o.push(h)}function Ir(n,o){switch(n.tag){case 5:var h=n.type;return o=o.nodeType!==1||h.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,Qr=n,Kr=bi(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,Qr=n,Kr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(h=Ne!==null?{id:qr,overflow:si}:null,n.memoizedState={dehydrated:o,treeContext:h,retryLane:1073741824},h=hi(18,null,null,0),h.stateNode=o,h.return=n,n.child=h,Qr=n,Kr=null,!0):!1;default:return!1}}function Pn(n){return(n.mode&1)!==0&&(n.flags&128)===0}function In(n){if(Bt){var o=Kr;if(o){var h=o;if(!Ir(n,o)){if(Pn(n))throw Error(t(418));o=bi(h.nextSibling);var f=Qr;o&&Ir(n,o)?xu(f,h):(n.flags=n.flags&-4097|2,Bt=!1,Qr=n)}}else{if(Pn(n))throw Error(t(418));n.flags=n.flags&-4097|2,Bt=!1,Qr=n}}}function _u(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Qr=n}function sl(n){if(n!==Qr)return!1;if(!Bt)return _u(n),Bt=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!Ih(n.type,n.memoizedProps)),o&&(o=Kr)){if(Pn(n))throw Rn(),Error(t(418));for(;o;)xu(n,o),o=bi(o.nextSibling)}if(_u(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var h=n.data;if(h==="/$"){if(o===0){Kr=bi(n.nextSibling);break e}o--}else h!=="$"&&h!=="$!"&&h!=="$?"||o++}n=n.nextSibling}Kr=null}}else Kr=Qr?bi(n.stateNode.nextSibling):null;return!0}function Rn(){for(var n=Kr;n;)n=bi(n.nextSibling)}function Zs(){Kr=Qr=null,Bt=!1}function kn(n){un===null?un=[n]:un.push(n)}var Gf=H.ReactCurrentBatchConfig;function Zo(n,o,h){if(n=h.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var f=h.stateNode}if(!f)throw Error(t(147,n));var v=f,S=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===S?o.ref:(o=function(M){var W=v.refs;M===null?delete W[S]:W[S]=M},o._stringRef=S,o)}if(typeof n!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,n))}return n}function ol(n,o){throw n=Object.prototype.toString.call(o),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function Bh(n){var o=n._init;return o(n._payload)}function Oh(n){function o(ee,K){if(n){var ie=ee.deletions;ie===null?(ee.deletions=[K],ee.flags|=16):ie.push(K)}}function h(ee,K){if(!n)return null;for(;K!==null;)o(ee,K),K=K.sibling;return null}function f(ee,K){for(ee=new Map;K!==null;)K.key!==null?ee.set(K.key,K):ee.set(K.index,K),K=K.sibling;return ee}function v(ee,K){return ee=la(ee,K),ee.index=0,ee.sibling=null,ee}function S(ee,K,ie){return ee.index=ie,n?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<K?(ee.flags|=2,K):ie):(ee.flags|=2,K)):(ee.flags|=1048576,K)}function M(ee){return n&&ee.alternate===null&&(ee.flags|=2),ee}function W(ee,K,ie,Re){return K===null||K.tag!==6?(K=cp(ie,ee.mode,Re),K.return=ee,K):(K=v(K,ie),K.return=ee,K)}function X(ee,K,ie,Re){var Ye=ie.type;return Ye===L?we(ee,K,ie.props.children,Re,ie.key):K!==null&&(K.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===N&&Bh(Ye)===K.type)?(Re=v(K,ie.props),Re.ref=Zo(ee,K,ie),Re.return=ee,Re):(Re=ad(ie.type,ie.key,ie.props,null,ee.mode,Re),Re.ref=Zo(ee,K,ie),Re.return=ee,Re)}function le(ee,K,ie,Re){return K===null||K.tag!==4||K.stateNode.containerInfo!==ie.containerInfo||K.stateNode.implementation!==ie.implementation?(K=dp(ie,ee.mode,Re),K.return=ee,K):(K=v(K,ie.children||[]),K.return=ee,K)}function we(ee,K,ie,Re,Ye){return K===null||K.tag!==7?(K=El(ie,ee.mode,Re,Ye),K.return=ee,K):(K=v(K,ie),K.return=ee,K)}function be(ee,K,ie){if(typeof K=="string"&&K!==""||typeof K=="number")return K=cp(""+K,ee.mode,ie),K.return=ee,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return ie=ad(K.type,K.key,K.props,null,ee.mode,ie),ie.ref=Zo(ee,null,K),ie.return=ee,ie;case V:return K=dp(K,ee.mode,ie),K.return=ee,K;case N:var Re=K._init;return be(ee,Re(K._payload),ie)}if(Sr(K)||j(K))return K=El(K,ee.mode,ie,null),K.return=ee,K;ol(ee,K)}return null}function _e(ee,K,ie,Re){var Ye=K!==null?K.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Ye!==null?null:W(ee,K,""+ie,Re);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:return ie.key===Ye?X(ee,K,ie,Re):null;case V:return ie.key===Ye?le(ee,K,ie,Re):null;case N:return Ye=ie._init,_e(ee,K,Ye(ie._payload),Re)}if(Sr(ie)||j(ie))return Ye!==null?null:we(ee,K,ie,Re,null);ol(ee,ie)}return null}function Be(ee,K,ie,Re,Ye){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return ee=ee.get(ie)||null,W(K,ee,""+Re,Ye);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case O:return ee=ee.get(Re.key===null?ie:Re.key)||null,X(K,ee,Re,Ye);case V:return ee=ee.get(Re.key===null?ie:Re.key)||null,le(K,ee,Re,Ye);case N:var Ze=Re._init;return Be(ee,K,ie,Ze(Re._payload),Ye)}if(Sr(Re)||j(Re))return ee=ee.get(ie)||null,we(K,ee,Re,Ye,null);ol(K,Re)}return null}function Ge(ee,K,ie,Re){for(var Ye=null,Ze=null,Je=K,nt=K=0,Mr=null;Je!==null&&nt<ie.length;nt++){Je.index>nt?(Mr=Je,Je=null):Mr=Je.sibling;var St=_e(ee,Je,ie[nt],Re);if(St===null){Je===null&&(Je=Mr);break}n&&Je&&St.alternate===null&&o(ee,Je),K=S(St,K,nt),Ze===null?Ye=St:Ze.sibling=St,Ze=St,Je=Mr}if(nt===ie.length)return h(ee,Je),Bt&&cs(ee,nt),Ye;if(Je===null){for(;nt<ie.length;nt++)Je=be(ee,ie[nt],Re),Je!==null&&(K=S(Je,K,nt),Ze===null?Ye=Je:Ze.sibling=Je,Ze=Je);return Bt&&cs(ee,nt),Ye}for(Je=f(ee,Je);nt<ie.length;nt++)Mr=Be(Je,ee,nt,ie[nt],Re),Mr!==null&&(n&&Mr.alternate!==null&&Je.delete(Mr.key===null?nt:Mr.key),K=S(Mr,K,nt),Ze===null?Ye=Mr:Ze.sibling=Mr,Ze=Mr);return n&&Je.forEach(function(ua){return o(ee,ua)}),Bt&&cs(ee,nt),Ye}function We(ee,K,ie,Re){var Ye=j(ie);if(typeof Ye!="function")throw Error(t(150));if(ie=Ye.call(ie),ie==null)throw Error(t(151));for(var Ze=Ye=null,Je=K,nt=K=0,Mr=null,St=ie.next();Je!==null&&!St.done;nt++,St=ie.next()){Je.index>nt?(Mr=Je,Je=null):Mr=Je.sibling;var ua=_e(ee,Je,St.value,Re);if(ua===null){Je===null&&(Je=Mr);break}n&&Je&&ua.alternate===null&&o(ee,Je),K=S(ua,K,nt),Ze===null?Ye=ua:Ze.sibling=ua,Ze=ua,Je=Mr}if(St.done)return h(ee,Je),Bt&&cs(ee,nt),Ye;if(Je===null){for(;!St.done;nt++,St=ie.next())St=be(ee,St.value,Re),St!==null&&(K=S(St,K,nt),Ze===null?Ye=St:Ze.sibling=St,Ze=St);return Bt&&cs(ee,nt),Ye}for(Je=f(ee,Je);!St.done;nt++,St=ie.next())St=Be(Je,ee,nt,St.value,Re),St!==null&&(n&&St.alternate!==null&&Je.delete(St.key===null?nt:St.key),K=S(St,K,nt),Ze===null?Ye=St:Ze.sibling=St,Ze=St);return n&&Je.forEach(function(d_){return o(ee,d_)}),Bt&&cs(ee,nt),Ye}function cr(ee,K,ie,Re){if(typeof ie=="object"&&ie!==null&&ie.type===L&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:e:{for(var Ye=ie.key,Ze=K;Ze!==null;){if(Ze.key===Ye){if(Ye=ie.type,Ye===L){if(Ze.tag===7){h(ee,Ze.sibling),K=v(Ze,ie.props.children),K.return=ee,ee=K;break e}}else if(Ze.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===N&&Bh(Ye)===Ze.type){h(ee,Ze.sibling),K=v(Ze,ie.props),K.ref=Zo(ee,Ze,ie),K.return=ee,ee=K;break e}h(ee,Ze);break}else o(ee,Ze);Ze=Ze.sibling}ie.type===L?(K=El(ie.props.children,ee.mode,Re,ie.key),K.return=ee,ee=K):(Re=ad(ie.type,ie.key,ie.props,null,ee.mode,Re),Re.ref=Zo(ee,K,ie),Re.return=ee,ee=Re)}return M(ee);case V:e:{for(Ze=ie.key;K!==null;){if(K.key===Ze)if(K.tag===4&&K.stateNode.containerInfo===ie.containerInfo&&K.stateNode.implementation===ie.implementation){h(ee,K.sibling),K=v(K,ie.children||[]),K.return=ee,ee=K;break e}else{h(ee,K);break}else o(ee,K);K=K.sibling}K=dp(ie,ee.mode,Re),K.return=ee,ee=K}return M(ee);case N:return Ze=ie._init,cr(ee,K,Ze(ie._payload),Re)}if(Sr(ie))return Ge(ee,K,ie,Re);if(j(ie))return We(ee,K,ie,Re);ol(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,K!==null&&K.tag===6?(h(ee,K.sibling),K=v(K,ie),K.return=ee,ee=K):(h(ee,K),K=cp(ie,ee.mode,Re),K.return=ee,ee=K),M(ee)):h(ee,K)}return cr}var Pi=Oh(!0),al=Oh(!1),Js=Ti(null),eo=null,Ii=null,to=null;function ll(){to=Ii=eo=null}function ul(n){var o=Js.current;kt(Js),n._currentValue=o}function hl(n,o,h){for(;n!==null;){var f=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),n===h)break;n=n.return}}function ro(n,o){eo=n,to=Ii=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&o&&(Z=!0),n.firstContext=null)}function Zr(n){var o=n._currentValue;if(to!==n)if(n={context:n,memoizedValue:o,next:null},Ii===null){if(eo===null)throw Error(t(308));Ii=n,eo.dependencies={lanes:0,firstContext:n}}else Ii=Ii.next=n;return o}var no=null;function Jo(n){no===null?no=[n]:no.push(n)}function wu(n,o,h,f){var v=o.interleaved;return v===null?(h.next=h,Jo(o)):(h.next=v.next,v.next=h),o.interleaved=h,bt(n,f)}function bt(n,o){n.lanes|=o;var h=n.alternate;for(h!==null&&(h.lanes|=o),h=n,n=n.return;n!==null;)n.childLanes|=o,h=n.alternate,h!==null&&(h.childLanes|=o),h=n,n=n.return;return h.tag===3?h.stateNode:null}var ot=!1;function rr(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qt(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ot(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function nr(n,o,h){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,_t&2){var v=f.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),f.pending=o,bt(n,h)}return v=f.interleaved,v===null?(o.next=o,Jo(f)):(o.next=v.next,v.next=o),f.interleaved=o,bt(n,h)}function Ri(n,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194240)!==0)){var f=o.lanes;f&=n.pendingLanes,h|=f,o.lanes=h,Da(n,h)}}function ir(n,o){var h=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,h===f)){var v=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var M={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?v=S=M:S=S.next=M,h=h.next}while(h!==null);S===null?v=S=o:S=S.next=o}else v=S=o;h={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:f.shared,effects:f.effects},n.updateQueue=h;return}n=h.lastBaseUpdate,n===null?h.firstBaseUpdate=o:n.next=o,h.lastBaseUpdate=o}function ds(n,o,h,f){var v=n.updateQueue;ot=!1;var S=v.firstBaseUpdate,M=v.lastBaseUpdate,W=v.shared.pending;if(W!==null){v.shared.pending=null;var X=W,le=X.next;X.next=null,M===null?S=le:M.next=le,M=X;var we=n.alternate;we!==null&&(we=we.updateQueue,W=we.lastBaseUpdate,W!==M&&(W===null?we.firstBaseUpdate=le:W.next=le,we.lastBaseUpdate=X))}if(S!==null){var be=v.baseState;M=0,we=le=X=null,W=S;do{var _e=W.lane,Be=W.eventTime;if((f&_e)===_e){we!==null&&(we=we.next={eventTime:Be,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Ge=n,We=W;switch(_e=o,Be=h,We.tag){case 1:if(Ge=We.payload,typeof Ge=="function"){be=Ge.call(Be,be,_e);break e}be=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=We.payload,_e=typeof Ge=="function"?Ge.call(Be,be,_e):Ge,_e==null)break e;be=B({},be,_e);break e;case 2:ot=!0}}W.callback!==null&&W.lane!==0&&(n.flags|=64,_e=v.effects,_e===null?v.effects=[W]:_e.push(W))}else Be={eventTime:Be,lane:_e,tag:W.tag,payload:W.payload,callback:W.callback,next:null},we===null?(le=we=Be,X=be):we=we.next=Be,M|=_e;if(W=W.next,W===null){if(W=v.shared.pending,W===null)break;_e=W,W=_e.next,_e.next=null,v.lastBaseUpdate=_e,v.shared.pending=null}}while(!0);if(we===null&&(X=be),v.baseState=X,v.firstBaseUpdate=le,v.lastBaseUpdate=we,o=v.shared.interleaved,o!==null){v=o;do M|=v.lane,v=v.next;while(v!==o)}else S===null&&(v.shared.lanes=0);vl|=M,n.lanes=M,n.memoizedState=be}}function fs(n,o,h){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var f=n[o],v=f.callback;if(v!==null){if(f.callback=null,f=h,typeof v!="function")throw Error(t(191,v));v.call(f)}}}var ps={},Mn=Ti(ps),ki=Ti(ps),xr=Ti(ps);function Mi(n){if(n===ps)throw Error(t(174));return n}function cl(n,o){switch(Et(xr,o),Et(ki,n),Et(Mn,ps),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ba(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=ba(o,n)}kt(Mn),Et(Mn,o)}function hn(){kt(Mn),kt(ki),kt(xr)}function io(n){Mi(xr.current);var o=Mi(Mn.current),h=ba(o,n.type);o!==h&&(Et(ki,n),Et(Mn,h))}function Eu(n){ki.current===n&&(kt(Mn),kt(ki))}var Mt=Ti(0);function ea(n){for(var o=n;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var oi=[];function ta(){for(var n=0;n<oi.length;n++)oi[n]._workInProgressVersionPrimary=null;oi.length=0}var Xn=H.ReactCurrentDispatcher,ra=H.ReactCurrentBatchConfig,$n=0,Lt=null,Xt=null,Kt=null,ur=!1,Dn=!1,Rr=0,Jr=0;function _r(){throw Error(t(321))}function dl(n,o){if(o===null)return!1;for(var h=0;h<o.length&&h<n.length;h++)if(!ln(n[h],o[h]))return!1;return!0}function fl(n,o,h,f,v,S){if($n=S,Lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Xn.current=n===null||n.memoizedState===null?Pu:jf,n=h(f,v),Dn){S=0;do{if(Dn=!1,Rr=0,25<=S)throw Error(t(301));S+=1,Kt=Xt=null,o.updateQueue=null,Xn.current=Wf,n=h(f,v)}while(Dn)}if(Xn.current=yl,o=Xt!==null&&Xt.next!==null,$n=0,Kt=Xt=Lt=null,ur=!1,o)throw Error(t(300));return n}function ai(){var n=Rr!==0;return Rr=0,n}function Yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Lt.memoizedState=Kt=n:Kt=Kt.next=n,Kt}function cn(){if(Xt===null){var n=Lt.alternate;n=n!==null?n.memoizedState:null}else n=Xt.next;var o=Kt===null?Lt.memoizedState:Kt.next;if(o!==null)Kt=o,Xt=n;else{if(n===null)throw Error(t(310));Xt=n,n={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Kt===null?Lt.memoizedState=Kt=n:Kt=Kt.next=n}return Kt}function so(n,o){return typeof o=="function"?o(n):o}function Di(n){var o=cn(),h=o.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=n;var f=Xt,v=f.baseQueue,S=h.pending;if(S!==null){if(v!==null){var M=v.next;v.next=S.next,S.next=M}f.baseQueue=v=S,h.pending=null}if(v!==null){S=v.next,f=f.baseState;var W=M=null,X=null,le=S;do{var we=le.lane;if(($n&we)===we)X!==null&&(X=X.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),f=le.hasEagerState?le.eagerState:n(f,le.action);else{var be={lane:we,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};X===null?(W=X=be,M=f):X=X.next=be,Lt.lanes|=we,vl|=we}le=le.next}while(le!==null&&le!==S);X===null?M=f:X.next=W,ln(f,o.memoizedState)||(Z=!0),o.memoizedState=f,o.baseState=M,o.baseQueue=X,h.lastRenderedState=f}if(n=h.interleaved,n!==null){v=n;do S=v.lane,Lt.lanes|=S,vl|=S,v=v.next;while(v!==n)}else v===null&&(h.lanes=0);return[o.memoizedState,h.dispatch]}function Su(n){var o=cn(),h=o.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=n;var f=h.dispatch,v=h.pending,S=o.memoizedState;if(v!==null){h.pending=null;var M=v=v.next;do S=n(S,M.action),M=M.next;while(M!==v);ln(S,o.memoizedState)||(Z=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),h.lastRenderedState=S}return[S,f]}function Lh(){}function Au(n,o){var h=Lt,f=cn(),v=o(),S=!ln(f.memoizedState,v);if(S&&(f.memoizedState=v,Z=!0),f=f.queue,jh(Vc.bind(null,h,f,n),[n]),f.getSnapshot!==o||S||Kt!==null&&Kt.memoizedState.tag&1){if(h.flags|=2048,qn(9,Wc.bind(null,h,f,v,o),void 0,null),kr===null)throw Error(t(349));$n&30||pl(h,o,v)}return v}function pl(n,o,h){n.flags|=16384,n={getSnapshot:o,value:h},o=Lt.updateQueue,o===null?(o={lastEffect:null,stores:null},Lt.updateQueue=o,o.stores=[n]):(h=o.stores,h===null?o.stores=[n]:h.push(n))}function Wc(n,o,h,f){o.value=h,o.getSnapshot=f,Uh(o)&&zh(n)}function Vc(n,o,h){return h(function(){Uh(o)&&zh(n)})}function Uh(n){var o=n.getSnapshot;n=n.value;try{var h=o();return!ln(n,h)}catch{return!0}}function zh(n){var o=bt(n,1);o!==null&&Oi(o,n,1,-1)}function oo(n){var o=Yn();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:n},o.queue=n,n=n.dispatch=Hf.bind(null,Lt,n),[o.memoizedState,n]}function qn(n,o,h,f){return n={tag:n,create:o,destroy:h,deps:f,next:null},o=Lt.updateQueue,o===null?(o={lastEffect:null,stores:null},Lt.updateQueue=o,o.lastEffect=n.next=n):(h=o.lastEffect,h===null?o.lastEffect=n.next=n:(f=h.next,h.next=n,n.next=f,o.lastEffect=n)),n}function Gh(){return cn().memoizedState}function Ct(n,o,h,f){var v=Yn();Lt.flags|=n,v.memoizedState=qn(1|o,h,void 0,f===void 0?null:f)}function bu(n,o,h,f){var v=cn();f=f===void 0?null:f;var S=void 0;if(Xt!==null){var M=Xt.memoizedState;if(S=M.destroy,f!==null&&dl(f,M.deps)){v.memoizedState=qn(o,h,S,f);return}}Lt.flags|=n,v.memoizedState=qn(1|o,h,S,f)}function Hh(n,o){return Ct(8390656,8,n,o)}function jh(n,o){return bu(2048,8,n,o)}function Xc(n,o){return bu(4,2,n,o)}function Wh(n,o){return bu(4,4,n,o)}function $c(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function dn(n,o,h){return h=h!=null?h.concat([n]):null,bu(4,4,$c.bind(null,o,n),h)}function ml(){}function Ni(n,o){var h=cn();o=o===void 0?null:o;var f=h.memoizedState;return f!==null&&o!==null&&dl(o,f[1])?f[0]:(h.memoizedState=[n,o],n)}function gl(n,o){var h=cn();o=o===void 0?null:o;var f=h.memoizedState;return f!==null&&o!==null&&dl(o,f[1])?f[0]:(n=n(),h.memoizedState=[n,o],n)}function ms(n,o,h){return $n&21?(ln(h,o)||(h=yn(),Lt.lanes|=h,vl|=h,n.baseState=!0),o):(n.baseState&&(n.baseState=!1,Z=!0),n.memoizedState=h)}function Tu(n,o){var h=gt;gt=h!==0&&4>h?h:4,n(!0);var f=ra.transition;ra.transition={};try{n(!1),o()}finally{gt=h,ra.transition=f}}function Cu(){return cn().memoizedState}function Vh(n,o,h){var f=oa(n);if(h={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null},Xh(n))$h(o,h);else if(h=wu(n,o,h,f),h!==null){var v=fn();Oi(h,n,f,v),Yh(h,o,f)}}function Hf(n,o,h){var f=oa(n),v={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null};if(Xh(n))$h(o,v);else{var S=n.alternate;if(n.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var M=o.lastRenderedState,W=S(M,h);if(v.hasEagerState=!0,v.eagerState=W,ln(W,M)){var X=o.interleaved;X===null?(v.next=v,Jo(o)):(v.next=X.next,X.next=v),o.interleaved=v;return}}catch{}finally{}h=wu(n,o,v,f),h!==null&&(v=fn(),Oi(h,n,f,v),Yh(h,o,f))}}function Xh(n){var o=n.alternate;return n===Lt||o!==null&&o===Lt}function $h(n,o){Dn=ur=!0;var h=n.pending;h===null?o.next=o:(o.next=h.next,h.next=o),n.pending=o}function Yh(n,o,h){if(h&4194240){var f=o.lanes;f&=n.pendingLanes,h|=f,o.lanes=h,Da(n,h)}}var yl={readContext:Zr,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},Pu={readContext:Zr,useCallback:function(n,o){return Yn().memoizedState=[n,o===void 0?null:o],n},useContext:Zr,useEffect:Hh,useImperativeHandle:function(n,o,h){return h=h!=null?h.concat([n]):null,Ct(4194308,4,$c.bind(null,o,n),h)},useLayoutEffect:function(n,o){return Ct(4194308,4,n,o)},useInsertionEffect:function(n,o){return Ct(4,2,n,o)},useMemo:function(n,o){var h=Yn();return o=o===void 0?null:o,n=n(),h.memoizedState=[n,o],n},useReducer:function(n,o,h){var f=Yn();return o=h!==void 0?h(o):o,f.memoizedState=f.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},f.queue=n,n=n.dispatch=Vh.bind(null,Lt,n),[f.memoizedState,n]},useRef:function(n){var o=Yn();return n={current:n},o.memoizedState=n},useState:oo,useDebugValue:ml,useDeferredValue:function(n){return Yn().memoizedState=n},useTransition:function(){var n=oo(!1),o=n[0];return n=Tu.bind(null,n[1]),Yn().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,h){var f=Lt,v=Yn();if(Bt){if(h===void 0)throw Error(t(407));h=h()}else{if(h=o(),kr===null)throw Error(t(349));$n&30||pl(f,o,h)}v.memoizedState=h;var S={value:h,getSnapshot:o};return v.queue=S,Hh(Vc.bind(null,f,S,n),[n]),f.flags|=2048,qn(9,Wc.bind(null,f,S,h,o),void 0,null),h},useId:function(){var n=Yn(),o=kr.identifierPrefix;if(Bt){var h=si,f=qr;h=(f&~(1<<32-pr(f)-1)).toString(32)+h,o=":"+o+"R"+h,h=Rr++,0<h&&(o+="H"+h.toString(32)),o+=":"}else h=Jr++,o=":"+o+"r"+h.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},jf={readContext:Zr,useCallback:Ni,useContext:Zr,useEffect:jh,useImperativeHandle:dn,useInsertionEffect:Xc,useLayoutEffect:Wh,useMemo:gl,useReducer:Di,useRef:Gh,useState:function(){return Di(so)},useDebugValue:ml,useDeferredValue:function(n){var o=cn();return ms(o,Xt.memoizedState,n)},useTransition:function(){var n=Di(so)[0],o=cn().memoizedState;return[n,o]},useMutableSource:Lh,useSyncExternalStore:Au,useId:Cu,unstable_isNewReconciler:!1},Wf={readContext:Zr,useCallback:Ni,useContext:Zr,useEffect:jh,useImperativeHandle:dn,useInsertionEffect:Xc,useLayoutEffect:Wh,useMemo:gl,useReducer:Su,useRef:Gh,useState:function(){return Su(so)},useDebugValue:ml,useDeferredValue:function(n){var o=cn();return Xt===null?o.memoizedState=n:ms(o,Xt.memoizedState,n)},useTransition:function(){var n=Su(so)[0],o=cn().memoizedState;return[n,o]},useMutableSource:Lh,useSyncExternalStore:Au,useId:Cu,unstable_isNewReconciler:!1};function l(n,o){if(n&&n.defaultProps){o=B({},o),n=n.defaultProps;for(var h in n)o[h]===void 0&&(o[h]=n[h]);return o}return o}function u(n,o,h,f){o=n.memoizedState,h=h(f,o),h=h==null?o:B({},o,h),n.memoizedState=h,n.lanes===0&&(n.updateQueue.baseState=h)}var m={isMounted:function(n){return(n=n._reactInternals)?ei(n)===n:!1},enqueueSetState:function(n,o,h){n=n._reactInternals;var f=fn(),v=oa(n),S=Ot(f,v);S.payload=o,h!=null&&(S.callback=h),o=nr(n,S,v),o!==null&&(Oi(o,n,v,f),Ri(o,n,v))},enqueueReplaceState:function(n,o,h){n=n._reactInternals;var f=fn(),v=oa(n),S=Ot(f,v);S.tag=1,S.payload=o,h!=null&&(S.callback=h),o=nr(n,S,v),o!==null&&(Oi(o,n,v,f),Ri(o,n,v))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var h=fn(),f=oa(n),v=Ot(h,f);v.tag=2,o!=null&&(v.callback=o),o=nr(n,v,f),o!==null&&(Oi(o,n,f,h),Ri(o,n,f))}};function x(n,o,h,f,v,S,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,S,M):o.prototype&&o.prototype.isPureReactComponent?!ss(h,f)||!ss(v,S):!0}function E(n,o,h){var f=!1,v=En,S=o.contextType;return typeof S=="object"&&S!==null?S=Zr(S):(v=Lr(o)?Ci:lr.current,f=o.contextTypes,S=(f=f!=null)?hs(n,v):En),o=new o(h,S),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=m,n.stateNode=o,o._reactInternals=n,f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=v,n.__reactInternalMemoizedMaskedChildContext=S),o}function C(n,o,h,f){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,f),o.state!==n&&m.enqueueReplaceState(o,o.state,null)}function U(n,o,h,f){var v=n.stateNode;v.props=h,v.state=n.memoizedState,v.refs={},rr(n);var S=o.contextType;typeof S=="object"&&S!==null?v.context=Zr(S):(S=Lr(o)?Ci:lr.current,v.context=hs(n,S)),v.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(u(n,o,S,h),v.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&m.enqueueReplaceState(v,v.state,null),ds(n,h,v,f),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308)}function $(n,o){try{var h="",f=o;do h+=de(f),f=f.return;while(f);var v=h}catch(S){v=`
Error generating stack: `+S.message+`
`+S.stack}return{value:n,source:o,stack:v,digest:null}}function re(n,o,h){return{value:n,source:null,stack:h??null,digest:o??null}}function fe(n,o){try{console.error(o.value)}catch(h){setTimeout(function(){throw h})}}var ye=typeof WeakMap=="function"?WeakMap:Map;function Me(n,o,h){h=Ot(-1,h),h.tag=3,h.payload={element:null};var f=o.value;return h.callback=function(){td||(td=!0,np=f),fe(n,o)},h}function ge(n,o,h){h=Ot(-1,h),h.tag=3;var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var v=o.value;h.payload=function(){return f(v)},h.callback=function(){fe(n,o)}}var S=n.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){fe(n,o),typeof f!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})}),h}function Pe(n,o,h){var f=n.pingCache;if(f===null){f=n.pingCache=new ye;var v=new Set;f.set(o,v)}else v=f.get(o),v===void 0&&(v=new Set,f.set(o,v));v.has(h)||(v.add(h),n=r_.bind(null,n,o,h),o.then(n,n))}function ze(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function at(n,o,h,f,v){return n.mode&1?(n.flags|=65536,n.lanes=v,n):(n===o?n.flags|=65536:(n.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(o=Ot(-1,1),o.tag=2,nr(h,o,1))),h.lanes|=1),n)}var ve=H.ReactCurrentOwner,Z=!1;function ue(n,o,h,f){o.child=n===null?al(o,null,h,f):Pi(o,n.child,h,f)}function Se(n,o,h,f,v){h=h.render;var S=o.ref;return ro(o,v),f=fl(n,o,h,f,S,v),h=ai(),n!==null&&!Z?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~v,ao(n,o,v)):(Bt&&h&&Ko(o),o.flags|=1,ue(n,o,f,v),o.child)}function Qe(n,o,h,f,v){if(n===null){var S=h.type;return typeof S=="function"&&!hp(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(o.tag=15,o.type=S,vt(n,o,S,f,v)):(n=ad(h.type,null,f,o,o.mode,v),n.ref=o.ref,n.return=o,o.child=n)}if(S=n.child,!(n.lanes&v)){var M=S.memoizedProps;if(h=h.compare,h=h!==null?h:ss,h(M,f)&&n.ref===o.ref)return ao(n,o,v)}return o.flags|=1,n=la(S,f),n.ref=o.ref,n.return=o,o.child=n}function vt(n,o,h,f,v){if(n!==null){var S=n.memoizedProps;if(ss(S,f)&&n.ref===o.ref)if(Z=!1,o.pendingProps=f=S,(n.lanes&v)!==0)n.flags&131072&&(Z=!0);else return o.lanes=n.lanes,ao(n,o,v)}return hr(n,o,h,f,v)}function He(n,o,h){var f=o.pendingProps,v=f.children,S=n!==null?n.memoizedState:null;if(f.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Ru,Qn),Qn|=h;else{if(!(h&1073741824))return n=S!==null?S.baseLanes|h:h,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,Et(Ru,Qn),Qn|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=S!==null?S.baseLanes:h,Et(Ru,Qn),Qn|=f}else S!==null?(f=S.baseLanes|h,o.memoizedState=null):f=h,Et(Ru,Qn),Qn|=f;return ue(n,o,v,h),o.child}function yt(n,o){var h=o.ref;(n===null&&h!==null||n!==null&&n.ref!==h)&&(o.flags|=512,o.flags|=2097152)}function hr(n,o,h,f,v){var S=Lr(h)?Ci:lr.current;return S=hs(o,S),ro(o,v),h=fl(n,o,h,f,S,v),f=ai(),n!==null&&!Z?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~v,ao(n,o,v)):(Bt&&f&&Ko(o),o.flags|=1,ue(n,o,h,v),o.child)}function xt(n,o,h,f,v){if(Lr(h)){var S=!0;Yo(o)}else S=!1;if(ro(o,v),o.stateNode===null)Qc(n,o),E(o,h,f),U(o,h,f,v),f=!0;else if(n===null){var M=o.stateNode,W=o.memoizedProps;M.props=W;var X=M.context,le=h.contextType;typeof le=="object"&&le!==null?le=Zr(le):(le=Lr(h)?Ci:lr.current,le=hs(o,le));var we=h.getDerivedStateFromProps,be=typeof we=="function"||typeof M.getSnapshotBeforeUpdate=="function";be||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(W!==f||X!==le)&&C(o,M,f,le),ot=!1;var _e=o.memoizedState;M.state=_e,ds(o,f,M,v),X=o.memoizedState,W!==f||_e!==X||vr.current||ot?(typeof we=="function"&&(u(o,h,we,f),X=o.memoizedState),(W=ot||x(o,h,W,f,_e,X,le))?(be||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(o.flags|=4194308)):(typeof M.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=X),M.props=f,M.state=X,M.context=le,f=W):(typeof M.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{M=o.stateNode,Qt(n,o),W=o.memoizedProps,le=o.type===o.elementType?W:l(o.type,W),M.props=le,be=o.pendingProps,_e=M.context,X=h.contextType,typeof X=="object"&&X!==null?X=Zr(X):(X=Lr(h)?Ci:lr.current,X=hs(o,X));var Be=h.getDerivedStateFromProps;(we=typeof Be=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(W!==be||_e!==X)&&C(o,M,f,X),ot=!1,_e=o.memoizedState,M.state=_e,ds(o,f,M,v);var Ge=o.memoizedState;W!==be||_e!==Ge||vr.current||ot?(typeof Be=="function"&&(u(o,h,Be,f),Ge=o.memoizedState),(le=ot||x(o,h,le,f,_e,Ge,X)||!1)?(we||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(f,Ge,X),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(f,Ge,X)),typeof M.componentDidUpdate=="function"&&(o.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof M.componentDidUpdate!="function"||W===n.memoizedProps&&_e===n.memoizedState||(o.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||W===n.memoizedProps&&_e===n.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Ge),M.props=f,M.state=Ge,M.context=X,f=le):(typeof M.componentDidUpdate!="function"||W===n.memoizedProps&&_e===n.memoizedState||(o.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||W===n.memoizedProps&&_e===n.memoizedState||(o.flags|=1024),f=!1)}return li(n,o,h,f,S,v)}function li(n,o,h,f,v,S){yt(n,o);var M=(o.flags&128)!==0;if(!f&&!M)return v&&Nh(o,h,!1),ao(n,o,S);f=o.stateNode,ve.current=o;var W=M&&typeof h.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,n!==null&&M?(o.child=Pi(o,n.child,null,S),o.child=Pi(o,null,W,S)):ue(n,o,W,S),o.memoizedState=f.state,v&&Nh(o,h,!0),o.child}function Yc(n){var o=n.stateNode;o.pendingContext?nl(n,o.pendingContext,o.pendingContext!==o.context):o.context&&nl(n,o.context,!1),cl(n,o.containerInfo)}function $0(n,o,h,f,v){return Zs(),kn(v),o.flags|=256,ue(n,o,h,f),o.child}var Vf={dehydrated:null,treeContext:null,retryLane:0};function Xf(n){return{baseLanes:n,cachePool:null,transitions:null}}function Y0(n,o,h){var f=o.pendingProps,v=Mt.current,S=!1,M=(o.flags&128)!==0,W;if((W=M)||(W=n!==null&&n.memoizedState===null?!1:(v&2)!==0),W?(S=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(v|=1),Et(Mt,v&1),n===null)return In(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(o.mode&1?n.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(M=f.children,n=f.fallback,S?(f=o.mode,S=o.child,M={mode:"hidden",children:M},!(f&1)&&S!==null?(S.childLanes=0,S.pendingProps=M):S=ld(M,f,0,null),n=El(n,f,h,null),S.return=o,n.return=o,S.sibling=n,o.child=S,o.child.memoizedState=Xf(h),o.memoizedState=Vf,n):$f(o,M));if(v=n.memoizedState,v!==null&&(W=v.dehydrated,W!==null))return Wx(n,o,M,f,W,v,h);if(S){S=f.fallback,M=o.mode,v=n.child,W=v.sibling;var X={mode:"hidden",children:f.children};return!(M&1)&&o.child!==v?(f=o.child,f.childLanes=0,f.pendingProps=X,o.deletions=null):(f=la(v,X),f.subtreeFlags=v.subtreeFlags&14680064),W!==null?S=la(W,S):(S=El(S,M,h,null),S.flags|=2),S.return=o,f.return=o,f.sibling=S,o.child=f,f=S,S=o.child,M=n.child.memoizedState,M=M===null?Xf(h):{baseLanes:M.baseLanes|h,cachePool:null,transitions:M.transitions},S.memoizedState=M,S.childLanes=n.childLanes&~h,o.memoizedState=Vf,f}return S=n.child,n=S.sibling,f=la(S,{mode:"visible",children:f.children}),!(o.mode&1)&&(f.lanes=h),f.return=o,f.sibling=null,n!==null&&(h=o.deletions,h===null?(o.deletions=[n],o.flags|=16):h.push(n)),o.child=f,o.memoizedState=null,f}function $f(n,o){return o=ld({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function qc(n,o,h,f){return f!==null&&kn(f),Pi(o,n.child,null,h),n=$f(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Wx(n,o,h,f,v,S,M){if(h)return o.flags&256?(o.flags&=-257,f=re(Error(t(422))),qc(n,o,M,f)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(S=f.fallback,v=o.mode,f=ld({mode:"visible",children:f.children},v,0,null),S=El(S,v,M,null),S.flags|=2,f.return=o,S.return=o,f.sibling=S,o.child=f,o.mode&1&&Pi(o,n.child,null,M),o.child.memoizedState=Xf(M),o.memoizedState=Vf,S);if(!(o.mode&1))return qc(n,o,M,null);if(v.data==="$!"){if(f=v.nextSibling&&v.nextSibling.dataset,f)var W=f.dgst;return f=W,S=Error(t(419)),f=re(S,f,void 0),qc(n,o,M,f)}if(W=(M&n.childLanes)!==0,Z||W){if(f=kr,f!==null){switch(M&-M){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(f.suspendedLanes|M)?0:v,v!==0&&v!==S.retryLane&&(S.retryLane=v,bt(n,v),Oi(f,n,v,-1))}return up(),f=re(Error(t(421))),qc(n,o,M,f)}return v.data==="$?"?(o.flags|=128,o.child=n.child,o=n_.bind(null,n),v._reactRetry=o,null):(n=S.treeContext,Kr=bi(v.nextSibling),Qr=o,Bt=!0,un=null,n!==null&&(Tt[Cn++]=qr,Tt[Cn++]=si,Tt[Cn++]=Ne,qr=n.id,si=n.overflow,Ne=o),o=$f(o,f.children),o.flags|=4096,o)}function q0(n,o,h){n.lanes|=o;var f=n.alternate;f!==null&&(f.lanes|=o),hl(n.return,o,h)}function Yf(n,o,h,f,v){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:h,tailMode:v}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=f,S.tail=h,S.tailMode=v)}function Q0(n,o,h){var f=o.pendingProps,v=f.revealOrder,S=f.tail;if(ue(n,o,f.children,h),f=Mt.current,f&2)f=f&1|2,o.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&q0(n,h,o);else if(n.tag===19)q0(n,h,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}if(Et(Mt,f),!(o.mode&1))o.memoizedState=null;else switch(v){case"forwards":for(h=o.child,v=null;h!==null;)n=h.alternate,n!==null&&ea(n)===null&&(v=h),h=h.sibling;h=v,h===null?(v=o.child,o.child=null):(v=h.sibling,h.sibling=null),Yf(o,!1,v,h,S);break;case"backwards":for(h=null,v=o.child,o.child=null;v!==null;){if(n=v.alternate,n!==null&&ea(n)===null){o.child=v;break}n=v.sibling,v.sibling=h,h=v,v=n}Yf(o,!0,h,null,S);break;case"together":Yf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Qc(n,o){!(o.mode&1)&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function ao(n,o,h){if(n!==null&&(o.dependencies=n.dependencies),vl|=o.lanes,!(h&o.childLanes))return null;if(n!==null&&o.child!==n.child)throw Error(t(153));if(o.child!==null){for(n=o.child,h=la(n,n.pendingProps),o.child=h,h.return=o;n.sibling!==null;)n=n.sibling,h=h.sibling=la(n,n.pendingProps),h.return=o;h.sibling=null}return o.child}function Vx(n,o,h){switch(o.tag){case 3:Yc(o),Zs();break;case 5:io(o);break;case 1:Lr(o.type)&&Yo(o);break;case 4:cl(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,v=o.memoizedProps.value;Et(Js,f._currentValue),f._currentValue=v;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Et(Mt,Mt.current&1),o.flags|=128,null):h&o.child.childLanes?Y0(n,o,h):(Et(Mt,Mt.current&1),n=ao(n,o,h),n!==null?n.sibling:null);Et(Mt,Mt.current&1);break;case 19:if(f=(h&o.childLanes)!==0,n.flags&128){if(f)return Q0(n,o,h);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Et(Mt,Mt.current),f)break;return null;case 22:case 23:return o.lanes=0,He(n,o,h)}return ao(n,o,h)}var K0,qf,Z0,J0;K0=function(n,o){for(var h=o.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},qf=function(){},Z0=function(n,o,h,f){var v=n.memoizedProps;if(v!==f){n=o.stateNode,Mi(Mn.current);var S=null;switch(h){case"input":v=pt(n,v),f=pt(n,f),S=[];break;case"select":v=B({},v,{value:void 0}),f=B({},f,{value:void 0}),S=[];break;case"textarea":v=Sa(n,v),f=Sa(n,f),S=[];break;default:typeof v.onClick!="function"&&typeof f.onClick=="function"&&(n.onclick=tl)}ae(h,f);var M;h=null;for(le in v)if(!f.hasOwnProperty(le)&&v.hasOwnProperty(le)&&v[le]!=null)if(le==="style"){var W=v[le];for(M in W)W.hasOwnProperty(M)&&(h||(h={}),h[M]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(s.hasOwnProperty(le)?S||(S=[]):(S=S||[]).push(le,null));for(le in f){var X=f[le];if(W=v!=null?v[le]:void 0,f.hasOwnProperty(le)&&X!==W&&(X!=null||W!=null))if(le==="style")if(W){for(M in W)!W.hasOwnProperty(M)||X&&X.hasOwnProperty(M)||(h||(h={}),h[M]="");for(M in X)X.hasOwnProperty(M)&&W[M]!==X[M]&&(h||(h={}),h[M]=X[M])}else h||(S||(S=[]),S.push(le,h)),h=X;else le==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,W=W?W.__html:void 0,X!=null&&W!==X&&(S=S||[]).push(le,X)):le==="children"?typeof X!="string"&&typeof X!="number"||(S=S||[]).push(le,""+X):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(s.hasOwnProperty(le)?(X!=null&&le==="onScroll"&&Rt("scroll",n),S||W===X||(S=[])):(S=S||[]).push(le,X))}h&&(S=S||[]).push("style",h);var le=S;(o.updateQueue=le)&&(o.flags|=4)}},J0=function(n,o,h,f){h!==f&&(o.flags|=4)};function qh(n,o){if(!Bt)switch(n.tailMode){case"hidden":o=n.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?n.tail=null:h.sibling=null;break;case"collapsed":h=n.tail;for(var f=null;h!==null;)h.alternate!==null&&(f=h),h=h.sibling;f===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function en(n){var o=n.alternate!==null&&n.alternate.child===n.child,h=0,f=0;if(o)for(var v=n.child;v!==null;)h|=v.lanes|v.childLanes,f|=v.subtreeFlags&14680064,f|=v.flags&14680064,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)h|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=f,n.childLanes=h,o}function Xx(n,o,h){var f=o.pendingProps;switch(il(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(o),null;case 1:return Lr(o.type)&&$o(),en(o),null;case 3:return f=o.stateNode,hn(),kt(vr),kt(lr),ta(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(sl(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,un!==null&&(op(un),un=null))),qf(n,o),en(o),null;case 5:Eu(o);var v=Mi(xr.current);if(h=o.type,n!==null&&o.stateNode!=null)Z0(n,o,h,f,v),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return en(o),null}if(n=Mi(Mn.current),sl(o)){f=o.stateNode,h=o.type;var S=o.memoizedProps;switch(f[Vn]=o,f[rl]=S,n=(o.mode&1)!==0,h){case"dialog":Rt("cancel",f),Rt("close",f);break;case"iframe":case"object":case"embed":Rt("load",f);break;case"video":case"audio":for(v=0;v<as.length;v++)Rt(as[v],f);break;case"source":Rt("error",f);break;case"img":case"image":case"link":Rt("error",f),Rt("load",f);break;case"details":Rt("toggle",f);break;case"input":Xe(f,S),Rt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!S.multiple},Rt("invalid",f);break;case"textarea":Ul(f,S),Rt("invalid",f)}ae(h,S),v=null;for(var M in S)if(S.hasOwnProperty(M)){var W=S[M];M==="children"?typeof W=="string"?f.textContent!==W&&(S.suppressHydrationWarning!==!0&&el(f.textContent,W,n),v=["children",W]):typeof W=="number"&&f.textContent!==""+W&&(S.suppressHydrationWarning!==!0&&el(f.textContent,W,n),v=["children",""+W]):s.hasOwnProperty(M)&&W!=null&&M==="onScroll"&&Rt("scroll",f)}switch(h){case"input":Fe(f),Yt(f,S,!0);break;case"textarea":Fe(f),zl(f);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(f.onclick=tl)}f=v,o.updateQueue=f,f!==null&&(o.flags|=4)}else{M=v.nodeType===9?v:v.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Aa(h)),n==="http://www.w3.org/1999/xhtml"?h==="script"?(n=M.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof f.is=="string"?n=M.createElement(h,{is:f.is}):(n=M.createElement(h),h==="select"&&(M=n,f.multiple?M.multiple=!0:f.size&&(M.size=f.size))):n=M.createElementNS(n,h),n[Vn]=o,n[rl]=f,K0(n,o,!1,!1),o.stateNode=n;e:{switch(M=ut(h,f),h){case"dialog":Rt("cancel",n),Rt("close",n),v=f;break;case"iframe":case"object":case"embed":Rt("load",n),v=f;break;case"video":case"audio":for(v=0;v<as.length;v++)Rt(as[v],n);v=f;break;case"source":Rt("error",n),v=f;break;case"img":case"image":case"link":Rt("error",n),Rt("load",n),v=f;break;case"details":Rt("toggle",n),v=f;break;case"input":Xe(n,f),v=pt(n,f),Rt("invalid",n);break;case"option":v=f;break;case"select":n._wrapperState={wasMultiple:!!f.multiple},v=B({},f,{value:void 0}),Rt("invalid",n);break;case"textarea":Ul(n,f),v=Sa(n,f),Rt("invalid",n);break;default:v=f}ae(h,v),W=v;for(S in W)if(W.hasOwnProperty(S)){var X=W[S];S==="style"?Ds(n,X):S==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&xo(n,X)):S==="children"?typeof X=="string"?(h!=="textarea"||X!=="")&&qi(n,X):typeof X=="number"&&qi(n,""+X):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(s.hasOwnProperty(S)?X!=null&&S==="onScroll"&&Rt("scroll",n):X!=null&&D(n,S,X,M))}switch(h){case"input":Fe(n),Yt(n,f,!1);break;case"textarea":Fe(n),zl(n);break;case"option":f.value!=null&&n.setAttribute("value",""+xe(f.value));break;case"select":n.multiple=!!f.multiple,S=f.value,S!=null?rn(n,!!f.multiple,S,!1):f.defaultValue!=null&&rn(n,!!f.multiple,f.defaultValue,!0);break;default:typeof v.onClick=="function"&&(n.onclick=tl)}switch(h){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return en(o),null;case 6:if(n&&o.stateNode!=null)J0(n,o,n.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(h=Mi(xr.current),Mi(Mn.current),sl(o)){if(f=o.stateNode,h=o.memoizedProps,f[Vn]=o,(S=f.nodeValue!==h)&&(n=Qr,n!==null))switch(n.tag){case 3:el(f.nodeValue,h,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&el(f.nodeValue,h,(n.mode&1)!==0)}S&&(o.flags|=4)}else f=(h.nodeType===9?h:h.ownerDocument).createTextNode(f),f[Vn]=o,o.stateNode=f}return en(o),null;case 13:if(kt(Mt),f=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Bt&&Kr!==null&&o.mode&1&&!(o.flags&128))Rn(),Zs(),o.flags|=98560,S=!1;else if(S=sl(o),f!==null&&f.dehydrated!==null){if(n===null){if(!S)throw Error(t(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(t(317));S[Vn]=o}else Zs(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;en(o),S=!1}else un!==null&&(op(un),un=null),S=!0;if(!S)return o.flags&65536?o:null}return o.flags&128?(o.lanes=h,o):(f=f!==null,f!==(n!==null&&n.memoizedState!==null)&&f&&(o.child.flags|=8192,o.mode&1&&(n===null||Mt.current&1?wr===0&&(wr=3):up())),o.updateQueue!==null&&(o.flags|=4),en(o),null);case 4:return hn(),qf(n,o),n===null&&zo(o.stateNode.containerInfo),en(o),null;case 10:return ul(o.type._context),en(o),null;case 17:return Lr(o.type)&&$o(),en(o),null;case 19:if(kt(Mt),S=o.memoizedState,S===null)return en(o),null;if(f=(o.flags&128)!==0,M=S.rendering,M===null)if(f)qh(S,!1);else{if(wr!==0||n!==null&&n.flags&128)for(n=o.child;n!==null;){if(M=ea(n),M!==null){for(o.flags|=128,qh(S,!1),f=M.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=h,h=o.child;h!==null;)S=h,n=f,S.flags&=14680066,M=S.alternate,M===null?(S.childLanes=0,S.lanes=n,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=M.childLanes,S.lanes=M.lanes,S.child=M.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=M.memoizedProps,S.memoizedState=M.memoizedState,S.updateQueue=M.updateQueue,S.type=M.type,n=M.dependencies,S.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),h=h.sibling;return Et(Mt,Mt.current&1|2),o.child}n=n.sibling}S.tail!==null&&qt()>ku&&(o.flags|=128,f=!0,qh(S,!1),o.lanes=4194304)}else{if(!f)if(n=ea(M),n!==null){if(o.flags|=128,f=!0,h=n.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),qh(S,!0),S.tail===null&&S.tailMode==="hidden"&&!M.alternate&&!Bt)return en(o),null}else 2*qt()-S.renderingStartTime>ku&&h!==1073741824&&(o.flags|=128,f=!0,qh(S,!1),o.lanes=4194304);S.isBackwards?(M.sibling=o.child,o.child=M):(h=S.last,h!==null?h.sibling=M:o.child=M,S.last=M)}return S.tail!==null?(o=S.tail,S.rendering=o,S.tail=o.sibling,S.renderingStartTime=qt(),o.sibling=null,h=Mt.current,Et(Mt,f?h&1|2:h&1),o):(en(o),null);case 22:case 23:return lp(),f=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==f&&(o.flags|=8192),f&&o.mode&1?Qn&1073741824&&(en(o),o.subtreeFlags&6&&(o.flags|=8192)):en(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function $x(n,o){switch(il(o),o.tag){case 1:return Lr(o.type)&&$o(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return hn(),kt(vr),kt(lr),ta(),n=o.flags,n&65536&&!(n&128)?(o.flags=n&-65537|128,o):null;case 5:return Eu(o),null;case 13:if(kt(Mt),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Zs()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return kt(Mt),null;case 4:return hn(),null;case 10:return ul(o.type._context),null;case 22:case 23:return lp(),null;case 24:return null;default:return null}}var Kc=!1,tn=!1,Yx=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Iu(n,o){var h=n.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(f){sr(n,o,f)}else h.current=null}function Qf(n,o,h){try{h()}catch(f){sr(n,o,f)}}var eg=!1;function qx(n,o){if(jo=sn,n=ar(),Jt(n)){if("selectionStart"in n)var h={start:n.selectionStart,end:n.selectionEnd};else e:{h=(h=n.ownerDocument)&&h.defaultView||window;var f=h.getSelection&&h.getSelection();if(f&&f.rangeCount!==0){h=f.anchorNode;var v=f.anchorOffset,S=f.focusNode;f=f.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var M=0,W=-1,X=-1,le=0,we=0,be=n,_e=null;t:for(;;){for(var Be;be!==h||v!==0&&be.nodeType!==3||(W=M+v),be!==S||f!==0&&be.nodeType!==3||(X=M+f),be.nodeType===3&&(M+=be.nodeValue.length),(Be=be.firstChild)!==null;)_e=be,be=Be;for(;;){if(be===n)break t;if(_e===h&&++le===v&&(W=M),_e===S&&++we===f&&(X=M),(Be=be.nextSibling)!==null)break;be=_e,_e=be.parentNode}be=Be}h=W===-1||X===-1?null:{start:W,end:X}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ph={focusedElem:n,selectionRange:h},sn=!1,Ue=o;Ue!==null;)if(o=Ue,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,Ue=n;else for(;Ue!==null;){o=Ue;try{var Ge=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var We=Ge.memoizedProps,cr=Ge.memoizedState,ee=o.stateNode,K=ee.getSnapshotBeforeUpdate(o.elementType===o.type?We:l(o.type,We),cr);ee.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ie=o.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Re){sr(o,o.return,Re)}if(n=o.sibling,n!==null){n.return=o.return,Ue=n;break}Ue=o.return}return Ge=eg,eg=!1,Ge}function Qh(n,o,h){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&n)===n){var S=v.destroy;v.destroy=void 0,S!==void 0&&Qf(o,h,S)}v=v.next}while(v!==f)}}function Zc(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&n)===n){var f=h.create;h.destroy=f()}h=h.next}while(h!==o)}}function Kf(n){var o=n.ref;if(o!==null){var h=n.stateNode;switch(n.tag){case 5:n=h;break;default:n=h}typeof o=="function"?o(n):o.current=n}}function tg(n){var o=n.alternate;o!==null&&(n.alternate=null,tg(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[Vn],delete o[rl],delete o[Pr],delete o[Gc],delete o[Hc])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function rg(n){return n.tag===5||n.tag===3||n.tag===4}function ng(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zf(n,o,h){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?h.nodeType===8?h.parentNode.insertBefore(n,o):h.insertBefore(n,o):(h.nodeType===8?(o=h.parentNode,o.insertBefore(n,h)):(o=h,o.appendChild(n)),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=tl));else if(f!==4&&(n=n.child,n!==null))for(Zf(n,o,h),n=n.sibling;n!==null;)Zf(n,o,h),n=n.sibling}function Jf(n,o,h){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?h.insertBefore(n,o):h.appendChild(n);else if(f!==4&&(n=n.child,n!==null))for(Jf(n,o,h),n=n.sibling;n!==null;)Jf(n,o,h),n=n.sibling}var Ur=null,Fi=!1;function na(n,o,h){for(h=h.child;h!==null;)ig(n,o,h),h=h.sibling}function ig(n,o,h){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Gn,h)}catch{}switch(h.tag){case 5:tn||Iu(h,o);case 6:var f=Ur,v=Fi;Ur=null,na(n,o,h),Ur=f,Fi=v,Ur!==null&&(Fi?(n=Ur,h=h.stateNode,n.nodeType===8?n.parentNode.removeChild(h):n.removeChild(h)):Ur.removeChild(h.stateNode));break;case 18:Ur!==null&&(Fi?(n=Ur,h=h.stateNode,n.nodeType===8?gu(n.parentNode,h):n.nodeType===1&&gu(n,h),Hs(n)):gu(Ur,h.stateNode));break;case 4:f=Ur,v=Fi,Ur=h.stateNode.containerInfo,Fi=!0,na(n,o,h),Ur=f,Fi=v;break;case 0:case 11:case 14:case 15:if(!tn&&(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){v=f=f.next;do{var S=v,M=S.destroy;S=S.tag,M!==void 0&&(S&2||S&4)&&Qf(h,o,M),v=v.next}while(v!==f)}na(n,o,h);break;case 1:if(!tn&&(Iu(h,o),f=h.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(W){sr(h,o,W)}na(n,o,h);break;case 21:na(n,o,h);break;case 22:h.mode&1?(tn=(f=tn)||h.memoizedState!==null,na(n,o,h),tn=f):na(n,o,h);break;default:na(n,o,h)}}function sg(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var h=n.stateNode;h===null&&(h=n.stateNode=new Yx),o.forEach(function(f){var v=i_.bind(null,n,f);h.has(f)||(h.add(f),f.then(v,v))})}}function Bi(n,o){var h=o.deletions;if(h!==null)for(var f=0;f<h.length;f++){var v=h[f];try{var S=n,M=o,W=M;e:for(;W!==null;){switch(W.tag){case 5:Ur=W.stateNode,Fi=!1;break e;case 3:Ur=W.stateNode.containerInfo,Fi=!0;break e;case 4:Ur=W.stateNode.containerInfo,Fi=!0;break e}W=W.return}if(Ur===null)throw Error(t(160));ig(S,M,v),Ur=null,Fi=!1;var X=v.alternate;X!==null&&(X.return=null),v.return=null}catch(le){sr(v,o,le)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)og(o,n),o=o.sibling}function og(n,o){var h=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Bi(o,n),gs(n),f&4){try{Qh(3,n,n.return),Zc(3,n)}catch(We){sr(n,n.return,We)}try{Qh(5,n,n.return)}catch(We){sr(n,n.return,We)}}break;case 1:Bi(o,n),gs(n),f&512&&h!==null&&Iu(h,h.return);break;case 5:if(Bi(o,n),gs(n),f&512&&h!==null&&Iu(h,h.return),n.flags&32){var v=n.stateNode;try{qi(v,"")}catch(We){sr(n,n.return,We)}}if(f&4&&(v=n.stateNode,v!=null)){var S=n.memoizedProps,M=h!==null?h.memoizedProps:S,W=n.type,X=n.updateQueue;if(n.updateQueue=null,X!==null)try{W==="input"&&S.type==="radio"&&S.name!=null&&$e(v,S),ut(W,M);var le=ut(W,S);for(M=0;M<X.length;M+=2){var we=X[M],be=X[M+1];we==="style"?Ds(v,be):we==="dangerouslySetInnerHTML"?xo(v,be):we==="children"?qi(v,be):D(v,we,be,le)}switch(W){case"input":Dt(v,S);break;case"textarea":Yi(v,S);break;case"select":var _e=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!S.multiple;var Be=S.value;Be!=null?rn(v,!!S.multiple,Be,!1):_e!==!!S.multiple&&(S.defaultValue!=null?rn(v,!!S.multiple,S.defaultValue,!0):rn(v,!!S.multiple,S.multiple?[]:"",!1))}v[rl]=S}catch(We){sr(n,n.return,We)}}break;case 6:if(Bi(o,n),gs(n),f&4){if(n.stateNode===null)throw Error(t(162));v=n.stateNode,S=n.memoizedProps;try{v.nodeValue=S}catch(We){sr(n,n.return,We)}}break;case 3:if(Bi(o,n),gs(n),f&4&&h!==null&&h.memoizedState.isDehydrated)try{Hs(o.containerInfo)}catch(We){sr(n,n.return,We)}break;case 4:Bi(o,n),gs(n);break;case 13:Bi(o,n),gs(n),v=n.child,v.flags&8192&&(S=v.memoizedState!==null,v.stateNode.isHidden=S,!S||v.alternate!==null&&v.alternate.memoizedState!==null||(rp=qt())),f&4&&sg(n);break;case 22:if(we=h!==null&&h.memoizedState!==null,n.mode&1?(tn=(le=tn)||we,Bi(o,n),tn=le):Bi(o,n),gs(n),f&8192){if(le=n.memoizedState!==null,(n.stateNode.isHidden=le)&&!we&&n.mode&1)for(Ue=n,we=n.child;we!==null;){for(be=Ue=we;Ue!==null;){switch(_e=Ue,Be=_e.child,_e.tag){case 0:case 11:case 14:case 15:Qh(4,_e,_e.return);break;case 1:Iu(_e,_e.return);var Ge=_e.stateNode;if(typeof Ge.componentWillUnmount=="function"){f=_e,h=_e.return;try{o=f,Ge.props=o.memoizedProps,Ge.state=o.memoizedState,Ge.componentWillUnmount()}catch(We){sr(f,h,We)}}break;case 5:Iu(_e,_e.return);break;case 22:if(_e.memoizedState!==null){ug(be);continue}}Be!==null?(Be.return=_e,Ue=Be):ug(be)}we=we.sibling}e:for(we=null,be=n;;){if(be.tag===5){if(we===null){we=be;try{v=be.stateNode,le?(S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(W=be.stateNode,X=be.memoizedProps.style,M=X!=null&&X.hasOwnProperty("display")?X.display:null,W.style.display=_o("display",M))}catch(We){sr(n,n.return,We)}}}else if(be.tag===6){if(we===null)try{be.stateNode.nodeValue=le?"":be.memoizedProps}catch(We){sr(n,n.return,We)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===n)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===n)break e;for(;be.sibling===null;){if(be.return===null||be.return===n)break e;we===be&&(we=null),be=be.return}we===be&&(we=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:Bi(o,n),gs(n),f&4&&sg(n);break;case 21:break;default:Bi(o,n),gs(n)}}function gs(n){var o=n.flags;if(o&2){try{e:{for(var h=n.return;h!==null;){if(rg(h)){var f=h;break e}h=h.return}throw Error(t(160))}switch(f.tag){case 5:var v=f.stateNode;f.flags&32&&(qi(v,""),f.flags&=-33);var S=ng(n);Jf(n,S,v);break;case 3:case 4:var M=f.stateNode.containerInfo,W=ng(n);Zf(n,W,M);break;default:throw Error(t(161))}}catch(X){sr(n,n.return,X)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function Qx(n,o,h){Ue=n,ag(n)}function ag(n,o,h){for(var f=(n.mode&1)!==0;Ue!==null;){var v=Ue,S=v.child;if(v.tag===22&&f){var M=v.memoizedState!==null||Kc;if(!M){var W=v.alternate,X=W!==null&&W.memoizedState!==null||tn;W=Kc;var le=tn;if(Kc=M,(tn=X)&&!le)for(Ue=v;Ue!==null;)M=Ue,X=M.child,M.tag===22&&M.memoizedState!==null?hg(v):X!==null?(X.return=M,Ue=X):hg(v);for(;S!==null;)Ue=S,ag(S),S=S.sibling;Ue=v,Kc=W,tn=le}lg(n)}else v.subtreeFlags&8772&&S!==null?(S.return=v,Ue=S):lg(n)}}function lg(n){for(;Ue!==null;){var o=Ue;if(o.flags&8772){var h=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:tn||Zc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!tn)if(h===null)f.componentDidMount();else{var v=o.elementType===o.type?h.memoizedProps:l(o.type,h.memoizedProps);f.componentDidUpdate(v,h.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var S=o.updateQueue;S!==null&&fs(o,S,f);break;case 3:var M=o.updateQueue;if(M!==null){if(h=null,o.child!==null)switch(o.child.tag){case 5:h=o.child.stateNode;break;case 1:h=o.child.stateNode}fs(o,M,h)}break;case 5:var W=o.stateNode;if(h===null&&o.flags&4){h=W;var X=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&h.focus();break;case"img":X.src&&(h.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var le=o.alternate;if(le!==null){var we=le.memoizedState;if(we!==null){var be=we.dehydrated;be!==null&&Hs(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}tn||o.flags&512&&Kf(o)}catch(_e){sr(o,o.return,_e)}}if(o===n){Ue=null;break}if(h=o.sibling,h!==null){h.return=o.return,Ue=h;break}Ue=o.return}}function ug(n){for(;Ue!==null;){var o=Ue;if(o===n){Ue=null;break}var h=o.sibling;if(h!==null){h.return=o.return,Ue=h;break}Ue=o.return}}function hg(n){for(;Ue!==null;){var o=Ue;try{switch(o.tag){case 0:case 11:case 15:var h=o.return;try{Zc(4,o)}catch(X){sr(o,h,X)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var v=o.return;try{f.componentDidMount()}catch(X){sr(o,v,X)}}var S=o.return;try{Kf(o)}catch(X){sr(o,S,X)}break;case 5:var M=o.return;try{Kf(o)}catch(X){sr(o,M,X)}}}catch(X){sr(o,o.return,X)}if(o===n){Ue=null;break}var W=o.sibling;if(W!==null){W.return=o.return,Ue=W;break}Ue=o.return}}var Kx=Math.ceil,Jc=H.ReactCurrentDispatcher,ep=H.ReactCurrentOwner,ui=H.ReactCurrentBatchConfig,_t=0,kr=null,mr=null,zr=0,Qn=0,Ru=Ti(0),wr=0,Kh=null,vl=0,ed=0,tp=0,Zh=null,Nn=null,rp=0,ku=1/0,lo=null,td=!1,np=null,ia=null,rd=!1,sa=null,nd=0,Jh=0,ip=null,id=-1,sd=0;function fn(){return _t&6?qt():id!==-1?id:id=qt()}function oa(n){return n.mode&1?_t&2&&zr!==0?zr&-zr:Gf.transition!==null?(sd===0&&(sd=yn()),sd):(n=gt,n!==0||(n=window.event,n=n===void 0?16:on(n.type)),n):1}function Oi(n,o,h,f){if(50<Jh)throw Jh=0,ip=null,Error(t(185));Ma(n,h,f),(!(_t&2)||n!==kr)&&(n===kr&&(!(_t&2)&&(ed|=h),wr===4&&aa(n,zr)),Fn(n,f),h===1&&_t===0&&!(o.mode&1)&&(ku=qt()+500,An&&Tn()))}function Fn(n,o){var h=n.callbackNode;Xl(n,o);var f=ka(n,n===kr?zr:0);if(f===0)h!==null&&Pc(h),n.callbackNode=null,n.callbackPriority=0;else if(o=f&-f,n.callbackPriority!==o){if(h!=null&&Pc(h),o===1)n.tag===0?jc(dg.bind(null,n)):Fh(dg.bind(null,n)),kh(function(){!(_t&6)&&Tn()}),h=null;else{switch(Na(f)){case 1:h=Ra;break;case 4:h=Wl;break;case 16:h=Vl;break;case 536870912:h=Us;break;default:h=Vl}h=_g(h,cg.bind(null,n))}n.callbackPriority=o,n.callbackNode=h}}function cg(n,o){if(id=-1,sd=0,_t&6)throw Error(t(327));var h=n.callbackNode;if(Mu()&&n.callbackNode!==h)return null;var f=ka(n,n===kr?zr:0);if(f===0)return null;if(f&30||f&n.expiredLanes||o)o=od(n,f);else{o=f;var v=_t;_t|=2;var S=pg();(kr!==n||zr!==o)&&(lo=null,ku=qt()+500,_l(n,o));do try{e_();break}catch(W){fg(n,W)}while(!0);ll(),Jc.current=S,_t=v,mr!==null?o=0:(kr=null,zr=0,o=wr)}if(o!==0){if(o===2&&(v=$l(n),v!==0&&(f=v,o=sp(n,v))),o===1)throw h=Kh,_l(n,0),aa(n,f),Fn(n,qt()),h;if(o===6)aa(n,f);else{if(v=n.current.alternate,!(f&30)&&!Zx(v)&&(o=od(n,f),o===2&&(S=$l(n),S!==0&&(f=S,o=sp(n,S))),o===1))throw h=Kh,_l(n,0),aa(n,f),Fn(n,qt()),h;switch(n.finishedWork=v,n.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:wl(n,Nn,lo);break;case 3:if(aa(n,f),(f&130023424)===f&&(o=rp+500-qt(),10<o)){if(ka(n,0)!==0)break;if(v=n.suspendedLanes,(v&f)!==f){fn(),n.pingedLanes|=n.suspendedLanes&v;break}n.timeoutHandle=Rh(wl.bind(null,n,Nn,lo),o);break}wl(n,Nn,lo);break;case 4:if(aa(n,f),(f&4194240)===f)break;for(o=n.eventTimes,v=-1;0<f;){var M=31-pr(f);S=1<<M,M=o[M],M>v&&(v=M),f&=~S}if(f=v,f=qt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Kx(f/1960))-f,10<f){n.timeoutHandle=Rh(wl.bind(null,n,Nn,lo),f);break}wl(n,Nn,lo);break;case 5:wl(n,Nn,lo);break;default:throw Error(t(329))}}}return Fn(n,qt()),n.callbackNode===h?cg.bind(null,n):null}function sp(n,o){var h=Zh;return n.current.memoizedState.isDehydrated&&(_l(n,o).flags|=256),n=od(n,o),n!==2&&(o=Nn,Nn=h,o!==null&&op(o)),n}function op(n){Nn===null?Nn=n:Nn.push.apply(Nn,n)}function Zx(n){for(var o=n;;){if(o.flags&16384){var h=o.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var f=0;f<h.length;f++){var v=h[f],S=v.getSnapshot;v=v.value;try{if(!ln(S(),v))return!1}catch{return!1}}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function aa(n,o){for(o&=~tp,o&=~ed,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var h=31-pr(o),f=1<<h;n[h]=-1,o&=~f}}function dg(n){if(_t&6)throw Error(t(327));Mu();var o=ka(n,0);if(!(o&1))return Fn(n,qt()),null;var h=od(n,o);if(n.tag!==0&&h===2){var f=$l(n);f!==0&&(o=f,h=sp(n,f))}if(h===1)throw h=Kh,_l(n,0),aa(n,o),Fn(n,qt()),h;if(h===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,wl(n,Nn,lo),Fn(n,qt()),null}function ap(n,o){var h=_t;_t|=1;try{return n(o)}finally{_t=h,_t===0&&(ku=qt()+500,An&&Tn())}}function xl(n){sa!==null&&sa.tag===0&&!(_t&6)&&Mu();var o=_t;_t|=1;var h=ui.transition,f=gt;try{if(ui.transition=null,gt=1,n)return n()}finally{gt=f,ui.transition=h,_t=o,!(_t&6)&&Tn()}}function lp(){Qn=Ru.current,kt(Ru)}function _l(n,o){n.finishedWork=null,n.finishedLanes=0;var h=n.timeoutHandle;if(h!==-1&&(n.timeoutHandle=-1,Wo(h)),mr!==null)for(h=mr.return;h!==null;){var f=h;switch(il(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&$o();break;case 3:hn(),kt(vr),kt(lr),ta();break;case 5:Eu(f);break;case 4:hn();break;case 13:kt(Mt);break;case 19:kt(Mt);break;case 10:ul(f.type._context);break;case 22:case 23:lp()}h=h.return}if(kr=n,mr=n=la(n.current,null),zr=Qn=o,wr=0,Kh=null,tp=ed=vl=0,Nn=Zh=null,no!==null){for(o=0;o<no.length;o++)if(h=no[o],f=h.interleaved,f!==null){h.interleaved=null;var v=f.next,S=h.pending;if(S!==null){var M=S.next;S.next=v,f.next=M}h.pending=f}no=null}return n}function fg(n,o){do{var h=mr;try{if(ll(),Xn.current=yl,ur){for(var f=Lt.memoizedState;f!==null;){var v=f.queue;v!==null&&(v.pending=null),f=f.next}ur=!1}if($n=0,Kt=Xt=Lt=null,Dn=!1,Rr=0,ep.current=null,h===null||h.return===null){wr=1,Kh=o,mr=null;break}e:{var S=n,M=h.return,W=h,X=o;if(o=zr,W.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var le=X,we=W,be=we.tag;if(!(we.mode&1)&&(be===0||be===11||be===15)){var _e=we.alternate;_e?(we.updateQueue=_e.updateQueue,we.memoizedState=_e.memoizedState,we.lanes=_e.lanes):(we.updateQueue=null,we.memoizedState=null)}var Be=ze(M);if(Be!==null){Be.flags&=-257,at(Be,M,W,S,o),Be.mode&1&&Pe(S,le,o),o=Be,X=le;var Ge=o.updateQueue;if(Ge===null){var We=new Set;We.add(X),o.updateQueue=We}else Ge.add(X);break e}else{if(!(o&1)){Pe(S,le,o),up();break e}X=Error(t(426))}}else if(Bt&&W.mode&1){var cr=ze(M);if(cr!==null){!(cr.flags&65536)&&(cr.flags|=256),at(cr,M,W,S,o),kn($(X,W));break e}}S=X=$(X,W),wr!==4&&(wr=2),Zh===null?Zh=[S]:Zh.push(S),S=M;do{switch(S.tag){case 3:S.flags|=65536,o&=-o,S.lanes|=o;var ee=Me(S,X,o);ir(S,ee);break e;case 1:W=X;var K=S.type,ie=S.stateNode;if(!(S.flags&128)&&(typeof K.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(ia===null||!ia.has(ie)))){S.flags|=65536,o&=-o,S.lanes|=o;var Re=ge(S,W,o);ir(S,Re);break e}}S=S.return}while(S!==null)}gg(h)}catch(Ye){o=Ye,mr===h&&h!==null&&(mr=h=h.return);continue}break}while(!0)}function pg(){var n=Jc.current;return Jc.current=yl,n===null?yl:n}function up(){(wr===0||wr===3||wr===2)&&(wr=4),kr===null||!(vl&268435455)&&!(ed&268435455)||aa(kr,zr)}function od(n,o){var h=_t;_t|=2;var f=pg();(kr!==n||zr!==o)&&(lo=null,_l(n,o));do try{Jx();break}catch(v){fg(n,v)}while(!0);if(ll(),_t=h,Jc.current=f,mr!==null)throw Error(t(261));return kr=null,zr=0,wr}function Jx(){for(;mr!==null;)mg(mr)}function e_(){for(;mr!==null&&!Df();)mg(mr)}function mg(n){var o=xg(n.alternate,n,Qn);n.memoizedProps=n.pendingProps,o===null?gg(n):mr=o,ep.current=null}function gg(n){var o=n;do{var h=o.alternate;if(n=o.return,o.flags&32768){if(h=$x(h,o),h!==null){h.flags&=32767,mr=h;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{wr=6,mr=null;return}}else if(h=Xx(h,o,Qn),h!==null){mr=h;return}if(o=o.sibling,o!==null){mr=o;return}mr=o=n}while(o!==null);wr===0&&(wr=5)}function wl(n,o,h){var f=gt,v=ui.transition;try{ui.transition=null,gt=1,t_(n,o,h,f)}finally{ui.transition=v,gt=f}return null}function t_(n,o,h,f){do Mu();while(sa!==null);if(_t&6)throw Error(t(327));h=n.finishedWork;var v=n.finishedLanes;if(h===null)return null;if(n.finishedWork=null,n.finishedLanes=0,h===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var S=h.lanes|h.childLanes;if(sh(n,S),n===kr&&(mr=kr=null,zr=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||rd||(rd=!0,_g(Vl,function(){return Mu(),null})),S=(h.flags&15990)!==0,h.subtreeFlags&15990||S){S=ui.transition,ui.transition=null;var M=gt;gt=1;var W=_t;_t|=4,ep.current=null,qx(n,h),og(h,n),su(Ph),sn=!!jo,Ph=jo=null,n.current=h,Qx(h),Nf(),_t=W,gt=M,ui.transition=S}else n.current=h;if(rd&&(rd=!1,sa=n,nd=v),S=n.pendingLanes,S===0&&(ia=null),Pt(h.stateNode),Fn(n,qt()),o!==null)for(f=n.onRecoverableError,h=0;h<o.length;h++)v=o[h],f(v.value,{componentStack:v.stack,digest:v.digest});if(td)throw td=!1,n=np,np=null,n;return nd&1&&n.tag!==0&&Mu(),S=n.pendingLanes,S&1?n===ip?Jh++:(Jh=0,ip=n):Jh=0,Tn(),null}function Mu(){if(sa!==null){var n=Na(nd),o=ui.transition,h=gt;try{if(ui.transition=null,gt=16>n?16:n,sa===null)var f=!1;else{if(n=sa,sa=null,nd=0,_t&6)throw Error(t(331));var v=_t;for(_t|=4,Ue=n.current;Ue!==null;){var S=Ue,M=S.child;if(Ue.flags&16){var W=S.deletions;if(W!==null){for(var X=0;X<W.length;X++){var le=W[X];for(Ue=le;Ue!==null;){var we=Ue;switch(we.tag){case 0:case 11:case 15:Qh(8,we,S)}var be=we.child;if(be!==null)be.return=we,Ue=be;else for(;Ue!==null;){we=Ue;var _e=we.sibling,Be=we.return;if(tg(we),we===le){Ue=null;break}if(_e!==null){_e.return=Be,Ue=_e;break}Ue=Be}}}var Ge=S.alternate;if(Ge!==null){var We=Ge.child;if(We!==null){Ge.child=null;do{var cr=We.sibling;We.sibling=null,We=cr}while(We!==null)}}Ue=S}}if(S.subtreeFlags&2064&&M!==null)M.return=S,Ue=M;else e:for(;Ue!==null;){if(S=Ue,S.flags&2048)switch(S.tag){case 0:case 11:case 15:Qh(9,S,S.return)}var ee=S.sibling;if(ee!==null){ee.return=S.return,Ue=ee;break e}Ue=S.return}}var K=n.current;for(Ue=K;Ue!==null;){M=Ue;var ie=M.child;if(M.subtreeFlags&2064&&ie!==null)ie.return=M,Ue=ie;else e:for(M=K;Ue!==null;){if(W=Ue,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:Zc(9,W)}}catch(Ye){sr(W,W.return,Ye)}if(W===M){Ue=null;break e}var Re=W.sibling;if(Re!==null){Re.return=W.return,Ue=Re;break e}Ue=W.return}}if(_t=v,Tn(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Gn,n)}catch{}f=!0}return f}finally{gt=h,ui.transition=o}}return!1}function yg(n,o,h){o=$(h,o),o=Me(n,o,1),n=nr(n,o,1),o=fn(),n!==null&&(Ma(n,1,o),Fn(n,o))}function sr(n,o,h){if(n.tag===3)yg(n,n,h);else for(;o!==null;){if(o.tag===3){yg(o,n,h);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ia===null||!ia.has(f))){n=$(h,n),n=ge(o,n,1),o=nr(o,n,1),n=fn(),o!==null&&(Ma(o,1,n),Fn(o,n));break}}o=o.return}}function r_(n,o,h){var f=n.pingCache;f!==null&&f.delete(o),o=fn(),n.pingedLanes|=n.suspendedLanes&h,kr===n&&(zr&h)===h&&(wr===4||wr===3&&(zr&130023424)===zr&&500>qt()-rp?_l(n,0):tp|=h),Fn(n,o)}function vg(n,o){o===0&&(n.mode&1?(o=Cr,Cr<<=1,!(Cr&130023424)&&(Cr=4194304)):o=1);var h=fn();n=bt(n,o),n!==null&&(Ma(n,o,h),Fn(n,h))}function n_(n){var o=n.memoizedState,h=0;o!==null&&(h=o.retryLane),vg(n,h)}function i_(n,o){var h=0;switch(n.tag){case 13:var f=n.stateNode,v=n.memoizedState;v!==null&&(h=v.retryLane);break;case 19:f=n.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),vg(n,h)}var xg;xg=function(n,o,h){if(n!==null)if(n.memoizedProps!==o.pendingProps||vr.current)Z=!0;else{if(!(n.lanes&h)&&!(o.flags&128))return Z=!1,Vx(n,o,h);Z=!!(n.flags&131072)}else Z=!1,Bt&&o.flags&1048576&&Qo(o,Ks,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Qc(n,o),n=o.pendingProps;var v=hs(o,lr.current);ro(o,h),v=fl(null,o,f,n,v,h);var S=ai();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Lr(f)?(S=!0,Yo(o)):S=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,rr(o),v.updater=m,o.stateNode=v,v._reactInternals=o,U(o,f,n,h),o=li(null,o,f,!0,S,h)):(o.tag=0,Bt&&S&&Ko(o),ue(null,o,v,h),o=o.child),o;case 16:f=o.elementType;e:{switch(Qc(n,o),n=o.pendingProps,v=f._init,f=v(f._payload),o.type=f,v=o.tag=o_(f),n=l(f,n),v){case 0:o=hr(null,o,f,n,h);break e;case 1:o=xt(null,o,f,n,h);break e;case 11:o=Se(null,o,f,n,h);break e;case 14:o=Qe(null,o,f,l(f.type,n),h);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,v=o.pendingProps,v=o.elementType===f?v:l(f,v),hr(n,o,f,v,h);case 1:return f=o.type,v=o.pendingProps,v=o.elementType===f?v:l(f,v),xt(n,o,f,v,h);case 3:e:{if(Yc(o),n===null)throw Error(t(387));f=o.pendingProps,S=o.memoizedState,v=S.element,Qt(n,o),ds(o,f,null,h);var M=o.memoizedState;if(f=M.element,S.isDehydrated)if(S={element:f,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){v=$(Error(t(423)),o),o=$0(n,o,f,h,v);break e}else if(f!==v){v=$(Error(t(424)),o),o=$0(n,o,f,h,v);break e}else for(Kr=bi(o.stateNode.containerInfo.firstChild),Qr=o,Bt=!0,un=null,h=al(o,null,f,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Zs(),f===v){o=ao(n,o,h);break e}ue(n,o,f,h)}o=o.child}return o;case 5:return io(o),n===null&&In(o),f=o.type,v=o.pendingProps,S=n!==null?n.memoizedProps:null,M=v.children,Ih(f,v)?M=null:S!==null&&Ih(f,S)&&(o.flags|=32),yt(n,o),ue(n,o,M,h),o.child;case 6:return n===null&&In(o),null;case 13:return Y0(n,o,h);case 4:return cl(o,o.stateNode.containerInfo),f=o.pendingProps,n===null?o.child=Pi(o,null,f,h):ue(n,o,f,h),o.child;case 11:return f=o.type,v=o.pendingProps,v=o.elementType===f?v:l(f,v),Se(n,o,f,v,h);case 7:return ue(n,o,o.pendingProps,h),o.child;case 8:return ue(n,o,o.pendingProps.children,h),o.child;case 12:return ue(n,o,o.pendingProps.children,h),o.child;case 10:e:{if(f=o.type._context,v=o.pendingProps,S=o.memoizedProps,M=v.value,Et(Js,f._currentValue),f._currentValue=M,S!==null)if(ln(S.value,M)){if(S.children===v.children&&!vr.current){o=ao(n,o,h);break e}}else for(S=o.child,S!==null&&(S.return=o);S!==null;){var W=S.dependencies;if(W!==null){M=S.child;for(var X=W.firstContext;X!==null;){if(X.context===f){if(S.tag===1){X=Ot(-1,h&-h),X.tag=2;var le=S.updateQueue;if(le!==null){le=le.shared;var we=le.pending;we===null?X.next=X:(X.next=we.next,we.next=X),le.pending=X}}S.lanes|=h,X=S.alternate,X!==null&&(X.lanes|=h),hl(S.return,h,o),W.lanes|=h;break}X=X.next}}else if(S.tag===10)M=S.type===o.type?null:S.child;else if(S.tag===18){if(M=S.return,M===null)throw Error(t(341));M.lanes|=h,W=M.alternate,W!==null&&(W.lanes|=h),hl(M,h,o),M=S.sibling}else M=S.child;if(M!==null)M.return=S;else for(M=S;M!==null;){if(M===o){M=null;break}if(S=M.sibling,S!==null){S.return=M.return,M=S;break}M=M.return}S=M}ue(n,o,v.children,h),o=o.child}return o;case 9:return v=o.type,f=o.pendingProps.children,ro(o,h),v=Zr(v),f=f(v),o.flags|=1,ue(n,o,f,h),o.child;case 14:return f=o.type,v=l(f,o.pendingProps),v=l(f.type,v),Qe(n,o,f,v,h);case 15:return vt(n,o,o.type,o.pendingProps,h);case 17:return f=o.type,v=o.pendingProps,v=o.elementType===f?v:l(f,v),Qc(n,o),o.tag=1,Lr(f)?(n=!0,Yo(o)):n=!1,ro(o,h),E(o,f,v),U(o,f,v,h),li(null,o,f,!0,n,h);case 19:return Q0(n,o,h);case 22:return He(n,o,h)}throw Error(t(156,o.tag))};function _g(n,o){return Pa(n,o)}function s_(n,o,h,f){this.tag=n,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(n,o,h,f){return new s_(n,o,h,f)}function hp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function o_(n){if(typeof n=="function")return hp(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Q)return 11;if(n===he)return 14}return 2}function la(n,o){var h=n.alternate;return h===null?(h=hi(n.tag,o,n.key,n.mode),h.elementType=n.elementType,h.type=n.type,h.stateNode=n.stateNode,h.alternate=n,n.alternate=h):(h.pendingProps=o,h.type=n.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=n.flags&14680064,h.childLanes=n.childLanes,h.lanes=n.lanes,h.child=n.child,h.memoizedProps=n.memoizedProps,h.memoizedState=n.memoizedState,h.updateQueue=n.updateQueue,o=n.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=n.sibling,h.index=n.index,h.ref=n.ref,h}function ad(n,o,h,f,v,S){var M=2;if(f=n,typeof n=="function")hp(n)&&(M=1);else if(typeof n=="string")M=5;else e:switch(n){case L:return El(h.children,v,S,o);case J:M=8,v|=8;break;case oe:return n=hi(12,h,o,v|2),n.elementType=oe,n.lanes=S,n;case q:return n=hi(13,h,o,v),n.elementType=q,n.lanes=S,n;case te:return n=hi(19,h,o,v),n.elementType=te,n.lanes=S,n;case z:return ld(h,v,S,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ce:M=10;break e;case Ae:M=9;break e;case Q:M=11;break e;case he:M=14;break e;case N:M=16,f=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return o=hi(M,h,o,v),o.elementType=n,o.type=f,o.lanes=S,o}function El(n,o,h,f){return n=hi(7,n,f,o),n.lanes=h,n}function ld(n,o,h,f){return n=hi(22,n,f,o),n.elementType=z,n.lanes=h,n.stateNode={isHidden:!1},n}function cp(n,o,h){return n=hi(6,n,null,o),n.lanes=h,n}function dp(n,o,h){return o=hi(4,n.children!==null?n.children:[],n.key,o),o.lanes=h,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function a_(n,o,h,f,v){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ih(0),this.expirationTimes=ih(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ih(0),this.identifierPrefix=f,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function fp(n,o,h,f,v,S,M,W,X){return n=new a_(n,o,h,W,X),o===1?(o=1,S===!0&&(o|=8)):o=0,S=hi(3,null,null,o),n.current=S,S.stateNode=n,S.memoizedState={element:f,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},rr(S),n}function l_(n,o,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:f==null?null:""+f,children:n,containerInfo:o,implementation:h}}function wg(n){if(!n)return En;n=n._reactInternals;e:{if(ei(n)!==n||n.tag!==1)throw Error(t(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Lr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(n.tag===1){var h=n.type;if(Lr(h))return Dh(n,h,o)}return o}function Eg(n,o,h,f,v,S,M,W,X){return n=fp(h,f,!0,n,v,S,M,W,X),n.context=wg(null),h=n.current,f=fn(),v=oa(h),S=Ot(f,v),S.callback=o??null,nr(h,S,v),n.current.lanes=v,Ma(n,v,f),Fn(n,f),n}function ud(n,o,h,f){var v=o.current,S=fn(),M=oa(v);return h=wg(h),o.context===null?o.context=h:o.pendingContext=h,o=Ot(S,M),o.payload={element:n},f=f===void 0?null:f,f!==null&&(o.callback=f),n=nr(v,o,M),n!==null&&(Oi(n,v,M,S),Ri(n,v,M)),M}function hd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Sg(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var h=n.retryLane;n.retryLane=h!==0&&h<o?h:o}}function pp(n,o){Sg(n,o),(n=n.alternate)&&Sg(n,o)}var Ag=typeof reportError=="function"?reportError:function(n){console.error(n)};function mp(n){this._internalRoot=n}cd.prototype.render=mp.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(t(409));ud(n,o,null,null)},cd.prototype.unmount=mp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;xl(function(){ud(null,n,null,null)}),o[Vt]=null}};function cd(n){this._internalRoot=n}cd.prototype.unstable_scheduleHydration=function(n){if(n){var o=Yl();n={blockedOn:null,target:n,priority:o};for(var h=0;h<Nt.length&&o!==0&&o<Nt[h].priority;h++);Nt.splice(h,0,n),h===0&&Ua(n)}};function gp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function dd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function bg(){}function u_(n,o,h,f,v){if(v){if(typeof f=="function"){var S=f;f=function(){var le=hd(M);S.call(le)}}var M=Eg(o,f,n,0,null,!1,!1,"",bg);return n._reactRootContainer=M,n[Vt]=M.current,zo(n.nodeType===8?n.parentNode:n),xl(),M}for(;v=n.lastChild;)n.removeChild(v);if(typeof f=="function"){var W=f;f=function(){var le=hd(X);W.call(le)}}var X=fp(n,0,!1,null,null,!1,!1,"",bg);return n._reactRootContainer=X,n[Vt]=X.current,zo(n.nodeType===8?n.parentNode:n),xl(function(){ud(o,X,h,f)}),X}function fd(n,o,h,f,v){var S=h._reactRootContainer;if(S){var M=S;if(typeof v=="function"){var W=v;v=function(){var X=hd(M);W.call(X)}}ud(o,M,n,v)}else M=u_(h,o,n,v,f);return hd(M)}Rc=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var h=Gs(o.pendingLanes);h!==0&&(Da(o,h|1),Fn(o,qt()),!(_t&6)&&(ku=qt()+500,Tn()))}break;case 13:xl(function(){var f=bt(n,1);if(f!==null){var v=fn();Oi(f,n,1,v)}}),pp(n,1)}},Fa=function(n){if(n.tag===13){var o=bt(n,134217728);if(o!==null){var h=fn();Oi(o,n,134217728,h)}pp(n,134217728)}},oh=function(n){if(n.tag===13){var o=oa(n),h=bt(n,o);if(h!==null){var f=fn();Oi(h,n,o,f)}pp(n,o)}},Yl=function(){return gt},So=function(n,o){var h=gt;try{return gt=n,o()}finally{gt=h}},st=function(n,o,h){switch(o){case"input":if(Dt(n,h),o=h.name,h.type==="radio"&&o!=null){for(h=n;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<h.length;o++){var f=h[o];if(f!==n&&f.form===n.form){var v=Xo(f);if(!v)throw Error(t(90));et(f),Dt(f,v)}}}break;case"textarea":Yi(n,h);break;case"select":o=h.value,o!=null&&rn(n,!!h.multiple,o,!1)}},pi=ap,br=xl;var h_={usingClientEntryPoint:!1,Events:[Vo,Qs,Xo,gn,Ns,ap]},ec={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c_={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ls(n),n===null?null:n.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{Gn=pd.inject(c_),mt=pd}catch{}}return Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h_,Bn.createPortal=function(n,o){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gp(o))throw Error(t(200));return l_(n,o,null,h)},Bn.createRoot=function(n,o){if(!gp(n))throw Error(t(299));var h=!1,f="",v=Ag;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=fp(n,1,!1,null,null,h,!1,f,v),n[Vt]=o.current,zo(n.nodeType===8?n.parentNode:n),new mp(o)},Bn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Ls(o),n=n===null?null:n.stateNode,n},Bn.flushSync=function(n){return xl(n)},Bn.hydrate=function(n,o,h){if(!dd(o))throw Error(t(200));return fd(null,n,o,!0,h)},Bn.hydrateRoot=function(n,o,h){if(!gp(n))throw Error(t(405));var f=h!=null&&h.hydratedSources||null,v=!1,S="",M=Ag;if(h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(M=h.onRecoverableError)),o=Eg(o,null,n,1,h??null,v,!1,S,M),n[Vt]=o.current,zo(n),f)for(n=0;n<f.length;n++)h=f[n],v=h._getVersion,v=v(h._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[h,v]:o.mutableSourceEagerHydrationData.push(h,v);return new cd(o)},Bn.render=function(n,o,h){if(!dd(o))throw Error(t(200));return fd(null,n,o,!1,h)},Bn.unmountComponentAtNode=function(n){if(!dd(n))throw Error(t(40));return n._reactRootContainer?(xl(function(){fd(null,null,n,!1,function(){n._reactRootContainer=null,n[Vt]=null})}),!0):!1},Bn.unstable_batchedUpdates=ap,Bn.unstable_renderSubtreeIntoContainer=function(n,o,h,f){if(!dd(h))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return fd(n,o,h,!1,f)},Bn.version="18.3.1-next-f1338f8080-20240426",Bn}var Dg;function __(){if(Dg)return xp.exports;Dg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xp.exports=x_(),xp.exports}var Ng;function w_(){if(Ng)return md;Ng=1;var i=__();return md.createRoot=i.createRoot,md.hydrateRoot=i.hydrateRoot,md}var E_=w_();const S_=Ac(E_);var gc={exports:{}},Ol=(i=>(i[i.WEBGL_LEGACY=0]="WEBGL_LEGACY",i[i.WEBGL=1]="WEBGL",i[i.WEBGL2=2]="WEBGL2",i))(Ol||{}),i1=(i=>(i[i.UNKNOWN=0]="UNKNOWN",i[i.WEBGL=1]="WEBGL",i[i.CANVAS=2]="CANVAS",i))(i1||{}),Wm=(i=>(i[i.COLOR=16384]="COLOR",i[i.DEPTH=256]="DEPTH",i[i.STENCIL=1024]="STENCIL",i))(Wm||{}),tt=(i=>(i[i.NORMAL=0]="NORMAL",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.SCREEN=3]="SCREEN",i[i.OVERLAY=4]="OVERLAY",i[i.DARKEN=5]="DARKEN",i[i.LIGHTEN=6]="LIGHTEN",i[i.COLOR_DODGE=7]="COLOR_DODGE",i[i.COLOR_BURN=8]="COLOR_BURN",i[i.HARD_LIGHT=9]="HARD_LIGHT",i[i.SOFT_LIGHT=10]="SOFT_LIGHT",i[i.DIFFERENCE=11]="DIFFERENCE",i[i.EXCLUSION=12]="EXCLUSION",i[i.HUE=13]="HUE",i[i.SATURATION=14]="SATURATION",i[i.COLOR=15]="COLOR",i[i.LUMINOSITY=16]="LUMINOSITY",i[i.NORMAL_NPM=17]="NORMAL_NPM",i[i.ADD_NPM=18]="ADD_NPM",i[i.SCREEN_NPM=19]="SCREEN_NPM",i[i.NONE=20]="NONE",i[i.SRC_OVER=0]="SRC_OVER",i[i.SRC_IN=21]="SRC_IN",i[i.SRC_OUT=22]="SRC_OUT",i[i.SRC_ATOP=23]="SRC_ATOP",i[i.DST_OVER=24]="DST_OVER",i[i.DST_IN=25]="DST_IN",i[i.DST_OUT=26]="DST_OUT",i[i.DST_ATOP=27]="DST_ATOP",i[i.ERASE=26]="ERASE",i[i.SUBTRACT=28]="SUBTRACT",i[i.XOR=29]="XOR",i))(tt||{}),ji=(i=>(i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN",i))(ji||{}),Ie=(i=>(i[i.RGBA=6408]="RGBA",i[i.RGB=6407]="RGB",i[i.RG=33319]="RG",i[i.RED=6403]="RED",i[i.RGBA_INTEGER=36249]="RGBA_INTEGER",i[i.RGB_INTEGER=36248]="RGB_INTEGER",i[i.RG_INTEGER=33320]="RG_INTEGER",i[i.RED_INTEGER=36244]="RED_INTEGER",i[i.ALPHA=6406]="ALPHA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL",i))(Ie||{}),$u=(i=>(i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",i))($u||{}),Ke=(i=>(i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.UNSIGNED_INT=5125]="UNSIGNED_INT",i[i.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",i[i.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",i[i.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",i[i.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",i[i.BYTE=5120]="BYTE",i[i.SHORT=5122]="SHORT",i[i.INT=5124]="INT",i[i.FLOAT=5126]="FLOAT",i[i.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",i[i.HALF_FLOAT=36193]="HALF_FLOAT",i))(Ke||{}),Oe=(i=>(i[i.FLOAT=0]="FLOAT",i[i.INT=1]="INT",i[i.UINT=2]="UINT",i))(Oe||{}),jr=(i=>(i[i.NEAREST=0]="NEAREST",i[i.LINEAR=1]="LINEAR",i))(jr||{}),mo=(i=>(i[i.CLAMP=33071]="CLAMP",i[i.REPEAT=10497]="REPEAT",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",i))(mo||{}),Cs=(i=>(i[i.OFF=0]="OFF",i[i.POW2=1]="POW2",i[i.ON=2]="ON",i[i.ON_MANUAL=3]="ON_MANUAL",i))(Cs||{}),On=(i=>(i[i.NPM=0]="NPM",i[i.UNPACK=1]="UNPACK",i[i.PMA=2]="PMA",i[i.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",i[i.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",i[i.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",i))(On||{}),Es=(i=>(i[i.NO=0]="NO",i[i.YES=1]="YES",i[i.AUTO=2]="AUTO",i[i.BLEND=0]="BLEND",i[i.CLEAR=1]="CLEAR",i[i.BLIT=2]="BLIT",i))(Es||{}),F0=(i=>(i[i.AUTO=0]="AUTO",i[i.MANUAL=1]="MANUAL",i))(F0||{}),di=(i=>(i.LOW="lowp",i.MEDIUM="mediump",i.HIGH="highp",i))(di||{}),Er=(i=>(i[i.NONE=0]="NONE",i[i.SCISSOR=1]="SCISSOR",i[i.STENCIL=2]="STENCIL",i[i.SPRITE=3]="SPRITE",i[i.COLOR=4]="COLOR",i))(Er||{}),gr=(i=>(i[i.NONE=0]="NONE",i[i.LOW=2]="LOW",i[i.MEDIUM=4]="MEDIUM",i[i.HIGH=8]="HIGH",i))(gr||{}),bs=(i=>(i[i.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",i[i.ARRAY_BUFFER=34962]="ARRAY_BUFFER",i[i.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",i))(bs||{});const A_={createCanvas:(i,e)=>{const t=document.createElement("canvas");return t.width=i,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(i,e)=>fetch(i,e),parseXML:i=>new DOMParser().parseFromString(i,"text/xml")},Le={ADAPTER:A_,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Ep=/iPhone/i,Fg=/iPod/i,Bg=/iPad/i,Og=/\biOS-universal(?:.+)Mac\b/i,Sp=/\bAndroid(?:.+)Mobile\b/i,Lg=/Android/i,Du=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,gd=/Silk/i,uo=/Windows Phone/i,Ug=/\bWindows(?:.+)ARM\b/i,zg=/BlackBerry/i,Gg=/BB10/i,Hg=/Opera Mini/i,jg=/\b(CriOS|Chrome)(?:.+)Mobile/i,Wg=/Mobile(?:.+)Firefox\b/i,Vg=function(i){return typeof i<"u"&&i.platform==="MacIntel"&&typeof i.maxTouchPoints=="number"&&i.maxTouchPoints>1&&typeof MSStream>"u"};function b_(i){return function(e){return e.test(i)}}function Xg(i){var e={userAgent:"",platform:"",maxTouchPoints:0};!i&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof i=="string"?e.userAgent=i:i&&i.userAgent&&(e={userAgent:i.userAgent,platform:i.platform,maxTouchPoints:i.maxTouchPoints||0});var t=e.userAgent,r=t.split("[FBAN");typeof r[1]<"u"&&(t=r[0]),r=t.split("Twitter"),typeof r[1]<"u"&&(t=r[0]);var s=b_(t),a={apple:{phone:s(Ep)&&!s(uo),ipod:s(Fg),tablet:!s(Ep)&&(s(Bg)||Vg(e))&&!s(uo),universal:s(Og),device:(s(Ep)||s(Fg)||s(Bg)||s(Og)||Vg(e))&&!s(uo)},amazon:{phone:s(Du),tablet:!s(Du)&&s(gd),device:s(Du)||s(gd)},android:{phone:!s(uo)&&s(Du)||!s(uo)&&s(Sp),tablet:!s(uo)&&!s(Du)&&!s(Sp)&&(s(gd)||s(Lg)),device:!s(uo)&&(s(Du)||s(gd)||s(Sp)||s(Lg))||s(/\bokhttp\b/i)},windows:{phone:s(uo),tablet:s(Ug),device:s(uo)||s(Ug)},other:{blackberry:s(zg),blackberry10:s(Gg),opera:s(Hg),firefox:s(Wg),chrome:s(jg),device:s(zg)||s(Gg)||s(Hg)||s(Wg)||s(jg)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}const T_=Xg.default??Xg,fo=T_(globalThis.navigator);Le.RETINA_PREFIX=/@([0-9\.]+)x/;Le.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Ap={exports:{}},$g;function C_(){return $g||($g=1,function(i){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function s(p,g,y){this.fn=p,this.context=g,this.once=y||!1}function a(p,g,y,w,_){if(typeof y!="function")throw new TypeError("The listener must be a function");var A=new s(y,w||p,_),b=t?t+g:g;return p._events[b]?p._events[b].fn?p._events[b]=[p._events[b],A]:p._events[b].push(A):(p._events[b]=A,p._eventsCount++),p}function c(p,g){--p._eventsCount===0?p._events=new r:delete p._events[g]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var g=[],y,w;if(this._eventsCount===0)return g;for(w in y=this._events)e.call(y,w)&&g.push(t?w.slice(1):w);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(y)):g},d.prototype.listeners=function(g){var y=t?t+g:g,w=this._events[y];if(!w)return[];if(w.fn)return[w.fn];for(var _=0,A=w.length,b=new Array(A);_<A;_++)b[_]=w[_].fn;return b},d.prototype.listenerCount=function(g){var y=t?t+g:g,w=this._events[y];return w?w.fn?1:w.length:0},d.prototype.emit=function(g,y,w,_,A,b){var P=t?t+g:g;if(!this._events[P])return!1;var T=this._events[P],R=arguments.length,F,D;if(T.fn){switch(T.once&&this.removeListener(g,T.fn,void 0,!0),R){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,y),!0;case 3:return T.fn.call(T.context,y,w),!0;case 4:return T.fn.call(T.context,y,w,_),!0;case 5:return T.fn.call(T.context,y,w,_,A),!0;case 6:return T.fn.call(T.context,y,w,_,A,b),!0}for(D=1,F=new Array(R-1);D<R;D++)F[D-1]=arguments[D];T.fn.apply(T.context,F)}else{var H=T.length,O;for(D=0;D<H;D++)switch(T[D].once&&this.removeListener(g,T[D].fn,void 0,!0),R){case 1:T[D].fn.call(T[D].context);break;case 2:T[D].fn.call(T[D].context,y);break;case 3:T[D].fn.call(T[D].context,y,w);break;case 4:T[D].fn.call(T[D].context,y,w,_);break;default:if(!F)for(O=1,F=new Array(R-1);O<R;O++)F[O-1]=arguments[O];T[D].fn.apply(T[D].context,F)}}return!0},d.prototype.on=function(g,y,w){return a(this,g,y,w,!1)},d.prototype.once=function(g,y,w){return a(this,g,y,w,!0)},d.prototype.removeListener=function(g,y,w,_){var A=t?t+g:g;if(!this._events[A])return this;if(!y)return c(this,A),this;var b=this._events[A];if(b.fn)b.fn===y&&(!_||b.once)&&(!w||b.context===w)&&c(this,A);else{for(var P=0,T=[],R=b.length;P<R;P++)(b[P].fn!==y||_&&!b[P].once||w&&b[P].context!==w)&&T.push(b[P]);T.length?this._events[A]=T.length===1?T[0]:T:c(this,A)}return this},d.prototype.removeAllListeners=function(g){var y;return g?(y=t?t+g:g,this._events[y]&&c(this,y)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=t,d.EventEmitter=d,i.exports=d}(Ap)),Ap.exports}var P_=C_();const bc=Ac(P_);var yd={exports:{}},Yg;function I_(){if(Yg)return yd.exports;Yg=1,yd.exports=i,yd.exports.default=i;function i(N,z,I){I=I||2;var j=z&&z.length,B=j?z[0]*I:N.length,k=e(N,0,B,I,!0),G=[];if(!k||k.next===k.prev)return G;var Y,se,de,me,pe,xe,Te;if(j&&(k=p(N,z,k,I)),N.length>80*I){Y=de=N[0],se=me=N[1];for(var Ee=I;Ee<B;Ee+=I)pe=N[Ee],xe=N[Ee+1],pe<Y&&(Y=pe),xe<se&&(se=xe),pe>de&&(de=pe),xe>me&&(me=xe);Te=Math.max(de-Y,me-se),Te=Te!==0?32767/Te:0}return r(k,G,I,Y,se,Te,0),G}function e(N,z,I,j,B){var k,G;if(B===he(N,z,I,j)>0)for(k=z;k<I;k+=j)G=Q(k,N[k],N[k+1],G);else for(k=I-j;k>=z;k-=j)G=Q(k,N[k],N[k+1],G);return G&&H(G,G.next)&&(q(G),G=G.next),G}function t(N,z){if(!N)return N;z||(z=N);var I=N,j;do if(j=!1,!I.steiner&&(H(I,I.next)||D(I.prev,I,I.next)===0)){if(q(I),I=z=I.prev,I===I.next)break;j=!0}else I=I.next;while(j||I!==z);return z}function r(N,z,I,j,B,k,G){if(N){!G&&k&&A(N,j,B,k);for(var Y=N,se,de;N.prev!==N.next;){if(se=N.prev,de=N.next,k?a(N,j,B,k):s(N)){z.push(se.i/I|0),z.push(N.i/I|0),z.push(de.i/I|0),q(N),N=de.next,Y=de.next;continue}if(N=de,N===Y){G?G===1?(N=c(t(N),z,I),r(N,z,I,j,B,k,2)):G===2&&d(N,z,I,j,B,k):r(t(N),z,I,j,B,k,1);break}}}}function s(N){var z=N.prev,I=N,j=N.next;if(D(z,I,j)>=0)return!1;for(var B=z.x,k=I.x,G=j.x,Y=z.y,se=I.y,de=j.y,me=B<k?B<G?B:G:k<G?k:G,pe=Y<se?Y<de?Y:de:se<de?se:de,xe=B>k?B>G?B:G:k>G?k:G,Te=Y>se?Y>de?Y:de:se>de?se:de,Ee=j.next;Ee!==z;){if(Ee.x>=me&&Ee.x<=xe&&Ee.y>=pe&&Ee.y<=Te&&R(B,Y,k,se,G,de,Ee.x,Ee.y)&&D(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.next}return!0}function a(N,z,I,j){var B=N.prev,k=N,G=N.next;if(D(B,k,G)>=0)return!1;for(var Y=B.x,se=k.x,de=G.x,me=B.y,pe=k.y,xe=G.y,Te=Y<se?Y<de?Y:de:se<de?se:de,Ee=me<pe?me<xe?me:xe:pe<xe?pe:xe,Fe=Y>se?Y>de?Y:de:se>de?se:de,et=me>pe?me>xe?me:xe:pe>xe?pe:xe,je=P(Te,Ee,z,I,j),pt=P(Fe,et,z,I,j),Xe=N.prevZ,$e=N.nextZ;Xe&&Xe.z>=je&&$e&&$e.z<=pt;){if(Xe.x>=Te&&Xe.x<=Fe&&Xe.y>=Ee&&Xe.y<=et&&Xe!==B&&Xe!==G&&R(Y,me,se,pe,de,xe,Xe.x,Xe.y)&&D(Xe.prev,Xe,Xe.next)>=0||(Xe=Xe.prevZ,$e.x>=Te&&$e.x<=Fe&&$e.y>=Ee&&$e.y<=et&&$e!==B&&$e!==G&&R(Y,me,se,pe,de,xe,$e.x,$e.y)&&D($e.prev,$e,$e.next)>=0))return!1;$e=$e.nextZ}for(;Xe&&Xe.z>=je;){if(Xe.x>=Te&&Xe.x<=Fe&&Xe.y>=Ee&&Xe.y<=et&&Xe!==B&&Xe!==G&&R(Y,me,se,pe,de,xe,Xe.x,Xe.y)&&D(Xe.prev,Xe,Xe.next)>=0)return!1;Xe=Xe.prevZ}for(;$e&&$e.z<=pt;){if($e.x>=Te&&$e.x<=Fe&&$e.y>=Ee&&$e.y<=et&&$e!==B&&$e!==G&&R(Y,me,se,pe,de,xe,$e.x,$e.y)&&D($e.prev,$e,$e.next)>=0)return!1;$e=$e.nextZ}return!0}function c(N,z,I){var j=N;do{var B=j.prev,k=j.next.next;!H(B,k)&&O(B,j,j.next,k)&&oe(B,k)&&oe(k,B)&&(z.push(B.i/I|0),z.push(j.i/I|0),z.push(k.i/I|0),q(j),q(j.next),j=N=k),j=j.next}while(j!==N);return t(j)}function d(N,z,I,j,B,k){var G=N;do{for(var Y=G.next.next;Y!==G.prev;){if(G.i!==Y.i&&F(G,Y)){var se=Ae(G,Y);G=t(G,G.next),se=t(se,se.next),r(G,z,I,j,B,k,0),r(se,z,I,j,B,k,0);return}Y=Y.next}G=G.next}while(G!==N)}function p(N,z,I,j){var B=[],k,G,Y,se,de;for(k=0,G=z.length;k<G;k++)Y=z[k]*j,se=k<G-1?z[k+1]*j:N.length,de=e(N,Y,se,j,!1),de===de.next&&(de.steiner=!0),B.push(T(de));for(B.sort(g),k=0;k<B.length;k++)I=y(B[k],I);return I}function g(N,z){return N.x-z.x}function y(N,z){var I=w(N,z);if(!I)return z;var j=Ae(I,N);return t(j,j.next),t(I,I.next)}function w(N,z){var I=z,j=N.x,B=N.y,k=-1/0,G;do{if(B<=I.y&&B>=I.next.y&&I.next.y!==I.y){var Y=I.x+(B-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(Y<=j&&Y>k&&(k=Y,G=I.x<I.next.x?I:I.next,Y===j))return G}I=I.next}while(I!==z);if(!G)return null;var se=G,de=G.x,me=G.y,pe=1/0,xe;I=G;do j>=I.x&&I.x>=de&&j!==I.x&&R(B<me?j:k,B,de,me,B<me?k:j,B,I.x,I.y)&&(xe=Math.abs(B-I.y)/(j-I.x),oe(I,N)&&(xe<pe||xe===pe&&(I.x>G.x||I.x===G.x&&_(G,I)))&&(G=I,pe=xe)),I=I.next;while(I!==se);return G}function _(N,z){return D(N.prev,N,z.prev)<0&&D(z.next,N,N.next)<0}function A(N,z,I,j){var B=N;do B.z===0&&(B.z=P(B.x,B.y,z,I,j)),B.prevZ=B.prev,B.nextZ=B.next,B=B.next;while(B!==N);B.prevZ.nextZ=null,B.prevZ=null,b(B)}function b(N){var z,I,j,B,k,G,Y,se,de=1;do{for(I=N,N=null,k=null,G=0;I;){for(G++,j=I,Y=0,z=0;z<de&&(Y++,j=j.nextZ,!!j);z++);for(se=de;Y>0||se>0&&j;)Y!==0&&(se===0||!j||I.z<=j.z)?(B=I,I=I.nextZ,Y--):(B=j,j=j.nextZ,se--),k?k.nextZ=B:N=B,B.prevZ=k,k=B;I=j}k.nextZ=null,de*=2}while(G>1);return N}function P(N,z,I,j,B){return N=(N-I)*B|0,z=(z-j)*B|0,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,N|z<<1}function T(N){var z=N,I=N;do(z.x<I.x||z.x===I.x&&z.y<I.y)&&(I=z),z=z.next;while(z!==N);return I}function R(N,z,I,j,B,k,G,Y){return(B-G)*(z-Y)>=(N-G)*(k-Y)&&(N-G)*(j-Y)>=(I-G)*(z-Y)&&(I-G)*(k-Y)>=(B-G)*(j-Y)}function F(N,z){return N.next.i!==z.i&&N.prev.i!==z.i&&!J(N,z)&&(oe(N,z)&&oe(z,N)&&ce(N,z)&&(D(N.prev,N,z.prev)||D(N,z.prev,z))||H(N,z)&&D(N.prev,N,N.next)>0&&D(z.prev,z,z.next)>0)}function D(N,z,I){return(z.y-N.y)*(I.x-z.x)-(z.x-N.x)*(I.y-z.y)}function H(N,z){return N.x===z.x&&N.y===z.y}function O(N,z,I,j){var B=L(D(N,z,I)),k=L(D(N,z,j)),G=L(D(I,j,N)),Y=L(D(I,j,z));return!!(B!==k&&G!==Y||B===0&&V(N,I,z)||k===0&&V(N,j,z)||G===0&&V(I,N,j)||Y===0&&V(I,z,j))}function V(N,z,I){return z.x<=Math.max(N.x,I.x)&&z.x>=Math.min(N.x,I.x)&&z.y<=Math.max(N.y,I.y)&&z.y>=Math.min(N.y,I.y)}function L(N){return N>0?1:N<0?-1:0}function J(N,z){var I=N;do{if(I.i!==N.i&&I.next.i!==N.i&&I.i!==z.i&&I.next.i!==z.i&&O(I,I.next,N,z))return!0;I=I.next}while(I!==N);return!1}function oe(N,z){return D(N.prev,N,N.next)<0?D(N,z,N.next)>=0&&D(N,N.prev,z)>=0:D(N,z,N.prev)<0||D(N,N.next,z)<0}function ce(N,z){var I=N,j=!1,B=(N.x+z.x)/2,k=(N.y+z.y)/2;do I.y>k!=I.next.y>k&&I.next.y!==I.y&&B<(I.next.x-I.x)*(k-I.y)/(I.next.y-I.y)+I.x&&(j=!j),I=I.next;while(I!==N);return j}function Ae(N,z){var I=new te(N.i,N.x,N.y),j=new te(z.i,z.x,z.y),B=N.next,k=z.prev;return N.next=z,z.prev=N,I.next=B,B.prev=I,j.next=I,I.prev=j,k.next=j,j.prev=k,j}function Q(N,z,I,j){var B=new te(N,z,I);return j?(B.next=j.next,B.prev=j,j.next.prev=B,j.next=B):(B.prev=B,B.next=B),B}function q(N){N.next.prev=N.prev,N.prev.next=N.next,N.prevZ&&(N.prevZ.nextZ=N.nextZ),N.nextZ&&(N.nextZ.prevZ=N.prevZ)}function te(N,z,I){this.i=N,this.x=z,this.y=I,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}i.deviation=function(N,z,I,j){var B=z&&z.length,k=B?z[0]*I:N.length,G=Math.abs(he(N,0,k,I));if(B)for(var Y=0,se=z.length;Y<se;Y++){var de=z[Y]*I,me=Y<se-1?z[Y+1]*I:N.length;G-=Math.abs(he(N,de,me,I))}var pe=0;for(Y=0;Y<j.length;Y+=3){var xe=j[Y]*I,Te=j[Y+1]*I,Ee=j[Y+2]*I;pe+=Math.abs((N[xe]-N[Ee])*(N[Te+1]-N[xe+1])-(N[xe]-N[Te])*(N[Ee+1]-N[xe+1]))}return G===0&&pe===0?0:Math.abs((pe-G)/G)};function he(N,z,I,j){for(var B=0,k=z,G=I-j;k<I;k+=j)B+=(N[G]-N[k])*(N[k+1]+N[G+1]),G=k;return B}return i.flatten=function(N){for(var z=N[0][0].length,I={vertices:[],holes:[],dimensions:z},j=0,B=0;B<N.length;B++){for(var k=0;k<N[B].length;k++)for(var G=0;G<z;G++)I.vertices.push(N[B][k][G]);B>0&&(j+=N[B-1].length,I.holes.push(j))}return I},yd.exports}var R_=I_();const k_=Ac(R_);var Sl={},ac={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var M_=ac.exports,qg;function D_(){return qg||(qg=1,function(i,e){(function(t){var r=e&&!e.nodeType&&e,s=!i.nodeType&&i,a=typeof Jd=="object"&&Jd;(a.global===a||a.window===a||a.self===a)&&(t=a);var c,d=2147483647,p=36,g=1,y=26,w=38,_=700,A=72,b=128,P="-",T=/^xn--/,R=/[^\x20-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},H=p-g,O=Math.floor,V=String.fromCharCode,L;function J(B){throw new RangeError(D[B])}function oe(B,k){for(var G=B.length,Y=[];G--;)Y[G]=k(B[G]);return Y}function ce(B,k){var G=B.split("@"),Y="";G.length>1&&(Y=G[0]+"@",B=G[1]),B=B.replace(F,".");var se=B.split("."),de=oe(se,k).join(".");return Y+de}function Ae(B){for(var k=[],G=0,Y=B.length,se,de;G<Y;)se=B.charCodeAt(G++),se>=55296&&se<=56319&&G<Y?(de=B.charCodeAt(G++),(de&64512)==56320?k.push(((se&1023)<<10)+(de&1023)+65536):(k.push(se),G--)):k.push(se);return k}function Q(B){return oe(B,function(k){var G="";return k>65535&&(k-=65536,G+=V(k>>>10&1023|55296),k=56320|k&1023),G+=V(k),G}).join("")}function q(B){return B-48<10?B-22:B-65<26?B-65:B-97<26?B-97:p}function te(B,k){return B+22+75*(B<26)-((k!=0)<<5)}function he(B,k,G){var Y=0;for(B=G?O(B/_):B>>1,B+=O(B/k);B>H*y>>1;Y+=p)B=O(B/H);return O(Y+(H+1)*B/(B+w))}function N(B){var k=[],G=B.length,Y,se=0,de=b,me=A,pe,xe,Te,Ee,Fe,et,je,pt,Xe;for(pe=B.lastIndexOf(P),pe<0&&(pe=0),xe=0;xe<pe;++xe)B.charCodeAt(xe)>=128&&J("not-basic"),k.push(B.charCodeAt(xe));for(Te=pe>0?pe+1:0;Te<G;){for(Ee=se,Fe=1,et=p;Te>=G&&J("invalid-input"),je=q(B.charCodeAt(Te++)),(je>=p||je>O((d-se)/Fe))&&J("overflow"),se+=je*Fe,pt=et<=me?g:et>=me+y?y:et-me,!(je<pt);et+=p)Xe=p-pt,Fe>O(d/Xe)&&J("overflow"),Fe*=Xe;Y=k.length+1,me=he(se-Ee,Y,Ee==0),O(se/Y)>d-de&&J("overflow"),de+=O(se/Y),se%=Y,k.splice(se++,0,de)}return Q(k)}function z(B){var k,G,Y,se,de,me,pe,xe,Te,Ee,Fe,et=[],je,pt,Xe,$e;for(B=Ae(B),je=B.length,k=b,G=0,de=A,me=0;me<je;++me)Fe=B[me],Fe<128&&et.push(V(Fe));for(Y=se=et.length,se&&et.push(P);Y<je;){for(pe=d,me=0;me<je;++me)Fe=B[me],Fe>=k&&Fe<pe&&(pe=Fe);for(pt=Y+1,pe-k>O((d-G)/pt)&&J("overflow"),G+=(pe-k)*pt,k=pe,me=0;me<je;++me)if(Fe=B[me],Fe<k&&++G>d&&J("overflow"),Fe==k){for(xe=G,Te=p;Ee=Te<=de?g:Te>=de+y?y:Te-de,!(xe<Ee);Te+=p)$e=xe-Ee,Xe=p-Ee,et.push(V(te(Ee+$e%Xe,0))),xe=O($e/Xe);et.push(V(te(xe,0))),de=he(G,pt,Y==se),G=0,++Y}++G,++k}return et.join("")}function I(B){return ce(B,function(k){return T.test(k)?N(k.slice(4).toLowerCase()):k})}function j(B){return ce(B,function(k){return R.test(k)?"xn--"+z(k):k})}if(c={version:"1.4.1",ucs2:{decode:Ae,encode:Q},decode:N,encode:z,toASCII:j,toUnicode:I},r&&s)if(i.exports==r)s.exports=c;else for(L in c)c.hasOwnProperty(L)&&(r[L]=c[L]);else t.punycode=c})(M_)}(ac,ac.exports)),ac.exports}var bp,Qg;function eh(){return Qg||(Qg=1,bp=TypeError),bp}const N_={},F_=Object.freeze(Object.defineProperty({__proto__:null,default:N_},Symbol.toStringTag,{value:"Module"})),B_=n1(F_);var Tp,Kg;function vf(){if(Kg)return Tp;Kg=1;var i=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=i&&e&&typeof e.get=="function"?e.get:null,r=i&&Map.prototype.forEach,s=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&a&&typeof a.get=="function"?a.get:null,d=s&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,g=p?WeakMap.prototype.has:null,y=typeof WeakSet=="function"&&WeakSet.prototype,w=y?WeakSet.prototype.has:null,_=typeof WeakRef=="function"&&WeakRef.prototype,A=_?WeakRef.prototype.deref:null,b=Boolean.prototype.valueOf,P=Object.prototype.toString,T=Function.prototype.toString,R=String.prototype.match,F=String.prototype.slice,D=String.prototype.replace,H=String.prototype.toUpperCase,O=String.prototype.toLowerCase,V=RegExp.prototype.test,L=Array.prototype.concat,J=Array.prototype.join,oe=Array.prototype.slice,ce=Math.floor,Ae=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Q=Object.getOwnPropertySymbols,q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,te=typeof Symbol=="function"&&typeof Symbol.iterator=="object",he=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===te||!0)?Symbol.toStringTag:null,N=Object.prototype.propertyIsEnumerable,z=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ne){return ne.__proto__}:null);function I(ne,ae){if(ne===1/0||ne===-1/0||ne!==ne||ne&&ne>-1e3&&ne<1e3||V.call(/e/,ae))return ae;var ut=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ne=="number"){var wt=ne<0?-ce(-ne):ce(ne);if(wt!==ne){var At=String(wt),st=F.call(ae,At.length+1);return D.call(At,ut,"$&_")+"."+D.call(D.call(st,/([0-9]{3})/g,"$&_"),/_$/,"")}}return D.call(ae,ut,"$&_")}var j=B_,B=j.custom,k=je(B)?B:null,G={__proto__:null,double:'"',single:"'"},Y={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Tp=function ne(ae,ut,wt,At){var st=ut||{};if($e(st,"quoteStyle")&&!$e(G,st.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if($e(st,"maxStringLength")&&(typeof st.maxStringLength=="number"?st.maxStringLength<0&&st.maxStringLength!==1/0:st.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Br=$e(st,"customInspect")?st.customInspect:!0;if(typeof Br!="boolean"&&Br!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($e(st,"indent")&&st.indent!==null&&st.indent!=="	"&&!(parseInt(st.indent,10)===st.indent&&st.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($e(st,"numericSeparator")&&typeof st.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Wr=st.numericSeparator;if(typeof ae>"u")return"undefined";if(ae===null)return"null";if(typeof ae=="boolean")return ae?"true":"false";if(typeof ae=="string")return Aa(ae,st);if(typeof ae=="number"){if(ae===0)return 1/0/ae>0?"0":"-0";var Ar=String(ae);return Wr?I(ae,Ar):Ar}if(typeof ae=="bigint"){var gn=String(ae)+"n";return Wr?I(ae,gn):gn}var Ns=typeof st.depth>"u"?5:st.depth;if(typeof wt>"u"&&(wt=0),wt>=Ns&&Ns>0&&typeof ae=="object")return me(ae)?"[Array]":"[Object]";var pi=rh(st,wt);if(typeof At>"u")At=[];else if(Un(At,ae)>=0)return"[Circular]";function br(Zi,Ls,jl){if(Ls&&(At=oe.call(At),At.push(Ls)),jl){var Pa={depth:st.depth};return $e(st,"quoteStyle")&&(Pa.quoteStyle=st.quoteStyle),ne(Zi,Pa,wt+1,At)}return ne(Zi,st,wt+1,At)}if(typeof ae=="function"&&!xe(ae)){var Fs=Yt(ae),wo=Ds(ae,br);return"[Function"+(Fs?": "+Fs:" (anonymous)")+"]"+(wo.length>0?" { "+J.call(wo,", ")+" }":"")}if(je(ae)){var Qi=te?D.call(String(ae),/^(Symbol\(.*\))_[^)]*$/,"$1"):q.call(ae);return typeof ae=="object"&&!te?Jn(Qi):Qi}if(zl(ae)){for(var mi="<"+O.call(String(ae.nodeName)),gi=ae.attributes||[],Bs=0;Bs<gi.length;Bs++)mi+=" "+gi[Bs].name+"="+se(de(gi[Bs].value),"double",st);return mi+=">",ae.childNodes&&ae.childNodes.length&&(mi+="..."),mi+="</"+O.call(String(ae.nodeName))+">",mi}if(me(ae)){if(ae.length===0)return"[]";var zn=Ds(ae,br);return pi&&!Ms(zn)?"["+_o(zn,pi)+"]":"[ "+J.call(zn,", ")+" ]"}if(Te(ae)){var Ki=Ds(ae,br);return!("cause"in Error.prototype)&&"cause"in ae&&!N.call(ae,"cause")?"{ ["+String(ae)+"] "+J.call(L.call("[cause]: "+br(ae.cause),Ki),", ")+" }":Ki.length===0?"["+String(ae)+"]":"{ ["+String(ae)+"] "+J.call(Ki,", ")+" }"}if(typeof ae=="object"&&Br){if(k&&typeof ae[k]=="function"&&j)return j(ae,{depth:Ns-wt});if(Br!=="symbol"&&typeof ae.inspect=="function")return ae.inspect()}if(Sr(ae)){var Os=[];return r&&r.call(ae,function(Zi,Ls){Os.push(br(Ls,ae,!0)+" => "+br(Zi,ae))}),qi("Map",t.call(ae),Os,pi)}if(Ul(ae)){var yi=[];return d&&d.call(ae,function(Zi){yi.push(br(Zi,ae))}),qi("Set",c.call(ae),yi,pi)}if(rn(ae))return xo("WeakMap");if(Yi(ae))return xo("WeakSet");if(Sa(ae))return xo("WeakRef");if(Fe(ae))return Jn(br(Number(ae)));if(pt(ae))return Jn(br(Ae.call(ae)));if(et(ae))return Jn(b.call(ae));if(Ee(ae))return Jn(br(String(ae)));if(typeof window<"u"&&ae===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ae===globalThis||typeof Jd<"u"&&ae===Jd)return"{ [object globalThis] }";if(!pe(ae)&&!xe(ae)){var Ta=Ds(ae,br),Gl=z?z(ae)===Object.prototype:ae instanceof Object||ae.constructor===Object,Ca=ae instanceof Object?"":"null prototype",ei=!Gl&&he&&Object(ae)===ae&&he in ae?F.call(Dt(ae),8,-1):Ca?"Object":"",Hl=Gl||typeof ae.constructor!="function"?"":ae.constructor.name?ae.constructor.name+" ":"",Eo=Hl+(ei||Ca?"["+J.call(L.call([],ei||[],Ca||[]),": ")+"] ":"");return Ta.length===0?Eo+"{}":pi?Eo+"{"+_o(Ta,pi)+"}":Eo+"{ "+J.call(Ta,", ")+" }"}return String(ae)};function se(ne,ae,ut){var wt=ut.quoteStyle||ae,At=G[wt];return At+ne+At}function de(ne){return D.call(String(ne),/"/g,"&quot;")}function me(ne){return Dt(ne)==="[object Array]"&&(!he||!(typeof ne=="object"&&he in ne))}function pe(ne){return Dt(ne)==="[object Date]"&&(!he||!(typeof ne=="object"&&he in ne))}function xe(ne){return Dt(ne)==="[object RegExp]"&&(!he||!(typeof ne=="object"&&he in ne))}function Te(ne){return Dt(ne)==="[object Error]"&&(!he||!(typeof ne=="object"&&he in ne))}function Ee(ne){return Dt(ne)==="[object String]"&&(!he||!(typeof ne=="object"&&he in ne))}function Fe(ne){return Dt(ne)==="[object Number]"&&(!he||!(typeof ne=="object"&&he in ne))}function et(ne){return Dt(ne)==="[object Boolean]"&&(!he||!(typeof ne=="object"&&he in ne))}function je(ne){if(te)return ne&&typeof ne=="object"&&ne instanceof Symbol;if(typeof ne=="symbol")return!0;if(!ne||typeof ne!="object"||!q)return!1;try{return q.call(ne),!0}catch{}return!1}function pt(ne){if(!ne||typeof ne!="object"||!Ae)return!1;try{return Ae.call(ne),!0}catch{}return!1}var Xe=Object.prototype.hasOwnProperty||function(ne){return ne in this};function $e(ne,ae){return Xe.call(ne,ae)}function Dt(ne){return P.call(ne)}function Yt(ne){if(ne.name)return ne.name;var ae=R.call(T.call(ne),/^function\s*([\w$]+)/);return ae?ae[1]:null}function Un(ne,ae){if(ne.indexOf)return ne.indexOf(ae);for(var ut=0,wt=ne.length;ut<wt;ut++)if(ne[ut]===ae)return ut;return-1}function Sr(ne){if(!t||!ne||typeof ne!="object")return!1;try{t.call(ne);try{c.call(ne)}catch{return!0}return ne instanceof Map}catch{}return!1}function rn(ne){if(!g||!ne||typeof ne!="object")return!1;try{g.call(ne,g);try{w.call(ne,w)}catch{return!0}return ne instanceof WeakMap}catch{}return!1}function Sa(ne){if(!A||!ne||typeof ne!="object")return!1;try{return A.call(ne),!0}catch{}return!1}function Ul(ne){if(!c||!ne||typeof ne!="object")return!1;try{c.call(ne);try{t.call(ne)}catch{return!0}return ne instanceof Set}catch{}return!1}function Yi(ne){if(!w||!ne||typeof ne!="object")return!1;try{w.call(ne,w);try{g.call(ne,g)}catch{return!0}return ne instanceof WeakSet}catch{}return!1}function zl(ne){return!ne||typeof ne!="object"?!1:typeof HTMLElement<"u"&&ne instanceof HTMLElement?!0:typeof ne.nodeName=="string"&&typeof ne.getAttribute=="function"}function Aa(ne,ae){if(ne.length>ae.maxStringLength){var ut=ne.length-ae.maxStringLength,wt="... "+ut+" more character"+(ut>1?"s":"");return Aa(F.call(ne,0,ae.maxStringLength),ae)+wt}var At=Y[ae.quoteStyle||"single"];At.lastIndex=0;var st=D.call(D.call(ne,At,"\\$1"),/[\x00-\x1f]/g,ba);return se(st,"single",ae)}function ba(ne){var ae=ne.charCodeAt(0),ut={8:"b",9:"t",10:"n",12:"f",13:"r"}[ae];return ut?"\\"+ut:"\\x"+(ae<16?"0":"")+H.call(ae.toString(16))}function Jn(ne){return"Object("+ne+")"}function xo(ne){return ne+" { ? }"}function qi(ne,ae,ut,wt){var At=wt?_o(ut,wt):J.call(ut,", ");return ne+" ("+ae+") {"+At+"}"}function Ms(ne){for(var ae=0;ae<ne.length;ae++)if(Un(ne[ae],`
`)>=0)return!1;return!0}function rh(ne,ae){var ut;if(ne.indent==="	")ut="	";else if(typeof ne.indent=="number"&&ne.indent>0)ut=J.call(Array(ne.indent+1)," ");else return null;return{base:ut,prev:J.call(Array(ae+1),ut)}}function _o(ne,ae){if(ne.length===0)return"";var ut=`
`+ae.prev+ae.base;return ut+J.call(ne,","+ut)+`
`+ae.prev}function Ds(ne,ae){var ut=me(ne),wt=[];if(ut){wt.length=ne.length;for(var At=0;At<ne.length;At++)wt[At]=$e(ne,At)?ae(ne[At],ne):""}var st=typeof Q=="function"?Q(ne):[],Br;if(te){Br={};for(var Wr=0;Wr<st.length;Wr++)Br["$"+st[Wr]]=st[Wr]}for(var Ar in ne)$e(ne,Ar)&&(ut&&String(Number(Ar))===Ar&&Ar<ne.length||te&&Br["$"+Ar]instanceof Symbol||(V.call(/[^\w$]/,Ar)?wt.push(ae(Ar,ne)+": "+ae(ne[Ar],ne)):wt.push(Ar+": "+ae(ne[Ar],ne))));if(typeof Q=="function")for(var gn=0;gn<st.length;gn++)N.call(ne,st[gn])&&wt.push("["+ae(st[gn])+"]: "+ae(ne[st[gn]],ne));return wt}return Tp}var Cp,Zg;function O_(){if(Zg)return Cp;Zg=1;var i=vf(),e=eh(),t=function(d,p,g){for(var y=d,w;(w=y.next)!=null;y=w)if(w.key===p)return y.next=w.next,g||(w.next=d.next,d.next=w),w},r=function(d,p){if(d){var g=t(d,p);return g&&g.value}},s=function(d,p,g){var y=t(d,p);y?y.value=g:d.next={key:p,next:d.next,value:g}},a=function(d,p){return d?!!t(d,p):!1},c=function(d,p){if(d)return t(d,p,!0)};return Cp=function(){var p,g={assert:function(y){if(!g.has(y))throw new e("Side channel does not contain "+i(y))},delete:function(y){var w=p&&p.next,_=c(p,y);return _&&w&&w===_&&(p=void 0),!!_},get:function(y){return r(p,y)},has:function(y){return a(p,y)},set:function(y,w){p||(p={next:void 0}),s(p,y,w)}};return g},Cp}var Pp,Jg;function L_(){return Jg||(Jg=1,Pp=Object),Pp}var Ip,ey;function U_(){return ey||(ey=1,Ip=Error),Ip}var Rp,ty;function z_(){return ty||(ty=1,Rp=EvalError),Rp}var kp,ry;function G_(){return ry||(ry=1,kp=RangeError),kp}var Mp,ny;function H_(){return ny||(ny=1,Mp=ReferenceError),Mp}var Dp,iy;function j_(){return iy||(iy=1,Dp=SyntaxError),Dp}var Np,sy;function W_(){return sy||(sy=1,Np=URIError),Np}var Fp,oy;function V_(){return oy||(oy=1,Fp=Math.abs),Fp}var Bp,ay;function X_(){return ay||(ay=1,Bp=Math.floor),Bp}var Op,ly;function $_(){return ly||(ly=1,Op=Math.max),Op}var Lp,uy;function Y_(){return uy||(uy=1,Lp=Math.min),Lp}var Up,hy;function q_(){return hy||(hy=1,Up=Math.pow),Up}var zp,cy;function Q_(){return cy||(cy=1,zp=Object.getOwnPropertyDescriptor),zp}var Gp,dy;function s1(){if(dy)return Gp;dy=1;var i=Q_();if(i)try{i([],"length")}catch{i=null}return Gp=i,Gp}var Hp,fy;function K_(){if(fy)return Hp;fy=1;var i=Object.defineProperty||!1;if(i)try{i({},"a",{value:1})}catch{i=!1}return Hp=i,Hp}var jp,py;function Z_(){return py||(py=1,jp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,t);if(d.value!==s||d.enumerable!==!0)return!1}return!0}),jp}var Wp,my;function J_(){if(my)return Wp;my=1;var i=typeof Symbol<"u"&&Symbol,e=Z_();return Wp=function(){return typeof i!="function"||typeof Symbol!="function"||typeof i("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Wp}var Vp,gy;function ew(){if(gy)return Vp;gy=1;var i="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,r="[object Function]",s=function(p,g){for(var y=[],w=0;w<p.length;w+=1)y[w]=p[w];for(var _=0;_<g.length;_+=1)y[_+p.length]=g[_];return y},a=function(p,g){for(var y=[],w=g,_=0;w<p.length;w+=1,_+=1)y[_]=p[w];return y},c=function(d,p){for(var g="",y=0;y<d.length;y+=1)g+=d[y],y+1<d.length&&(g+=p);return g};return Vp=function(p){var g=this;if(typeof g!="function"||e.apply(g)!==r)throw new TypeError(i+g);for(var y=a(arguments,1),w,_=function(){if(this instanceof w){var R=g.apply(this,s(y,arguments));return Object(R)===R?R:this}return g.apply(p,s(y,arguments))},A=t(0,g.length-y.length),b=[],P=0;P<A;P++)b[P]="$"+P;if(w=Function("binder","return function ("+c(b,",")+"){ return binder.apply(this,arguments); }")(_),g.prototype){var T=function(){};T.prototype=g.prototype,w.prototype=new T,T.prototype=null}return w},Vp}var Xp,yy;function xf(){if(yy)return Xp;yy=1;var i=ew();return Xp=Function.prototype.bind||i,Xp}var $p,vy;function B0(){return vy||(vy=1,$p=Function.prototype.call),$p}var Yp,xy;function o1(){return xy||(xy=1,Yp=Function.prototype.apply),Yp}var qp,_y;function tw(){return _y||(_y=1,qp=typeof Reflect<"u"&&Reflect&&Reflect.apply),qp}var Qp,wy;function rw(){if(wy)return Qp;wy=1;var i=xf(),e=o1(),t=B0(),r=tw();return Qp=r||i.call(t,e),Qp}var Kp,Ey;function a1(){if(Ey)return Kp;Ey=1;var i=xf(),e=eh(),t=B0(),r=rw();return Kp=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return r(i,t,a)},Kp}var Zp,Sy;function nw(){if(Sy)return Zp;Sy=1;var i=a1(),e=s1(),t;try{t=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var r=!!t&&e&&e(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return Zp=r&&typeof r.get=="function"?i([r.get]):typeof a=="function"?function(d){return a(d==null?d:s(d))}:!1,Zp}var Jp,Ay;function iw(){if(Ay)return Jp;Ay=1;var i=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=xf();return Jp=t.call(i,e),Jp}var em,by;function O0(){if(by)return em;by=1;var i,e=L_(),t=U_(),r=z_(),s=G_(),a=H_(),c=j_(),d=eh(),p=W_(),g=V_(),y=X_(),w=$_(),_=Y_(),A=q_(),b=Function,P=function(me){try{return b('"use strict"; return ('+me+").constructor;")()}catch{}},T=s1(),R=K_(),F=function(){throw new d},D=T?function(){try{return arguments.callee,F}catch{try{return T(arguments,"callee").get}catch{return F}}}():F,H=J_()(),O=nw(),V=typeof Reflect=="function"&&Reflect.getPrototypeOf||e.getPrototypeOf||O,L=o1(),J=B0(),oe={},ce=typeof Uint8Array>"u"||!V?i:V(Uint8Array),Ae={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?i:ArrayBuffer,"%ArrayIteratorPrototype%":H&&V?V([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":oe,"%AsyncGenerator%":oe,"%AsyncGeneratorFunction%":oe,"%AsyncIteratorPrototype%":oe,"%Atomics%":typeof Atomics>"u"?i:Atomics,"%BigInt%":typeof BigInt>"u"?i:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?i:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?i:Float32Array,"%Float64Array%":typeof Float64Array>"u"?i:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?i:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":oe,"%Int8Array%":typeof Int8Array>"u"?i:Int8Array,"%Int16Array%":typeof Int16Array>"u"?i:Int16Array,"%Int32Array%":typeof Int32Array>"u"?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":H&&V?V(V([][Symbol.iterator]())):i,"%JSON%":typeof JSON=="object"?JSON:i,"%Map%":typeof Map>"u"?i:Map,"%MapIteratorPrototype%":typeof Map>"u"||!H||!V?i:V(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":T,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?i:Promise,"%Proxy%":typeof Proxy>"u"?i:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?i:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?i:Set,"%SetIteratorPrototype%":typeof Set>"u"||!H||!V?i:V(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":H&&V?V(""[Symbol.iterator]()):i,"%Symbol%":H?Symbol:i,"%SyntaxError%":c,"%ThrowTypeError%":D,"%TypedArray%":ce,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?i:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?i:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?i:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?i:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?i:WeakMap,"%WeakRef%":typeof WeakRef>"u"?i:WeakRef,"%WeakSet%":typeof WeakSet>"u"?i:WeakSet,"%Function.prototype.call%":J,"%Function.prototype.apply%":L,"%Object.defineProperty%":R,"%Math.abs%":g,"%Math.floor%":y,"%Math.max%":w,"%Math.min%":_,"%Math.pow%":A};if(V)try{null.error}catch(me){var Q=V(V(me));Ae["%Error.prototype%"]=Q}var q=function me(pe){var xe;if(pe==="%AsyncFunction%")xe=P("async function () {}");else if(pe==="%GeneratorFunction%")xe=P("function* () {}");else if(pe==="%AsyncGeneratorFunction%")xe=P("async function* () {}");else if(pe==="%AsyncGenerator%"){var Te=me("%AsyncGeneratorFunction%");Te&&(xe=Te.prototype)}else if(pe==="%AsyncIteratorPrototype%"){var Ee=me("%AsyncGenerator%");Ee&&V&&(xe=V(Ee.prototype))}return Ae[pe]=xe,xe},te={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},he=xf(),N=iw(),z=he.call(J,Array.prototype.concat),I=he.call(L,Array.prototype.splice),j=he.call(J,String.prototype.replace),B=he.call(J,String.prototype.slice),k=he.call(J,RegExp.prototype.exec),G=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Y=/\\(\\)?/g,se=function(pe){var xe=B(pe,0,1),Te=B(pe,-1);if(xe==="%"&&Te!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(Te==="%"&&xe!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var Ee=[];return j(pe,G,function(Fe,et,je,pt){Ee[Ee.length]=je?j(pt,Y,"$1"):et||Fe}),Ee},de=function(pe,xe){var Te=pe,Ee;if(N(te,Te)&&(Ee=te[Te],Te="%"+Ee[0]+"%"),N(Ae,Te)){var Fe=Ae[Te];if(Fe===oe&&(Fe=q(Te)),typeof Fe>"u"&&!xe)throw new d("intrinsic "+pe+" exists, but is not available. Please file an issue!");return{alias:Ee,name:Te,value:Fe}}throw new c("intrinsic "+pe+" does not exist!")};return em=function(pe,xe){if(typeof pe!="string"||pe.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof xe!="boolean")throw new d('"allowMissing" argument must be a boolean');if(k(/^%?[^%]*%?$/,pe)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Te=se(pe),Ee=Te.length>0?Te[0]:"",Fe=de("%"+Ee+"%",xe),et=Fe.name,je=Fe.value,pt=!1,Xe=Fe.alias;Xe&&(Ee=Xe[0],I(Te,z([0,1],Xe)));for(var $e=1,Dt=!0;$e<Te.length;$e+=1){var Yt=Te[$e],Un=B(Yt,0,1),Sr=B(Yt,-1);if((Un==='"'||Un==="'"||Un==="`"||Sr==='"'||Sr==="'"||Sr==="`")&&Un!==Sr)throw new c("property names with quotes must have matching quotes");if((Yt==="constructor"||!Dt)&&(pt=!0),Ee+="."+Yt,et="%"+Ee+"%",N(Ae,et))je=Ae[et];else if(je!=null){if(!(Yt in je)){if(!xe)throw new d("base intrinsic for "+pe+" exists, but the property is not available.");return}if(T&&$e+1>=Te.length){var rn=T(je,Yt);Dt=!!rn,Dt&&"get"in rn&&!("originalValue"in rn.get)?je=rn.get:je=je[Yt]}else Dt=N(je,Yt),je=je[Yt];Dt&&!pt&&(Ae[et]=je)}}return je},em}var tm,Ty;function l1(){if(Ty)return tm;Ty=1;var i=O0(),e=a1(),t=e([i("%String.prototype.indexOf%")]);return tm=function(s,a){var c=i(s,!!a);return typeof c=="function"&&t(s,".prototype.")>-1?e([c]):c},tm}var rm,Cy;function u1(){if(Cy)return rm;Cy=1;var i=O0(),e=l1(),t=vf(),r=eh(),s=i("%Map%",!0),a=e("Map.prototype.get",!0),c=e("Map.prototype.set",!0),d=e("Map.prototype.has",!0),p=e("Map.prototype.delete",!0),g=e("Map.prototype.size",!0);return rm=!!s&&function(){var w,_={assert:function(A){if(!_.has(A))throw new r("Side channel does not contain "+t(A))},delete:function(A){if(w){var b=p(w,A);return g(w)===0&&(w=void 0),b}return!1},get:function(A){if(w)return a(w,A)},has:function(A){return w?d(w,A):!1},set:function(A,b){w||(w=new s),c(w,A,b)}};return _},rm}var nm,Py;function sw(){if(Py)return nm;Py=1;var i=O0(),e=l1(),t=vf(),r=u1(),s=eh(),a=i("%WeakMap%",!0),c=e("WeakMap.prototype.get",!0),d=e("WeakMap.prototype.set",!0),p=e("WeakMap.prototype.has",!0),g=e("WeakMap.prototype.delete",!0);return nm=a?function(){var w,_,A={assert:function(b){if(!A.has(b))throw new s("Side channel does not contain "+t(b))},delete:function(b){if(a&&b&&(typeof b=="object"||typeof b=="function")){if(w)return g(w,b)}else if(r&&_)return _.delete(b);return!1},get:function(b){return a&&b&&(typeof b=="object"||typeof b=="function")&&w?c(w,b):_&&_.get(b)},has:function(b){return a&&b&&(typeof b=="object"||typeof b=="function")&&w?p(w,b):!!_&&_.has(b)},set:function(b,P){a&&b&&(typeof b=="object"||typeof b=="function")?(w||(w=new a),d(w,b,P)):r&&(_||(_=r()),_.set(b,P))}};return A}:r,nm}var im,Iy;function ow(){if(Iy)return im;Iy=1;var i=eh(),e=vf(),t=O_(),r=u1(),s=sw(),a=s||r||t;return im=function(){var d,p={assert:function(g){if(!p.has(g))throw new i("Side channel does not contain "+e(g))},delete:function(g){return!!d&&d.delete(g)},get:function(g){return d&&d.get(g)},has:function(g){return!!d&&d.has(g)},set:function(g,y){d||(d=a()),d.set(g,y)}};return p},im}var sm,Ry;function L0(){if(Ry)return sm;Ry=1;var i=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return sm={default:t.RFC3986,formatters:{RFC1738:function(r){return i.call(r,e,"+")},RFC3986:function(r){return String(r)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},sm}var om,ky;function h1(){if(ky)return om;ky=1;var i=L0(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r=function(){for(var T=[],R=0;R<256;++R)T.push("%"+((R<16?"0":"")+R.toString(16)).toUpperCase());return T}(),s=function(R){for(;R.length>1;){var F=R.pop(),D=F.obj[F.prop];if(t(D)){for(var H=[],O=0;O<D.length;++O)typeof D[O]<"u"&&H.push(D[O]);F.obj[F.prop]=H}}},a=function(R,F){for(var D=F&&F.plainObjects?{__proto__:null}:{},H=0;H<R.length;++H)typeof R[H]<"u"&&(D[H]=R[H]);return D},c=function T(R,F,D){if(!F)return R;if(typeof F!="object"&&typeof F!="function"){if(t(R))R.push(F);else if(R&&typeof R=="object")(D&&(D.plainObjects||D.allowPrototypes)||!e.call(Object.prototype,F))&&(R[F]=!0);else return[R,F];return R}if(!R||typeof R!="object")return[R].concat(F);var H=R;return t(R)&&!t(F)&&(H=a(R,D)),t(R)&&t(F)?(F.forEach(function(O,V){if(e.call(R,V)){var L=R[V];L&&typeof L=="object"&&O&&typeof O=="object"?R[V]=T(L,O,D):R.push(O)}else R[V]=O}),R):Object.keys(F).reduce(function(O,V){var L=F[V];return e.call(O,V)?O[V]=T(O[V],L,D):O[V]=L,O},H)},d=function(R,F){return Object.keys(F).reduce(function(D,H){return D[H]=F[H],D},R)},p=function(T,R,F){var D=T.replace(/\+/g," ");if(F==="iso-8859-1")return D.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(D)}catch{return D}},g=1024,y=function(R,F,D,H,O){if(R.length===0)return R;var V=R;if(typeof R=="symbol"?V=Symbol.prototype.toString.call(R):typeof R!="string"&&(V=String(R)),D==="iso-8859-1")return escape(V).replace(/%u[0-9a-f]{4}/gi,function(q){return"%26%23"+parseInt(q.slice(2),16)+"%3B"});for(var L="",J=0;J<V.length;J+=g){for(var oe=V.length>=g?V.slice(J,J+g):V,ce=[],Ae=0;Ae<oe.length;++Ae){var Q=oe.charCodeAt(Ae);if(Q===45||Q===46||Q===95||Q===126||Q>=48&&Q<=57||Q>=65&&Q<=90||Q>=97&&Q<=122||O===i.RFC1738&&(Q===40||Q===41)){ce[ce.length]=oe.charAt(Ae);continue}if(Q<128){ce[ce.length]=r[Q];continue}if(Q<2048){ce[ce.length]=r[192|Q>>6]+r[128|Q&63];continue}if(Q<55296||Q>=57344){ce[ce.length]=r[224|Q>>12]+r[128|Q>>6&63]+r[128|Q&63];continue}Ae+=1,Q=65536+((Q&1023)<<10|oe.charCodeAt(Ae)&1023),ce[ce.length]=r[240|Q>>18]+r[128|Q>>12&63]+r[128|Q>>6&63]+r[128|Q&63]}L+=ce.join("")}return L},w=function(R){for(var F=[{obj:{o:R},prop:"o"}],D=[],H=0;H<F.length;++H)for(var O=F[H],V=O.obj[O.prop],L=Object.keys(V),J=0;J<L.length;++J){var oe=L[J],ce=V[oe];typeof ce=="object"&&ce!==null&&D.indexOf(ce)===-1&&(F.push({obj:V,prop:oe}),D.push(ce))}return s(F),R},_=function(R){return Object.prototype.toString.call(R)==="[object RegExp]"},A=function(R){return!R||typeof R!="object"?!1:!!(R.constructor&&R.constructor.isBuffer&&R.constructor.isBuffer(R))},b=function(R,F){return[].concat(R,F)},P=function(R,F){if(t(R)){for(var D=[],H=0;H<R.length;H+=1)D.push(F(R[H]));return D}return F(R)};return om={arrayToObject:a,assign:d,combine:b,compact:w,decode:p,encode:y,isBuffer:A,isRegExp:_,maybeMap:P,merge:c},om}var am,My;function aw(){if(My)return am;My=1;var i=ow(),e=h1(),t=L0(),r=Object.prototype.hasOwnProperty,s={brackets:function(T){return T+"[]"},comma:"comma",indices:function(T,R){return T+"["+R+"]"},repeat:function(T){return T}},a=Array.isArray,c=Array.prototype.push,d=function(P,T){c.apply(P,a(T)?T:[T])},p=Date.prototype.toISOString,g=t.default,y={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:g,formatter:t.formatters[g],indices:!1,serializeDate:function(T){return p.call(T)},skipNulls:!1,strictNullHandling:!1},w=function(T){return typeof T=="string"||typeof T=="number"||typeof T=="boolean"||typeof T=="symbol"||typeof T=="bigint"},_={},A=function P(T,R,F,D,H,O,V,L,J,oe,ce,Ae,Q,q,te,he,N,z){for(var I=T,j=z,B=0,k=!1;(j=j.get(_))!==void 0&&!k;){var G=j.get(T);if(B+=1,typeof G<"u"){if(G===B)throw new RangeError("Cyclic object value");k=!0}typeof j.get(_)>"u"&&(B=0)}if(typeof oe=="function"?I=oe(R,I):I instanceof Date?I=Q(I):F==="comma"&&a(I)&&(I=e.maybeMap(I,function(Xe){return Xe instanceof Date?Q(Xe):Xe})),I===null){if(O)return J&&!he?J(R,y.encoder,N,"key",q):R;I=""}if(w(I)||e.isBuffer(I)){if(J){var Y=he?R:J(R,y.encoder,N,"key",q);return[te(Y)+"="+te(J(I,y.encoder,N,"value",q))]}return[te(R)+"="+te(String(I))]}var se=[];if(typeof I>"u")return se;var de;if(F==="comma"&&a(I))he&&J&&(I=e.maybeMap(I,J)),de=[{value:I.length>0?I.join(",")||null:void 0}];else if(a(oe))de=oe;else{var me=Object.keys(I);de=ce?me.sort(ce):me}var pe=L?String(R).replace(/\./g,"%2E"):String(R),xe=D&&a(I)&&I.length===1?pe+"[]":pe;if(H&&a(I)&&I.length===0)return xe+"[]";for(var Te=0;Te<de.length;++Te){var Ee=de[Te],Fe=typeof Ee=="object"&&Ee&&typeof Ee.value<"u"?Ee.value:I[Ee];if(!(V&&Fe===null)){var et=Ae&&L?String(Ee).replace(/\./g,"%2E"):String(Ee),je=a(I)?typeof F=="function"?F(xe,et):xe:xe+(Ae?"."+et:"["+et+"]");z.set(T,B);var pt=i();pt.set(_,z),d(se,P(Fe,je,F,D,H,O,V,L,F==="comma"&&he&&a(I)?null:J,oe,ce,Ae,Q,q,te,he,N,pt))}}return se},b=function(T){if(!T)return y;if(typeof T.allowEmptyArrays<"u"&&typeof T.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof T.encodeDotInKeys<"u"&&typeof T.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(T.encoder!==null&&typeof T.encoder<"u"&&typeof T.encoder!="function")throw new TypeError("Encoder has to be a function.");var R=T.charset||y.charset;if(typeof T.charset<"u"&&T.charset!=="utf-8"&&T.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var F=t.default;if(typeof T.format<"u"){if(!r.call(t.formatters,T.format))throw new TypeError("Unknown format option provided.");F=T.format}var D=t.formatters[F],H=y.filter;(typeof T.filter=="function"||a(T.filter))&&(H=T.filter);var O;if(T.arrayFormat in s?O=T.arrayFormat:"indices"in T?O=T.indices?"indices":"repeat":O=y.arrayFormat,"commaRoundTrip"in T&&typeof T.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var V=typeof T.allowDots>"u"?T.encodeDotInKeys===!0?!0:y.allowDots:!!T.allowDots;return{addQueryPrefix:typeof T.addQueryPrefix=="boolean"?T.addQueryPrefix:y.addQueryPrefix,allowDots:V,allowEmptyArrays:typeof T.allowEmptyArrays=="boolean"?!!T.allowEmptyArrays:y.allowEmptyArrays,arrayFormat:O,charset:R,charsetSentinel:typeof T.charsetSentinel=="boolean"?T.charsetSentinel:y.charsetSentinel,commaRoundTrip:!!T.commaRoundTrip,delimiter:typeof T.delimiter>"u"?y.delimiter:T.delimiter,encode:typeof T.encode=="boolean"?T.encode:y.encode,encodeDotInKeys:typeof T.encodeDotInKeys=="boolean"?T.encodeDotInKeys:y.encodeDotInKeys,encoder:typeof T.encoder=="function"?T.encoder:y.encoder,encodeValuesOnly:typeof T.encodeValuesOnly=="boolean"?T.encodeValuesOnly:y.encodeValuesOnly,filter:H,format:F,formatter:D,serializeDate:typeof T.serializeDate=="function"?T.serializeDate:y.serializeDate,skipNulls:typeof T.skipNulls=="boolean"?T.skipNulls:y.skipNulls,sort:typeof T.sort=="function"?T.sort:null,strictNullHandling:typeof T.strictNullHandling=="boolean"?T.strictNullHandling:y.strictNullHandling}};return am=function(P,T){var R=P,F=b(T),D,H;typeof F.filter=="function"?(H=F.filter,R=H("",R)):a(F.filter)&&(H=F.filter,D=H);var O=[];if(typeof R!="object"||R===null)return"";var V=s[F.arrayFormat],L=V==="comma"&&F.commaRoundTrip;D||(D=Object.keys(R)),F.sort&&D.sort(F.sort);for(var J=i(),oe=0;oe<D.length;++oe){var ce=D[oe],Ae=R[ce];F.skipNulls&&Ae===null||d(O,A(Ae,ce,V,L,F.allowEmptyArrays,F.strictNullHandling,F.skipNulls,F.encodeDotInKeys,F.encode?F.encoder:null,F.filter,F.sort,F.allowDots,F.serializeDate,F.format,F.formatter,F.encodeValuesOnly,F.charset,J))}var Q=O.join(F.delimiter),q=F.addQueryPrefix===!0?"?":"";return F.charsetSentinel&&(F.charset==="iso-8859-1"?q+="utf8=%26%2310003%3B&":q+="utf8=%E2%9C%93&"),Q.length>0?q+Q:""},am}var lm,Dy;function lw(){if(Dy)return lm;Dy=1;var i=h1(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},s=function(_){return _.replace(/&#(\d+);/g,function(A,b){return String.fromCharCode(parseInt(b,10))})},a=function(_,A){return _&&typeof _=="string"&&A.comma&&_.indexOf(",")>-1?_.split(","):_},c="utf8=%26%2310003%3B",d="utf8=%E2%9C%93",p=function(A,b){var P={__proto__:null},T=b.ignoreQueryPrefix?A.replace(/^\?/,""):A;T=T.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var R=b.parameterLimit===1/0?void 0:b.parameterLimit,F=T.split(b.delimiter,R),D=-1,H,O=b.charset;if(b.charsetSentinel)for(H=0;H<F.length;++H)F[H].indexOf("utf8=")===0&&(F[H]===d?O="utf-8":F[H]===c&&(O="iso-8859-1"),D=H,H=F.length);for(H=0;H<F.length;++H)if(H!==D){var V=F[H],L=V.indexOf("]="),J=L===-1?V.indexOf("="):L+1,oe,ce;J===-1?(oe=b.decoder(V,r.decoder,O,"key"),ce=b.strictNullHandling?null:""):(oe=b.decoder(V.slice(0,J),r.decoder,O,"key"),ce=i.maybeMap(a(V.slice(J+1),b),function(Q){return b.decoder(Q,r.decoder,O,"value")})),ce&&b.interpretNumericEntities&&O==="iso-8859-1"&&(ce=s(String(ce))),V.indexOf("[]=")>-1&&(ce=t(ce)?[ce]:ce);var Ae=e.call(P,oe);Ae&&b.duplicates==="combine"?P[oe]=i.combine(P[oe],ce):(!Ae||b.duplicates==="last")&&(P[oe]=ce)}return P},g=function(_,A,b,P){for(var T=P?A:a(A,b),R=_.length-1;R>=0;--R){var F,D=_[R];if(D==="[]"&&b.parseArrays)F=b.allowEmptyArrays&&(T===""||b.strictNullHandling&&T===null)?[]:[].concat(T);else{F=b.plainObjects?{__proto__:null}:{};var H=D.charAt(0)==="["&&D.charAt(D.length-1)==="]"?D.slice(1,-1):D,O=b.decodeDotInKeys?H.replace(/%2E/g,"."):H,V=parseInt(O,10);!b.parseArrays&&O===""?F={0:T}:!isNaN(V)&&D!==O&&String(V)===O&&V>=0&&b.parseArrays&&V<=b.arrayLimit?(F=[],F[V]=T):O!=="__proto__"&&(F[O]=T)}T=F}return T},y=function(A,b,P,T){if(A){var R=P.allowDots?A.replace(/\.([^.[]+)/g,"[$1]"):A,F=/(\[[^[\]]*])/,D=/(\[[^[\]]*])/g,H=P.depth>0&&F.exec(R),O=H?R.slice(0,H.index):R,V=[];if(O){if(!P.plainObjects&&e.call(Object.prototype,O)&&!P.allowPrototypes)return;V.push(O)}for(var L=0;P.depth>0&&(H=D.exec(R))!==null&&L<P.depth;){if(L+=1,!P.plainObjects&&e.call(Object.prototype,H[1].slice(1,-1))&&!P.allowPrototypes)return;V.push(H[1])}if(H){if(P.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+P.depth+" and strictDepth is true");V.push("["+R.slice(H.index)+"]")}return g(V,b,P,T)}},w=function(A){if(!A)return r;if(typeof A.allowEmptyArrays<"u"&&typeof A.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof A.decodeDotInKeys<"u"&&typeof A.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(A.decoder!==null&&typeof A.decoder<"u"&&typeof A.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof A.charset<"u"&&A.charset!=="utf-8"&&A.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var b=typeof A.charset>"u"?r.charset:A.charset,P=typeof A.duplicates>"u"?r.duplicates:A.duplicates;if(P!=="combine"&&P!=="first"&&P!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var T=typeof A.allowDots>"u"?A.decodeDotInKeys===!0?!0:r.allowDots:!!A.allowDots;return{allowDots:T,allowEmptyArrays:typeof A.allowEmptyArrays=="boolean"?!!A.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof A.allowPrototypes=="boolean"?A.allowPrototypes:r.allowPrototypes,allowSparse:typeof A.allowSparse=="boolean"?A.allowSparse:r.allowSparse,arrayLimit:typeof A.arrayLimit=="number"?A.arrayLimit:r.arrayLimit,charset:b,charsetSentinel:typeof A.charsetSentinel=="boolean"?A.charsetSentinel:r.charsetSentinel,comma:typeof A.comma=="boolean"?A.comma:r.comma,decodeDotInKeys:typeof A.decodeDotInKeys=="boolean"?A.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof A.decoder=="function"?A.decoder:r.decoder,delimiter:typeof A.delimiter=="string"||i.isRegExp(A.delimiter)?A.delimiter:r.delimiter,depth:typeof A.depth=="number"||A.depth===!1?+A.depth:r.depth,duplicates:P,ignoreQueryPrefix:A.ignoreQueryPrefix===!0,interpretNumericEntities:typeof A.interpretNumericEntities=="boolean"?A.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof A.parameterLimit=="number"?A.parameterLimit:r.parameterLimit,parseArrays:A.parseArrays!==!1,plainObjects:typeof A.plainObjects=="boolean"?A.plainObjects:r.plainObjects,strictDepth:typeof A.strictDepth=="boolean"?!!A.strictDepth:r.strictDepth,strictNullHandling:typeof A.strictNullHandling=="boolean"?A.strictNullHandling:r.strictNullHandling}};return lm=function(_,A){var b=w(A);if(_===""||_===null||typeof _>"u")return b.plainObjects?{__proto__:null}:{};for(var P=typeof _=="string"?p(_,b):_,T=b.plainObjects?{__proto__:null}:{},R=Object.keys(P),F=0;F<R.length;++F){var D=R[F],H=y(D,P[D],b,typeof _=="string");T=i.merge(T,H,b)}return b.allowSparse===!0?T:i.compact(T)},lm}var um,Ny;function uw(){if(Ny)return um;Ny=1;var i=aw(),e=lw(),t=L0();return um={formats:t,parse:e,stringify:i},um}var Fy;function hw(){if(Fy)return Sl;Fy=1;var i=D_();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],c=["{","}","|","\\","^","`"].concat(a),d=["'"].concat(c),p=["%","/","?",";","#"].concat(d),g=["/","?","#"],y=255,w=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,A={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},P={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=uw();function R(O,V,L){if(O&&typeof O=="object"&&O instanceof e)return O;var J=new e;return J.parse(O,V,L),J}e.prototype.parse=function(O,V,L){if(typeof O!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof O);var J=O.indexOf("?"),oe=J!==-1&&J<O.indexOf("#")?"?":"#",ce=O.split(oe),Ae=/\\/g;ce[0]=ce[0].replace(Ae,"/"),O=ce.join(oe);var Q=O;if(Q=Q.trim(),!L&&O.split("#").length===1){var q=s.exec(Q);if(q)return this.path=Q,this.href=Q,this.pathname=q[1],q[2]?(this.search=q[2],V?this.query=T.parse(this.search.substr(1)):this.query=this.search.substr(1)):V&&(this.search="",this.query={}),this}var te=t.exec(Q);if(te){te=te[0];var he=te.toLowerCase();this.protocol=he,Q=Q.substr(te.length)}if(L||te||Q.match(/^\/\/[^@/]+@[^@/]+/)){var N=Q.substr(0,2)==="//";N&&!(te&&b[te])&&(Q=Q.substr(2),this.slashes=!0)}if(!b[te]&&(N||te&&!P[te])){for(var z=-1,I=0;I<g.length;I++){var j=Q.indexOf(g[I]);j!==-1&&(z===-1||j<z)&&(z=j)}var B,k;z===-1?k=Q.lastIndexOf("@"):k=Q.lastIndexOf("@",z),k!==-1&&(B=Q.slice(0,k),Q=Q.slice(k+1),this.auth=decodeURIComponent(B)),z=-1;for(var I=0;I<p.length;I++){var j=Q.indexOf(p[I]);j!==-1&&(z===-1||j<z)&&(z=j)}z===-1&&(z=Q.length),this.host=Q.slice(0,z),Q=Q.slice(z),this.parseHost(),this.hostname=this.hostname||"";var G=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!G)for(var Y=this.hostname.split(/\./),I=0,se=Y.length;I<se;I++){var de=Y[I];if(de&&!de.match(w)){for(var me="",pe=0,xe=de.length;pe<xe;pe++)de.charCodeAt(pe)>127?me+="x":me+=de[pe];if(!me.match(w)){var Te=Y.slice(0,I),Ee=Y.slice(I+1),Fe=de.match(_);Fe&&(Te.push(Fe[1]),Ee.unshift(Fe[2])),Ee.length&&(Q="/"+Ee.join(".")+Q),this.hostname=Te.join(".");break}}}this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase(),G||(this.hostname=i.toASCII(this.hostname));var et=this.port?":"+this.port:"",je=this.hostname||"";this.host=je+et,this.href+=this.host,G&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Q[0]!=="/"&&(Q="/"+Q))}if(!A[he])for(var I=0,se=d.length;I<se;I++){var pt=d[I];if(Q.indexOf(pt)!==-1){var Xe=encodeURIComponent(pt);Xe===pt&&(Xe=escape(pt)),Q=Q.split(pt).join(Xe)}}var $e=Q.indexOf("#");$e!==-1&&(this.hash=Q.substr($e),Q=Q.slice(0,$e));var Dt=Q.indexOf("?");if(Dt!==-1?(this.search=Q.substr(Dt),this.query=Q.substr(Dt+1),V&&(this.query=T.parse(this.query)),Q=Q.slice(0,Dt)):V&&(this.search="",this.query={}),Q&&(this.pathname=Q),P[he]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var et=this.pathname||"",Yt=this.search||"";this.path=et+Yt}return this.href=this.format(),this};function F(O){return typeof O=="string"&&(O=R(O)),O instanceof e?O.format():e.prototype.format.call(O)}e.prototype.format=function(){var O=this.auth||"";O&&(O=encodeURIComponent(O),O=O.replace(/%3A/i,":"),O+="@");var V=this.protocol||"",L=this.pathname||"",J=this.hash||"",oe=!1,ce="";this.host?oe=O+this.host:this.hostname&&(oe=O+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(oe+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(ce=T.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var Ae=this.search||ce&&"?"+ce||"";return V&&V.substr(-1)!==":"&&(V+=":"),this.slashes||(!V||P[V])&&oe!==!1?(oe="//"+(oe||""),L&&L.charAt(0)!=="/"&&(L="/"+L)):oe||(oe=""),J&&J.charAt(0)!=="#"&&(J="#"+J),Ae&&Ae.charAt(0)!=="?"&&(Ae="?"+Ae),L=L.replace(/[?#]/g,function(Q){return encodeURIComponent(Q)}),Ae=Ae.replace("#","%23"),V+oe+L+Ae+J};function D(O,V){return R(O,!1,!0).resolve(V)}e.prototype.resolve=function(O){return this.resolveObject(R(O,!1,!0)).format()};function H(O,V){return O?R(O,!1,!0).resolveObject(V):V}return e.prototype.resolveObject=function(O){if(typeof O=="string"){var V=new e;V.parse(O,!1,!0),O=V}for(var L=new e,J=Object.keys(this),oe=0;oe<J.length;oe++){var ce=J[oe];L[ce]=this[ce]}if(L.hash=O.hash,O.href==="")return L.href=L.format(),L;if(O.slashes&&!O.protocol){for(var Ae=Object.keys(O),Q=0;Q<Ae.length;Q++){var q=Ae[Q];q!=="protocol"&&(L[q]=O[q])}return P[L.protocol]&&L.hostname&&!L.pathname&&(L.pathname="/",L.path=L.pathname),L.href=L.format(),L}if(O.protocol&&O.protocol!==L.protocol){if(!P[O.protocol]){for(var te=Object.keys(O),he=0;he<te.length;he++){var N=te[he];L[N]=O[N]}return L.href=L.format(),L}if(L.protocol=O.protocol,!O.host&&!b[O.protocol]){for(var se=(O.pathname||"").split("/");se.length&&!(O.host=se.shift()););O.host||(O.host=""),O.hostname||(O.hostname=""),se[0]!==""&&se.unshift(""),se.length<2&&se.unshift(""),L.pathname=se.join("/")}else L.pathname=O.pathname;if(L.search=O.search,L.query=O.query,L.host=O.host||"",L.auth=O.auth,L.hostname=O.hostname||O.host,L.port=O.port,L.pathname||L.search){var z=L.pathname||"",I=L.search||"";L.path=z+I}return L.slashes=L.slashes||O.slashes,L.href=L.format(),L}var j=L.pathname&&L.pathname.charAt(0)==="/",B=O.host||O.pathname&&O.pathname.charAt(0)==="/",k=B||j||L.host&&O.pathname,G=k,Y=L.pathname&&L.pathname.split("/")||[],se=O.pathname&&O.pathname.split("/")||[],de=L.protocol&&!P[L.protocol];if(de&&(L.hostname="",L.port=null,L.host&&(Y[0]===""?Y[0]=L.host:Y.unshift(L.host)),L.host="",O.protocol&&(O.hostname=null,O.port=null,O.host&&(se[0]===""?se[0]=O.host:se.unshift(O.host)),O.host=null),k=k&&(se[0]===""||Y[0]==="")),B)L.host=O.host||O.host===""?O.host:L.host,L.hostname=O.hostname||O.hostname===""?O.hostname:L.hostname,L.search=O.search,L.query=O.query,Y=se;else if(se.length)Y||(Y=[]),Y.pop(),Y=Y.concat(se),L.search=O.search,L.query=O.query;else if(O.search!=null){if(de){L.host=Y.shift(),L.hostname=L.host;var me=L.host&&L.host.indexOf("@")>0?L.host.split("@"):!1;me&&(L.auth=me.shift(),L.hostname=me.shift(),L.host=L.hostname)}return L.search=O.search,L.query=O.query,(L.pathname!==null||L.search!==null)&&(L.path=(L.pathname?L.pathname:"")+(L.search?L.search:"")),L.href=L.format(),L}if(!Y.length)return L.pathname=null,L.search?L.path="/"+L.search:L.path=null,L.href=L.format(),L;for(var pe=Y.slice(-1)[0],xe=(L.host||O.host||Y.length>1)&&(pe==="."||pe==="..")||pe==="",Te=0,Ee=Y.length;Ee>=0;Ee--)pe=Y[Ee],pe==="."?Y.splice(Ee,1):pe===".."?(Y.splice(Ee,1),Te++):Te&&(Y.splice(Ee,1),Te--);if(!k&&!G)for(;Te--;Te)Y.unshift("..");k&&Y[0]!==""&&(!Y[0]||Y[0].charAt(0)!=="/")&&Y.unshift(""),xe&&Y.join("/").substr(-1)!=="/"&&Y.push("");var Fe=Y[0]===""||Y[0]&&Y[0].charAt(0)==="/";if(de){L.hostname=Fe?"":Y.length?Y.shift():"",L.host=L.hostname;var me=L.host&&L.host.indexOf("@")>0?L.host.split("@"):!1;me&&(L.auth=me.shift(),L.hostname=me.shift(),L.host=L.hostname)}return k=k||L.host&&Y.length,k&&!Fe&&Y.unshift(""),Y.length>0?L.pathname=Y.join("/"):(L.pathname=null,L.path=null),(L.pathname!==null||L.search!==null)&&(L.path=(L.pathname?L.pathname:"")+(L.search?L.search:"")),L.auth=O.auth||L.auth,L.slashes=L.slashes||O.slashes,L.href=L.format(),L},e.prototype.parseHost=function(){var O=this.host,V=r.exec(O);V&&(V=V[0],V!==":"&&(this.port=V.substr(1)),O=O.substr(0,O.length-V.length)),O&&(this.hostname=O)},Sl.parse=R,Sl.resolve=D,Sl.resolveObject=H,Sl.format=F,Sl.Url=e,Sl}hw();const By={};function dt(i,e,t=3){if(By[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${i}`):(r=r.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${i}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${i}`),console.warn(r))),By[e]=!0}function Li(i){if(typeof i!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(i)}`)}function rc(i){return i.split("?")[0].split("#")[0]}function cw(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function dw(i,e,t){return i.replace(new RegExp(cw(e),"g"),t)}function fw(i,e){let t="",r=0,s=-1,a=0,c=-1;for(let d=0;d<=i.length;++d){if(d<i.length)c=i.charCodeAt(d);else{if(c===47)break;c=47}if(c===47){if(!(s===d-1||a===1))if(s!==d-1&&a===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const p=t.lastIndexOf("/");if(p!==t.length-1){p===-1?(t="",r=0):(t=t.slice(0,p),r=t.length-1-t.lastIndexOf("/")),s=d,a=0;continue}}else if(t.length===2||t.length===1){t="",r=0,s=d,a=0;continue}}}else t.length>0?t+=`/${i.slice(s+1,d)}`:t=i.slice(s+1,d),r=d-s-1;s=d,a=0}else c===46&&a!==-1?++a:a=-1}return t}const Fr={toPosix(i){return dw(i,"\\","/")},isUrl(i){return/^https?:/.test(this.toPosix(i))},isDataUrl(i){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(i)},isBlobUrl(i){return i.startsWith("blob:")},hasProtocol(i){return/^[^/:]+:/.test(this.toPosix(i))},getProtocol(i){Li(i),i=this.toPosix(i);const e=/^file:\/\/\//.exec(i);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(i);return t?t[0]:""},toAbsolute(i,e,t){if(Li(i),this.isDataUrl(i)||this.isBlobUrl(i))return i;const r=rc(this.toPosix(e??Le.ADAPTER.getBaseUrl())),s=rc(this.toPosix(t??this.rootname(r)));return i=this.toPosix(i),i.startsWith("/")?Fr.join(s,i.slice(1)):this.isAbsolute(i)?i:this.join(r,i)},normalize(i){if(Li(i),i.length===0)return".";if(this.isDataUrl(i)||this.isBlobUrl(i))return i;i=this.toPosix(i);let e="";const t=i.startsWith("/");this.hasProtocol(i)&&(e=this.rootname(i),i=i.slice(e.length));const r=i.endsWith("/");return i=fw(i),i.length>0&&r&&(i+="/"),t?`/${i}`:e+i},isAbsolute(i){return Li(i),i=this.toPosix(i),this.hasProtocol(i)?!0:i.startsWith("/")},join(...i){if(i.length===0)return".";let e;for(let t=0;t<i.length;++t){const r=i[t];if(Li(r),r.length>0)if(e===void 0)e=r;else{const s=i[t-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(i){if(Li(i),i.length===0)return".";i=this.toPosix(i);let e=i.charCodeAt(0);const t=e===47;let r=-1,s=!0;const a=this.getProtocol(i),c=i;i=i.slice(a.length);for(let d=i.length-1;d>=1;--d)if(e=i.charCodeAt(d),e===47){if(!s){r=d;break}}else s=!1;return r===-1?t?"/":this.isUrl(c)?a+i:a:t&&r===1?"//":a+i.slice(0,r)},rootname(i){Li(i),i=this.toPosix(i);let e="";if(i.startsWith("/")?e="/":e=this.getProtocol(i),this.isUrl(i)){const t=i.indexOf("/",e.length);t!==-1?e=i.slice(0,t):e=i,e.endsWith("/")||(e+="/")}return e},basename(i,e){Li(i),e&&Li(e),i=rc(this.toPosix(i));let t=0,r=-1,s=!0,a;if(e!==void 0&&e.length>0&&e.length<=i.length){if(e.length===i.length&&e===i)return"";let c=e.length-1,d=-1;for(a=i.length-1;a>=0;--a){const p=i.charCodeAt(a);if(p===47){if(!s){t=a+1;break}}else d===-1&&(s=!1,d=a+1),c>=0&&(p===e.charCodeAt(c)?--c===-1&&(r=a):(c=-1,r=d))}return t===r?r=d:r===-1&&(r=i.length),i.slice(t,r)}for(a=i.length-1;a>=0;--a)if(i.charCodeAt(a)===47){if(!s){t=a+1;break}}else r===-1&&(s=!1,r=a+1);return r===-1?"":i.slice(t,r)},extname(i){Li(i),i=rc(this.toPosix(i));let e=-1,t=0,r=-1,s=!0,a=0;for(let c=i.length-1;c>=0;--c){const d=i.charCodeAt(c);if(d===47){if(!s){t=c+1;break}continue}r===-1&&(s=!1,r=c+1),d===46?e===-1?e=c:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||r===-1||a===0||a===1&&e===r-1&&e===t+1?"":i.slice(e,r)},parse(i){Li(i);const e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;i=rc(this.toPosix(i));let t=i.charCodeAt(0);const r=this.isAbsolute(i);let s;e.root=this.rootname(i),r||this.hasProtocol(i)?s=1:s=0;let a=-1,c=0,d=-1,p=!0,g=i.length-1,y=0;for(;g>=s;--g){if(t=i.charCodeAt(g),t===47){if(!p){c=g+1;break}continue}d===-1&&(p=!1,d=g+1),t===46?a===-1?a=g:y!==1&&(y=1):a!==-1&&(y=-1)}return a===-1||d===-1||y===0||y===1&&a===d-1&&a===c+1?d!==-1&&(c===0&&r?e.base=e.name=i.slice(1,d):e.base=e.name=i.slice(c,d)):(c===0&&r?(e.name=i.slice(1,a),e.base=i.slice(1,d)):(e.name=i.slice(c,a),e.base=i.slice(c,d)),e.ext=i.slice(a,d)),e.dir=this.dirname(i),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let hm;async function pw(){return hm??(hm=(async()=>{var a;const i=document.createElement("canvas").getContext("webgl");if(!i)return On.UNPACK;const e=await new Promise(c=>{const d=document.createElement("video");d.onloadeddata=()=>c(d),d.onerror=()=>c(null),d.autoplay=!1,d.crossOrigin="anonymous",d.preload="auto",d.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",d.load()});if(!e)return On.UNPACK;const t=i.createTexture();i.bindTexture(i.TEXTURE_2D,t);const r=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,r),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t,0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,i.NONE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,e);const s=new Uint8Array(4);return i.readPixels(0,0,1,1,i.RGBA,i.UNSIGNED_BYTE,s),i.deleteFramebuffer(r),i.deleteTexture(t),(a=i.getExtension("WEBGL_lose_context"))==null||a.loseContext(),s[0]<=s[3]?On.PMA:On.UNPACK})()),hm}let cm;function mw(){return typeof cm>"u"&&(cm=function(){var e;const i={stencil:!0,failIfMajorPerformanceCaveat:Le.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Le.ADAPTER.getWebGLRenderingContext())return!1;const t=Le.ADAPTER.createCanvas();let r=t.getContext("webgl",i)||t.getContext("experimental-webgl",i);const s=!!((e=r==null?void 0:r.getContextAttributes())!=null&&e.stencil);if(r){const a=r.getExtension("WEBGL_lose_context");a&&a.loseContext()}return r=null,s}catch{return!1}}()),cm}var gw={grad:.9,turn:360,rad:360/(2*Math.PI)},ho=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},Dr=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*i)/t+0},fi=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),i>t?t:i>e?i:e},c1=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},Oy=function(i){return{r:fi(i.r,0,255),g:fi(i.g,0,255),b:fi(i.b,0,255),a:fi(i.a)}},dm=function(i){return{r:Dr(i.r),g:Dr(i.g),b:Dr(i.b),a:Dr(i.a,3)}},yw=/^#([0-9a-f]{3,8})$/i,vd=function(i){var e=i.toString(16);return e.length<2?"0"+e:e},d1=function(i){var e=i.r,t=i.g,r=i.b,s=i.a,a=Math.max(e,t,r),c=a-Math.min(e,t,r),d=c?a===e?(t-r)/c:a===t?2+(r-e)/c:4+(e-t)/c:0;return{h:60*(d<0?d+6:d),s:a?c/a*100:0,v:a/255*100,a:s}},f1=function(i){var e=i.h,t=i.s,r=i.v,s=i.a;e=e/360*6,t/=100,r/=100;var a=Math.floor(e),c=r*(1-t),d=r*(1-(e-a)*t),p=r*(1-(1-e+a)*t),g=a%6;return{r:255*[r,d,c,c,p,r][g],g:255*[p,r,r,d,c,c][g],b:255*[c,c,p,r,r,d][g],a:s}},Ly=function(i){return{h:c1(i.h),s:fi(i.s,0,100),l:fi(i.l,0,100),a:fi(i.a)}},Uy=function(i){return{h:Dr(i.h),s:Dr(i.s),l:Dr(i.l),a:Dr(i.a,3)}},zy=function(i){return f1((t=(e=i).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},yc=function(i){return{h:(e=d1(i)).h,s:(s=(200-(t=e.s))*(r=e.v)/100)>0&&s<200?t*r/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,t,r,s},vw=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,xw=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_w=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ww=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Vm={string:[[function(i){var e=yw.exec(i);return e?(i=e[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?Dr(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?Dr(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var e=_w.exec(i)||ww.exec(i);return e?e[2]!==e[4]||e[4]!==e[6]?null:Oy({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(i){var e=vw.exec(i)||xw.exec(i);if(!e)return null;var t,r,s=Ly({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(gw[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return zy(s)},"hsl"]],object:[[function(i){var e=i.r,t=i.g,r=i.b,s=i.a,a=s===void 0?1:s;return ho(e)&&ho(t)&&ho(r)?Oy({r:Number(e),g:Number(t),b:Number(r),a:Number(a)}):null},"rgb"],[function(i){var e=i.h,t=i.s,r=i.l,s=i.a,a=s===void 0?1:s;if(!ho(e)||!ho(t)||!ho(r))return null;var c=Ly({h:Number(e),s:Number(t),l:Number(r),a:Number(a)});return zy(c)},"hsl"],[function(i){var e=i.h,t=i.s,r=i.v,s=i.a,a=s===void 0?1:s;if(!ho(e)||!ho(t)||!ho(r))return null;var c=function(d){return{h:c1(d.h),s:fi(d.s,0,100),v:fi(d.v,0,100),a:fi(d.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(a)});return f1(c)},"hsv"]]},Gy=function(i,e){for(var t=0;t<e.length;t++){var r=e[t][0](i);if(r)return[r,e[t][1]]}return[null,void 0]},Ew=function(i){return typeof i=="string"?Gy(i.trim(),Vm.string):typeof i=="object"&&i!==null?Gy(i,Vm.object):[null,void 0]},fm=function(i,e){var t=yc(i);return{h:t.h,s:fi(t.s+100*e,0,100),l:t.l,a:t.a}},pm=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},Hy=function(i,e){var t=yc(i);return{h:t.h,s:t.s,l:fi(t.l+100*e,0,100),a:t.a}},Xm=function(){function i(e){this.parsed=Ew(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return Dr(pm(this.rgba),2)},i.prototype.isDark=function(){return pm(this.rgba)<.5},i.prototype.isLight=function(){return pm(this.rgba)>=.5},i.prototype.toHex=function(){return e=dm(this.rgba),t=e.r,r=e.g,s=e.b,c=(a=e.a)<1?vd(Dr(255*a)):"","#"+vd(t)+vd(r)+vd(s)+c;var e,t,r,s,a,c},i.prototype.toRgb=function(){return dm(this.rgba)},i.prototype.toRgbString=function(){return e=dm(this.rgba),t=e.r,r=e.g,s=e.b,(a=e.a)<1?"rgba("+t+", "+r+", "+s+", "+a+")":"rgb("+t+", "+r+", "+s+")";var e,t,r,s,a},i.prototype.toHsl=function(){return Uy(yc(this.rgba))},i.prototype.toHslString=function(){return e=Uy(yc(this.rgba)),t=e.h,r=e.s,s=e.l,(a=e.a)<1?"hsla("+t+", "+r+"%, "+s+"%, "+a+")":"hsl("+t+", "+r+"%, "+s+"%)";var e,t,r,s,a},i.prototype.toHsv=function(){return e=d1(this.rgba),{h:Dr(e.h),s:Dr(e.s),v:Dr(e.v),a:Dr(e.a,3)};var e},i.prototype.invert=function(){return ys({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},i.prototype.saturate=function(e){return e===void 0&&(e=.1),ys(fm(this.rgba,e))},i.prototype.desaturate=function(e){return e===void 0&&(e=.1),ys(fm(this.rgba,-e))},i.prototype.grayscale=function(){return ys(fm(this.rgba,-1))},i.prototype.lighten=function(e){return e===void 0&&(e=.1),ys(Hy(this.rgba,e))},i.prototype.darken=function(e){return e===void 0&&(e=.1),ys(Hy(this.rgba,-e))},i.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},i.prototype.alpha=function(e){return typeof e=="number"?ys({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Dr(this.rgba.a,3);var t},i.prototype.hue=function(e){var t=yc(this.rgba);return typeof e=="number"?ys({h:e,s:t.s,l:t.l,a:t.a}):Dr(t.h)},i.prototype.isEqual=function(e){return this.toHex()===ys(e).toHex()},i}(),ys=function(i){return i instanceof Xm?i:new Xm(i)},jy=[],Sw=function(i){i.forEach(function(e){jy.indexOf(e)<0&&(e(Xm,Vm),jy.push(e))})};function Aw(i,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var s in t)r[t[s]]=s;var a={};i.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,p,g=r[this.toHex()];if(g)return g;if(c!=null&&c.closest){var y=this.toRgb(),w=1/0,_="black";if(!a.length)for(var A in t)a[A]=new i(t[A]).toRgb();for(var b in t){var P=(d=y,p=a[b],Math.pow(d.r-p.r,2)+Math.pow(d.g-p.g,2)+Math.pow(d.b-p.b,2));P<w&&(w=P,_=b)}return _}},e.string.push([function(c){var d=c.toLowerCase(),p=d==="transparent"?"#0000":t[d];return p?new i(p).toRgb():null},"name"])}Sw([Aw]);const Uu=class jd{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof jd)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((s,a)=>s===t[a]);if(e!==null&&t!==null){const s=Object.keys(e),a=Object.keys(t);return s.length!==a.length?!1:s.every(c=>e[c]===t[c])}return e===t}toRgba(){const[e,t,r,s]=this._components;return{r:e,g:t,b:r,a:s}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,s]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(r*255),e[2]=Math.round(s*255),e}toRgbArray(e){e=e??[];const[t,r,s]=this._components;return e[0]=t,e[1]=r,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,r,s,a]=jd.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=r,this._components[2]*=s,this._components[3]*=a,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let r=this._int>>16&255,s=this._int>>8&255,a=this._int&255;return t&&(r=r*e+.5|0,s=s*e+.5|0,a=a*e+.5|0),(e*255<<24)+(r<<16)+(s<<8)+a}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,r,s]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,r,s,a]=this._components;return e[0]=t,e[1]=r,e[2]=s,e[3]=a,e}normalize(e){let t,r,s,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const c=e;t=(c>>16&255)/255,r=(c>>8&255)/255,s=(c&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,r,s,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,r,s,a=255]=e,t/=255,r/=255,s/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const d=jd.HEX_PATTERN.exec(e);d&&(e=`#${d[2]}`)}const c=ys(e);c.isValid()&&({r:t,g:r,b:s,a}=c.rgba,t/=255,r/=255,s/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=r,this._components[2]=s,this._components[3]=a,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(e*255<<16)+(t*255<<8)+(r*255|0)}_clamp(e,t=0,r=1){return typeof e=="number"?Math.min(Math.max(e,t),r):(e.forEach((s,a)=>{e[a]=Math.min(Math.max(s,t),r)}),e)}};Uu.shared=new Uu,Uu.temp=new Uu,Uu.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let zt=Uu;function bw(i){return dt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),zt.shared.setValue(i).toHex()}function Tw(i){return dt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),zt.shared.setValue(i).toNumber()}function Cw(){const i=[],e=[];for(let r=0;r<32;r++)i[r]=r,e[r]=r;i[tt.NORMAL_NPM]=tt.NORMAL,i[tt.ADD_NPM]=tt.ADD,i[tt.SCREEN_NPM]=tt.SCREEN,e[tt.NORMAL]=tt.NORMAL_NPM,e[tt.ADD]=tt.ADD_NPM,e[tt.SCREEN]=tt.SCREEN_NPM;const t=[];return t.push(e),t.push(i),t}const p1=Cw();function m1(i,e){return p1[e?1:0][i]}function Pw(i,e=null){const t=i*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let r=0,s=0;r<t;r+=6,s+=4)e[r+0]=s+0,e[r+1]=s+1,e[r+2]=s+2,e[r+3]=s+0,e[r+4]=s+2,e[r+5]=s+3;return e}function g1(i){if(i.BYTES_PER_ELEMENT===4)return i instanceof Float32Array?"Float32Array":i instanceof Uint32Array?"Uint32Array":"Int32Array";if(i.BYTES_PER_ELEMENT===2){if(i instanceof Uint16Array)return"Uint16Array"}else if(i.BYTES_PER_ELEMENT===1&&i instanceof Uint8Array)return"Uint8Array";return null}function ef(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function Wy(i){return!(i&i-1)&&!!i}function Vy(i){let e=(i>65535?1:0)<<4;i>>>=e;let t=(i>255?1:0)<<3;return i>>>=t,e|=t,t=(i>15?1:0)<<2,i>>>=t,e|=t,t=(i>3?1:0)<<1,i>>>=t,e|=t,e|i>>1}function Yu(i,e,t){const r=i.length;let s;if(e>=r||t===0)return;t=e+t>r?r-e:t;const a=r-t;for(s=e;s<a;++s)i[s]=i[s+t];i.length=a}function ma(i){return i===0?0:i<0?-1:1}let Iw=0;function Bl(){return++Iw}const $m=class{constructor(i,e,t,r){this.left=i,this.top=e,this.right=t,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};$m.EMPTY=new $m(0,0,0,0);let Xy=$m;const $y={},vs=Object.create(null),ha=Object.create(null);class Rw{constructor(e,t,r){this._canvas=Le.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||Le.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Yy(i,e,t){for(let r=0,s=4*t*e;r<e;++r,s+=4)if(i[s+3]!==0)return!1;return!0}function qy(i,e,t,r,s){const a=4*e;for(let c=r,d=r*a+4*t;c<=s;++c,d+=a)if(i[d+3]!==0)return!1;return!0}function kw(i){const{width:e,height:t}=i,r=i.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,t).data;let a=0,c=0,d=e-1,p=t-1;for(;c<t&&Yy(s,e,c);)++c;if(c===t)return Xy.EMPTY;for(;Yy(s,e,p);)--p;for(;qy(s,e,a,c,p);)++a;for(;qy(s,e,d,c,p);)--d;return++d,++p,new Xy(a,c,d,p)}function Mw(i){const e=kw(i),{width:t,height:r}=e;let s=null;if(!e.isEmpty()){const a=i.getContext("2d");if(a===null)throw new TypeError("Failed to get canvas 2D context");s=a.getImageData(e.left,e.top,t,r)}return{width:t,height:r,data:s}}function Dw(i,e=globalThis.location){if(i.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(i,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function go(i,e=1){var r;const t=(r=Le.RETINA_PREFIX)==null?void 0:r.exec(i);return t?parseFloat(t[1]):e}var De=(i=>(i.Renderer="renderer",i.Application="application",i.RendererSystem="renderer-webgl-system",i.RendererPlugin="renderer-webgl-plugin",i.CanvasRendererSystem="renderer-canvas-system",i.CanvasRendererPlugin="renderer-canvas-plugin",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i))(De||{});const Ym=i=>{if(typeof i=="function"||typeof i=="object"&&i.extension){if(!i.extension)throw new Error("Extension class must have an extension object");i={...typeof i.extension!="object"?{type:i.extension}:i.extension,ref:i}}if(typeof i=="object")i={...i};else throw new Error("Invalid extension type");return typeof i.type=="string"&&(i.type=[i.type]),i},Qy=(i,e)=>Ym(i).priority??e,Ve={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...i){return i.map(Ym).forEach(e=>{e.type.forEach(t=>{var r,s;return(s=(r=this._removeHandlers)[t])==null?void 0:s.call(r,e)})}),this},add(...i){return i.map(Ym).forEach(e=>{e.type.forEach(t=>{var a,c;const r=this._addHandlers,s=this._queue;r[t]?(a=r[t])==null||a.call(r,e):(s[t]=s[t]||[],(c=s[t])==null||c.push(e))})}),this},handle(i,e,t){var c;const r=this._addHandlers,s=this._removeHandlers;if(r[i]||s[i])throw new Error(`Extension type ${i} already has a handler`);r[i]=e,s[i]=t;const a=this._queue;return a[i]&&((c=a[i])==null||c.forEach(d=>e(d)),delete a[i]),this},handleByMap(i,e){return this.handle(i,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(i,e,t=-1){return this.handle(i,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((s,a)=>Qy(a,t)-Qy(s,t)))},r=>{const s=e.indexOf(r.ref);s!==-1&&e.splice(s,1)})}};class qm{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Nw=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Fw(i){let e="";for(let t=0;t<i;++t)t>0&&(e+=`
else `),t<i-1&&(e+=`if(test == ${t}.0){}`);return e}function Bw(i,e){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=Nw.replace(/%forloop%/gi,Fw(i));if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))i=i/2|0;else break}return i}const mm=0,gm=1,ym=2,vm=3,xm=4,_m=5;class Rs{constructor(){this.data=0,this.blendMode=tt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<mm)}set blend(e){!!(this.data&1<<mm)!==e&&(this.data^=1<<mm)}get offsets(){return!!(this.data&1<<gm)}set offsets(e){!!(this.data&1<<gm)!==e&&(this.data^=1<<gm)}get culling(){return!!(this.data&1<<ym)}set culling(e){!!(this.data&1<<ym)!==e&&(this.data^=1<<ym)}get depthTest(){return!!(this.data&1<<vm)}set depthTest(e){!!(this.data&1<<vm)!==e&&(this.data^=1<<vm)}get depthMask(){return!!(this.data&1<<_m)}set depthMask(e){!!(this.data&1<<_m)!==e&&(this.data^=1<<_m)}get clockwiseFrontFace(){return!!(this.data&1<<xm)}set clockwiseFrontFace(e){!!(this.data&1<<xm)!==e&&(this.data^=1<<xm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==tt.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Rs;return e.depthTest=!1,e.blend=!0,e}}Rs.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Qm=[];function y1(i,e){if(!i)return null;let t="";if(typeof i=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(i);r&&(t=r[1].toLowerCase())}for(let r=Qm.length-1;r>=0;--r){const s=Qm[r];if(s.test&&s.test(i,t))return new s(i,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Vi{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,s,a,c,d,p){if(arguments.length>8)throw new Error("max arguments reached");const{name:g,items:y}=this;this._aliasCount++;for(let w=0,_=y.length;w<_;w++)y[w][g](e,t,r,s,a,c,d,p);return y===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Vi.prototype,{dispatch:{value:Vi.prototype.emit},run:{value:Vi.prototype.emit}});class xc{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Vi("setRealSize"),this.onUpdate=new Vi("update"),this.onError=new Vi("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class _f extends xc{constructor(e,t){const{width:r,height:s}=t||{};if(!r||!s)throw new Error("BufferResource width or height invalid");super(r,s),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,r){const s=e.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===On.UNPACK);const a=t.realWidth,c=t.realHeight;return r.width===a&&r.height===c?s.texSubImage2D(t.target,0,0,0,a,c,t.format,r.type,this.data):(r.width=a,r.height=c,s.texImage2D(t.target,0,r.internalFormat,a,c,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const Ow={scaleMode:jr.NEAREST,alphaMode:On.NPM},Km=class zu extends bc{constructor(e=null,t=null){super(),t=Object.assign({},zu.defaultOptions,t);const{alphaMode:r,mipmap:s,anisotropicLevel:a,scaleMode:c,width:d,height:p,wrapMode:g,format:y,type:w,target:_,resolution:A,resourceOptions:b}=t;e&&!(e instanceof xc)&&(e=y1(e,b),e.internal=!0),this.resolution=A||Le.RESOLUTION,this.width=Math.round((d||0)*this.resolution)/this.resolution,this.height=Math.round((p||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=a,this._wrapMode=g,this._scaleMode=c,this.format=y,this.type=w,this.target=_,this.alphaMode=r,this.uid=Bl(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=d>0&&p>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Wy(this.realWidth)&&Wy(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ha[this.cacheId],delete vs[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),zu.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,r=Le.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let a=null;if(s)a=e;else{if(!e._pixiId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${d}_${Bl()}`}a=e._pixiId}let c=ha[a];if(s&&r&&!c)throw new Error(`The cacheId "${a}" does not exist in BaseTextureCache.`);return c||(c=new zu(e,t),c.cacheId=a,zu.addToCache(c,a)),c}static fromBuffer(e,t,r,s){e=e||new Float32Array(t*r*4);const a=new _f(e,{width:t,height:r,...s==null?void 0:s.resourceOptions});let c,d;return e instanceof Float32Array?(c=Ie.RGBA,d=Ke.FLOAT):e instanceof Int32Array?(c=Ie.RGBA_INTEGER,d=Ke.INT):e instanceof Uint32Array?(c=Ie.RGBA_INTEGER,d=Ke.UNSIGNED_INT):e instanceof Int16Array?(c=Ie.RGBA_INTEGER,d=Ke.SHORT):e instanceof Uint16Array?(c=Ie.RGBA_INTEGER,d=Ke.UNSIGNED_SHORT):e instanceof Int8Array?(c=Ie.RGBA,d=Ke.BYTE):(c=Ie.RGBA,d=Ke.UNSIGNED_BYTE),a.internal=!0,new zu(a,Object.assign({},Ow,{type:d,format:c},s))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),ha[t]&&ha[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),ha[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=ha[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete ha[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete ha[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};Km.defaultOptions={mipmap:Cs.POW2,anisotropicLevel:0,scaleMode:jr.LINEAR,wrapMode:mo.CLAMP,alphaMode:On.UNPACK,target:$u.TEXTURE_2D,format:Ie.RGBA,type:Ke.UNSIGNED_BYTE},Km._globalBatch=0;let it=Km;class Zm{constructor(){this.texArray=null,this.blend=0,this.type=ji.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Lw=0;class fr{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=Lw++,this.disposeRunner=new Vi("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?bs.ELEMENT_ARRAY_BUFFER:bs.ARRAY_BUFFER}get index(){return this.type===bs.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new fr(e)}}class tf{constructor(e,t=0,r=!1,s=Ke.FLOAT,a,c,d,p=1){this.buffer=e,this.size=t,this.normalized=r,this.type=s,this.stride=a,this.start=c,this.instance=d,this.divisor=p}destroy(){this.buffer=null}static from(e,t,r,s,a){return new tf(e,t,r,s,a)}}const Uw={Float32Array,Uint32Array,Int32Array,Uint8Array};function zw(i,e){let t=0,r=0;const s={};for(let p=0;p<i.length;p++)r+=e[p],t+=i[p].length;const a=new ArrayBuffer(t*4);let c=null,d=0;for(let p=0;p<i.length;p++){const g=e[p],y=i[p],w=g1(y);s[w]||(s[w]=new Uw[w](a)),c=s[w];for(let _=0;_<y.length;_++){const A=(_/g|0)*r+d,b=_%g;c[A+b]=y[_]}d+=g}return new Float32Array(a)}const Ky={5126:4,5123:2,5121:1};let Gw=0;const Hw={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class va{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=Gw++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Vi("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,s=!1,a,c,d,p=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof fr||(t instanceof Array&&(t=new Float32Array(t)),t=new fr(t));const g=e.split("|");if(g.length>1){for(let w=0;w<g.length;w++)this.addAttribute(g[w],t,r,s,a);return this}let y=this.buffers.indexOf(t);return y===-1&&(this.buffers.push(t),y=this.buffers.length-1),this.attributes[e]=new tf(y,r,s,a,c,d,p),this.instanced=this.instanced||p,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof fr||(e instanceof Array&&(e=new Uint16Array(e)),e=new fr(e)),e.type=bs.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],r=new fr;let s;for(s in this.attributes){const a=this.attributes[s],c=this.buffers[a.buffer];e.push(c.data),t.push(a.size*Ky[a.type]/4),a.buffer=0}for(r.data=zw(e,t),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new va;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new fr(this.buffers[t].data.slice(0));for(const t in this.attributes){const r=this.attributes[t];e.attributes[t]=new tf(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=bs.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new va,r=[],s=[],a=[];let c;for(let d=0;d<e.length;d++){c=e[d];for(let p=0;p<c.buffers.length;p++)s[p]=s[p]||0,s[p]+=c.buffers[p].data.length,a[p]=0}for(let d=0;d<c.buffers.length;d++)r[d]=new Hw[g1(c.buffers[d].data)](s[d]),t.buffers[d]=new fr(r[d]);for(let d=0;d<e.length;d++){c=e[d];for(let p=0;p<c.buffers.length;p++)r[p].set(c.buffers[p].data,a[p]),a[p]+=c.buffers[p].data.length}if(t.attributes=c.attributes,c.indexBuffer){t.indexBuffer=t.buffers[c.buffers.indexOf(c.indexBuffer)],t.indexBuffer.type=bs.ELEMENT_ARRAY_BUFFER;let d=0,p=0,g=0,y=0;for(let w=0;w<c.buffers.length;w++)if(c.buffers[w]!==c.indexBuffer){y=w;break}for(const w in c.attributes){const _=c.attributes[w];(_.buffer|0)===y&&(p+=_.size*Ky[_.type]/4)}for(let w=0;w<e.length;w++){const _=e[w].indexBuffer.data;for(let A=0;A<_.length;A++)t.indexBuffer.data[A+g]+=d;d+=e[w].buffers[y].data.length/p,g+=_.length}}return t}}class v1 extends va{constructor(e=!1){super(),this._buffer=new fr(null,e,!1),this._indexBuffer=new fr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Ke.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Ke.FLOAT).addAttribute("aColor",this._buffer,4,!0,Ke.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Ke.FLOAT).addIndex(this._indexBuffer)}}const rf=Math.PI*2,jw=180/Math.PI,Ww=Math.PI/180;var Hr=(i=>(i[i.POLY=0]="POLY",i[i.RECT=1]="RECT",i[i.CIRC=2]="CIRC",i[i.ELIP=3]="ELIP",i[i.RREC=4]="RREC",i))(Hr||{});class ft{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new ft(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}ft.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const xd=[new ft,new ft,new ft,new ft];class rt{constructor(e=0,t=0,r=0,s=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(s),this.type=Hr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new rt(0,0,0,0)}clone(){return new rt(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const J=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=J)return!1;const oe=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>oe}const r=this.left,s=this.right,a=this.top,c=this.bottom;if(s<=r||c<=a)return!1;const d=xd[0].set(e.left,e.top),p=xd[1].set(e.left,e.bottom),g=xd[2].set(e.right,e.top),y=xd[3].set(e.right,e.bottom);if(g.x<=d.x||p.y<=d.y)return!1;const w=Math.sign(t.a*t.d-t.b*t.c);if(w===0||(t.apply(d,d),t.apply(p,p),t.apply(g,g),t.apply(y,y),Math.max(d.x,p.x,g.x,y.x)<=r||Math.min(d.x,p.x,g.x,y.x)>=s||Math.max(d.y,p.y,g.y,y.y)<=a||Math.min(d.y,p.y,g.y,y.y)>=c))return!1;const _=w*(p.y-d.y),A=w*(d.x-p.x),b=_*r+A*a,P=_*s+A*a,T=_*r+A*c,R=_*s+A*c;if(Math.max(b,P,T,R)<=_*d.x+A*d.y||Math.min(b,P,T,R)>=_*y.x+A*y.y)return!1;const F=w*(d.y-g.y),D=w*(g.x-d.x),H=F*r+D*a,O=F*s+D*a,V=F*r+D*c,L=F*s+D*c;return!(Math.max(H,O,V,L)<=F*d.x+D*d.y||Math.min(H,O,V,L)>=F*y.x+D*y.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=s,this.height=Math.max(a-s,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,s=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=s-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=s,this.height=a-s,this}}rt.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class wf{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=Hr.CIRC}clone(){return new wf(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const r=this.radius*this.radius;let s=this.x-e,a=this.y-t;return s*=s,a*=a,s+a<=r}getBounds(){return new rt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}wf.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Ef{constructor(e=0,t=0,r=0,s=0){this.x=e,this.y=t,this.width=r,this.height=s,this.type=Hr.ELIP}clone(){return new Ef(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,s=(t-this.y)/this.height;return r*=r,s*=s,r+s<=1}getBounds(){return new rt(this.x-this.width,this.y-this.height,this.width,this.height)}}Ef.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Nl{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const r=[];for(let s=0,a=t.length;s<a;s++)r.push(t[s].x,t[s].y);t=r}this.points=t,this.type=Hr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new Nl(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let r=!1;const s=this.points.length/2;for(let a=0,c=s-1;a<s;c=a++){const d=this.points[a*2],p=this.points[a*2+1],g=this.points[c*2],y=this.points[c*2+1];p>t!=y>t&&e<(g-d)*((t-p)/(y-p))+d&&(r=!r)}return r}}Nl.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((i,e)=>`${i}, ${e}`,"")}]`};class Sf{constructor(e=0,t=0,r=0,s=0,a=20){this.x=e,this.y=t,this.width=r,this.height=s,this.radius=a,this.type=Hr.RREC}clone(){return new Sf(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let s=e-(this.x+r),a=t-(this.y+r);const c=r*r;if(s*s+a*a<=c||(s=e-(this.x+this.width-r),s*s+a*a<=c)||(a=t-(this.y+this.height-r),s*s+a*a<=c)||(s=e-(this.x+r),s*s+a*a<=c))return!0}return!1}}Sf.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Ht{constructor(e=1,t=0,r=0,s=1,a=0,c=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=s,this.tx=a,this.ty=c}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,s,a,c){return this.a=e,this.b=t,this.c=r,this.d=s,this.tx=a,this.ty=c,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new ft;const r=e.x,s=e.y;return t.x=this.a*r+this.c*s+this.tx,t.y=this.b*r+this.d*s+this.ty,t}applyInverse(e,t){t=t||new ft;const r=1/(this.a*this.d+this.c*-this.b),s=e.x,a=e.y;return t.x=this.d*r*s+-this.c*r*a+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*a+-this.b*r*s+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),s=this.a,a=this.c,c=this.tx;return this.a=s*t-this.b*r,this.b=s*r+this.b*t,this.c=a*t-this.d*r,this.d=a*r+this.d*t,this.tx=c*t-this.ty*r,this.ty=c*r+this.ty*t,this}append(e){const t=this.a,r=this.b,s=this.c,a=this.d;return this.a=e.a*t+e.b*s,this.b=e.a*r+e.b*a,this.c=e.c*t+e.d*s,this.d=e.c*r+e.d*a,this.tx=e.tx*t+e.ty*s+this.tx,this.ty=e.tx*r+e.ty*a+this.ty,this}setTransform(e,t,r,s,a,c,d,p,g){return this.a=Math.cos(d+g)*a,this.b=Math.sin(d+g)*a,this.c=-Math.sin(d-p)*c,this.d=Math.cos(d-p)*c,this.tx=e-(r*this.a+s*this.c),this.ty=t-(r*this.b+s*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,s=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,s=this.c,a=this.d,c=e.pivot,d=-Math.atan2(-s,a),p=Math.atan2(r,t),g=Math.abs(d+p);return g<1e-5||Math.abs(rf-g)<1e-5?(e.rotation=p,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=d,e.skew.y=p),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(s*s+a*a),e.position.x=this.tx+(c.x*t+c.y*s),e.position.y=this.ty+(c.x*r+c.y*a),e}invert(){const e=this.a,t=this.b,r=this.c,s=this.d,a=this.tx,c=e*s-t*r;return this.a=s/c,this.b=-t/c,this.c=-r/c,this.d=e/c,this.tx=(r*this.ty-s*a)/c,this.ty=-(e*this.ty-t*a)/c,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ht;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Ht}static get TEMP_MATRIX(){return new Ht}}Ht.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Cl=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Pl=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Il=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Rl=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Jm=[],x1=[],_d=Math.sign;function Vw(){for(let i=0;i<16;i++){const e=[];Jm.push(e);for(let t=0;t<16;t++){const r=_d(Cl[i]*Cl[t]+Il[i]*Pl[t]),s=_d(Pl[i]*Cl[t]+Rl[i]*Pl[t]),a=_d(Cl[i]*Il[t]+Il[i]*Rl[t]),c=_d(Pl[i]*Il[t]+Rl[i]*Rl[t]);for(let d=0;d<16;d++)if(Cl[d]===r&&Pl[d]===s&&Il[d]===a&&Rl[d]===c){e.push(d);break}}}for(let i=0;i<16;i++){const e=new Ht;e.set(Cl[i],Pl[i],Il[i],Rl[i],0,0),x1.push(e)}}Vw();const Zt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:i=>Cl[i],uY:i=>Pl[i],vX:i=>Il[i],vY:i=>Rl[i],inv:i=>i&8?i&15:-i&7,add:(i,e)=>Jm[i][e],sub:(i,e)=>Jm[i][Zt.inv(e)],rotate180:i=>i^4,isVertical:i=>(i&3)===2,byDirection:(i,e)=>Math.abs(i)*2<=Math.abs(e)?e>=0?Zt.S:Zt.N:Math.abs(e)*2<=Math.abs(i)?i>0?Zt.E:Zt.W:e>0?i>0?Zt.SE:Zt.SW:i>0?Zt.NE:Zt.NW,matrixAppendRotationInv:(i,e,t=0,r=0)=>{const s=x1[Zt.inv(e)];s.tx=t,s.ty=r,i.append(s)}};class Ss{constructor(e,t,r=0,s=0){this._x=r,this._y=s,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new Ss(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Ss.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const e0=class{constructor(){this.worldTransform=new Ht,this.localTransform=new Ht,this.position=new Ss(this.onChange,this,0,0),this.scale=new Ss(this.onChange,this,1,1),this.pivot=new Ss(this.onChange,this,0,0),this.skew=new Ss(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const i=this.localTransform;this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(i){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==i._worldID){const t=i.worldTransform,r=this.worldTransform;r.a=e.a*t.a+e.b*t.c,r.b=e.a*t.b+e.b*t.d,r.c=e.c*t.a+e.d*t.c,r.d=e.c*t.b+e.d*t.d,r.tx=e.tx*t.a+e.ty*t.c+t.tx,r.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=i._worldID,this._worldID++}}setFromMatrix(i){i.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(i){this._rotation!==i&&(this._rotation=i,this.updateSkew())}};e0.IDENTITY=new e0;let Af=e0;Af.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var Xw=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,$w=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Zy(i,e,t){const r=i.createShader(e);return i.shaderSource(r,t),i.compileShader(r),r}function wm(i){const e=new Array(i);for(let t=0;t<e.length;t++)e[t]=!1;return e}function _1(i,e){switch(i){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return wm(2*e);case"bvec3":return wm(3*e);case"bvec4":return wm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const qu=[{test:i=>i.type==="float"&&i.size===1&&!i.isArray,code:i=>`
            if(uv["${i}"] !== ud["${i}"].value)
            {
                ud["${i}"].value = uv["${i}"]
                gl.uniform1f(ud["${i}"].location, uv["${i}"])
            }
            `},{test:(i,e)=>(i.type==="sampler2D"||i.type==="samplerCube"||i.type==="sampler2DArray")&&i.size===1&&!i.isArray&&(e==null||e.castToBaseTexture!==void 0),code:i=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${i}"], t);

            if(ud["${i}"].value !== t)
            {
                ud["${i}"].value = t;
                gl.uniform1i(ud["${i}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(i,e)=>i.type==="mat3"&&i.size===1&&!i.isArray&&e.a!==void 0,code:i=>`
            gl.uniformMatrix3fv(ud["${i}"].location, false, uv["${i}"].toArray(true));
            `,codeUbo:i=>`
                var ${i}_matrix = uv.${i}.toArray(true);

                data[offset] = ${i}_matrix[0];
                data[offset+1] = ${i}_matrix[1];
                data[offset+2] = ${i}_matrix[2];
        
                data[offset + 4] = ${i}_matrix[3];
                data[offset + 5] = ${i}_matrix[4];
                data[offset + 6] = ${i}_matrix[5];
        
                data[offset + 8] = ${i}_matrix[6];
                data[offset + 9] = ${i}_matrix[7];
                data[offset + 10] = ${i}_matrix[8];
            `},{test:(i,e)=>i.type==="vec2"&&i.size===1&&!i.isArray&&e.x!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${i}"].location, v.x, v.y);
                }`,codeUbo:i=>`
                v = uv.${i};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:i=>i.type==="vec2"&&i.size===1&&!i.isArray,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${i}"].location, v[0], v[1]);
                }
            `},{test:(i,e)=>i.type==="vec4"&&i.size===1&&!i.isArray&&e.width!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${i}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(i,e)=>i.type==="vec4"&&i.size===1&&!i.isArray&&e.red!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${i}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(i,e)=>i.type==="vec3"&&i.size===1&&!i.isArray&&e.red!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${i}"].location, v.red, v.green, v.blue)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:i=>i.type==="vec4"&&i.size===1&&!i.isArray,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${i}"].location, v[0], v[1], v[2], v[3])
                }`}],Yw={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},qw={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Qw(i,e){var r;const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const s in i.uniforms){const a=e[s];if(!a){((r=i.uniforms[s])==null?void 0:r.group)===!0&&(i.uniforms[s].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${s}, '${s}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${s}, syncData);
                    `));continue}const c=i.uniforms[s];let d=!1;for(let p=0;p<qu.length;p++)if(qu[p].test(a,c)){t.push(qu[p].code(s,c)),d=!0;break}if(!d){const p=(a.size===1&&!a.isArray?Yw:qw)[a.type].replace("location",`ud["${s}"].location`);t.push(`
            cu = ud["${s}"];
            cv = cu.value;
            v = uv["${s}"];
            ${p};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const w1={};let Nu=w1;function Kw(){if(Nu===w1||Nu!=null&&Nu.isContextLost()){const i=Le.ADAPTER.createCanvas();let e;Le.PREFER_ENV>=Ol.WEBGL2&&(e=i.getContext("webgl2",{})),e||(e=i.getContext("webgl",{})||i.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Nu=e}return Nu}let wd;function Zw(){if(!wd){wd=di.MEDIUM;const i=Kw();if(i&&i.getShaderPrecisionFormat){const e=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);e&&(wd=e.precision?di.HIGH:di.MEDIUM)}}return wd}function Jy(i,e){const t=i.getShaderSource(e).split(`
`).map((g,y)=>`${y}: ${g}`),r=i.getShaderInfoLog(e),s=r.split(`
`),a={},c=s.map(g=>parseFloat(g.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(g=>g&&!a[g]?(a[g]=!0,!0):!1),d=[""];c.forEach(g=>{t[g-1]=`%c${t[g-1]}%c`,d.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const p=t.join(`
`);d[0]=p,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...d),console.groupEnd()}function Jw(i,e,t,r){i.getProgramParameter(e,i.LINK_STATUS)||(i.getShaderParameter(t,i.COMPILE_STATUS)||Jy(i,t),i.getShaderParameter(r,i.COMPILE_STATUS)||Jy(i,r),console.error("PixiJS Error: Could not initialize shader."),i.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",i.getProgramInfoLog(e)))}const eE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function E1(i){return eE[i]}let Ed=null;const ev={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function S1(i,e){if(!Ed){const t=Object.keys(ev);Ed={};for(let r=0;r<t.length;++r){const s=t[r];Ed[i[s]]=ev[s]}}return Ed[e]}function tv(i,e,t){if(i.substring(0,9)!=="precision"){let r=e;return e===di.HIGH&&t!==di.HIGH&&(r=di.MEDIUM),`precision ${r} float;
${i}`}else if(t!==di.HIGH&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}let nc;function tE(){if(typeof nc=="boolean")return nc;try{nc=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{nc=!1}return nc}let rE=0;const Sd={},t0=class Gu{constructor(e,t,r="pixi-shader",s={}){this.extra={},this.id=rE++,this.vertexSrc=e||Gu.defaultVertexSrc,this.fragmentSrc=t||Gu.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Sd[r]?(Sd[r]++,r+=`-${Sd[r]}`):Sd[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=tv(this.vertexSrc,Gu.defaultVertexPrecision,di.HIGH),this.fragmentSrc=tv(this.fragmentSrc,Gu.defaultFragmentPrecision,Zw())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return $w}static get defaultFragmentSrc(){return Xw}static from(e,t,r){const s=e+t;let a=$y[s];return a||($y[s]=a=new Gu(e,t,r)),a}};t0.defaultVertexPrecision=di.HIGH,t0.defaultFragmentPrecision=fo.apple.device?di.HIGH:di.MEDIUM;let po=t0,nE=0;class Xi{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=nE++,this.static=!!t,this.ubo=!!r,e instanceof fr?(this.buffer=e,this.buffer.type=bs.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new fr(new Float32Array(1)),this.buffer.type=bs.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(!this.ubo)this.uniforms[e]=new Xi(t,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,r){return new Xi(e,t,r)}static uboFrom(e,t){return new Xi(e,t??!0,!0)}}class Ts{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof Xi?this.uniformGroup=t:this.uniformGroup=new Xi(t):this.uniformGroup=new Xi({}),this.disposeRunner=new Vi("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const r in t.uniforms){const s=t.uniforms[r];if(s.group===!0&&this.checkUniformExists(e,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){const s=po.from(e,t);return new Ts(s,r)}}class iE{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let a=0;a<e;a++)r[a]=a;this.defaultGroupCache[e]=Xi.from({uSamplers:r},!0);let s=this.fragTemplate;s=s.replace(/%count%/gi,`${e}`),s=s.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new po(this.vertexSrc,s)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ht,default:this.defaultGroupCache[e]};return new Ts(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let r=0;r<e;r++)r>0&&(t+=`
else `),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class r0{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function sE(){return!fo.apple.device}function oE(i){let e=!0;const t=Le.ADAPTER.getNavigator();if(fo.tablet||fo.phone){if(fo.apple.device){const r=t.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(fo.android.device){const r=t.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?i:4}class bf{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var aE=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,lE=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const lc=class zi extends bf{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=v1,this.vertexSize=6,this.state=Rs.for2d(),this.size=zi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??oE(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??sE(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return dt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return lE}static get defaultFragmentTemplate(){return aE}setShaderGenerator({vertex:e=zi.defaultVertexSrc,fragment:t=zi.defaultFragmentTemplate}={}){this.shaderGenerator=new iE(e,t)}contextChange(){const e=this.renderer.gl;Le.PREFER_ENV===Ol.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),zi.defaultMaxTextures),this.maxTextures=Bw(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=zi,r=this.size/4,s=Math.floor(r/this.maxTextures)+1;for(;e.length<r;)e.push(new Zm);for(;t.length<s;)t.push(new r0);for(let a=0;a<this.maxTextures;a++)this._tempBoundTextures[a]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,r=zi._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,c=this.renderer.textureGC.count;let d=++it._globalBatch,p=0,g=r[0],y=0;s.copyBoundTextures(a,t);for(let w=0;w<this._bufferSize;++w){const _=e[w];e[w]=null,_._batchEnabled!==d&&(g.count>=t&&(s.boundArray(g,a,d,t),this.buildDrawCalls(g,y,w),y=w,g=r[++p],++d),_._batchEnabled=d,_.touched=c,g.elements[g.count++]=_)}g.count>0&&(s.boundArray(g,a,d,t),this.buildDrawCalls(g,y,this._bufferSize),++p,++d);for(let w=0;w<a.length;w++)a[w]=null;it._globalBatch=d}buildDrawCalls(e,t,r){const{_bufferedElements:s,_attributeBuffer:a,_indexBuffer:c,vertexSize:d}=this,p=zi._drawCallPool;let g=this._dcIndex,y=this._aIndex,w=this._iIndex,_=p[g];_.start=this._iIndex,_.texArray=e;for(let A=t;A<r;++A){const b=s[A],P=b._texture.baseTexture,T=p1[P.alphaMode?1:0][b.blendMode];s[A]=null,t<A&&_.blend!==T&&(_.size=w-_.start,t=A,_=p[++g],_.texArray=e,_.start=w),this.packInterleavedGeometry(b,a,c,y,w),y+=b.vertexData.length/2*d,w+=b.indices.length,_.blend=T}t<r&&(_.size=w-_.start,++g),this._dcIndex=g,this._aIndex=y,this._iIndex=w}bindAndClearTexArray(e){const t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:r}=this;zi.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:r}=this.renderer,s=zi._drawCallPool;let a=null;for(let c=0;c<e;c++){const{texArray:d,type:p,size:g,start:y,blend:w}=s[c];a!==d&&(a=d,this.bindAndClearTexArray(d)),this.state.blendMode=w,r.set(this.state),t.drawElements(p,g,t.UNSIGNED_SHORT,y*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),zi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=ef(Math.ceil(e/8)),r=Vy(t),s=t*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let a=this._aBuffers[s];return a||(this._aBuffers[s]=a=new qm(s*this.vertexSize*4)),a}getIndexBuffer(e){const t=ef(Math.ceil(e/12)),r=Vy(t),s=t*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let a=this._iBuffers[r];return a||(this._iBuffers[r]=a=new Uint16Array(s)),a}packInterleavedGeometry(e,t,r,s,a){const{uint32View:c,float32View:d}=t,p=s/this.vertexSize,g=e.uvs,y=e.indices,w=e.vertexData,_=e._texture.baseTexture._batchLocation,A=Math.min(e.worldAlpha,1),b=zt.shared.setValue(e._tintRGB).toPremultiplied(A,e._texture.baseTexture.alphaMode>0);for(let P=0;P<w.length;P+=2)d[s++]=w[P],d[s++]=w[P+1],d[s++]=g[P],d[s++]=g[P+1],c[s++]=b,d[s++]=_;for(let P=0;P<y.length;P++)r[a++]=p+y[P]}};lc.defaultBatchSize=4096,lc.extension={name:"batch",type:De.RendererPlugin},lc._drawCallPool=[],lc._textureArrayPool=[];let kl=lc;Ve.add(kl);var uE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,hE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const n0=class uc extends Ts{constructor(e,t,r){const s=po.from(e||uc.defaultVertexSrc,t||uc.defaultFragmentSrc);super(s,r),this.padding=0,this.resolution=uc.defaultResolution,this.multisample=uc.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Rs}apply(e,t,r,s,a){e.applyFilter(this,t,r,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return hE}static get defaultFragmentSrc(){return uE}};n0.defaultResolution=1,n0.defaultMultisample=gr.NONE;let pn=n0;class nf{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new zt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:r,backgroundAlpha:s}=e,a=r??t;a!==void 0&&(this.color=a),this.alpha=s}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}nf.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},nf.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"background"};Ve.add(nf);class A1{constructor(e){this.renderer=e,this.emptyRenderer=new bf(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:r}=this.renderer.texture;for(let s=t-1;s>=0;--s)e[s]=r[s]||null,e[s]&&(e[s]._batchLocation=s)}boundArray(e,t,r,s){const{elements:a,ids:c,count:d}=e;let p=0;for(let g=0;g<d;g++){const y=a[g],w=y._batchLocation;if(w>=0&&w<s&&t[w]===y){c[g]=w;continue}for(;p<s;){const _=t[p];if(_&&_._batchEnabled===r&&_._batchLocation===p){p++;continue}c[g]=p,y._batchLocation=p,t[p]=y;break}}}destroy(){this.renderer=null}}A1.extension={type:De.RendererSystem,name:"batch"};Ve.add(A1);let rv=0;class sf{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=rv++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=rv++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(Le.PREFER_ENV>=Ol.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}sf.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},sf.extension={type:De.RendererSystem,name:"context"};Ve.add(sf);class i0{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Vi("disposeFramebuffer"),this.multisample=gr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new it(null,{scaleMode:jr.NEAREST,resolution:1,mipmap:Cs.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new it(null,{scaleMode:jr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Cs.OFF,format:Ie.DEPTH_COMPONENT,type:Ke.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const s=this.colorTextures[r],a=s.resolution;s.setSize(e/a,t/a)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class b1 extends it{constructor(e={}){if(typeof e=="number"){const t=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3];e={width:t,height:r,scaleMode:s,resolution:a}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=gr.NONE),super(null,e),this.mipmap=Cs.OFF,this.valid=!0,this._clear=new zt([0,0,0,0]),this.framebuffer=new i0(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class yo extends xc{constructor(e){const t=e,r=t.naturalWidth||t.videoWidth||t.displayWidth||t.width,s=t.naturalHeight||t.videoHeight||t.displayHeight||t.height;super(r,s),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){r===void 0&&!t.startsWith("data:")?e.crossOrigin=Dw(t):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,t,r,s){const a=e.gl,c=t.realWidth,d=t.realHeight;if(s=s||this.source,typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===On.UNPACK),!this.noSubImage&&t.target===a.TEXTURE_2D&&r.width===c&&r.height===d?a.texSubImage2D(a.TEXTURE_2D,0,0,0,t.format,r.type,s):(r.width=c,r.height=d,a.texImage2D(t.target,0,r.internalFormat,t.format,r.type,s)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}}class T1 extends yo{constructor(e,t){if(t=t||{},typeof e=="string"){const r=new Image;yo.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??Le.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,r)=>{const s=this.source;this.url=s.src;const a=()=>{this.destroyed||(s.onload=null,s.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};s.complete&&s.src?a():(s.onload=a,s.onerror=c=>{r(c),this.onError.emit(c)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(s=>s.blob()).then(s=>t(s,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===On.UNPACK?"premultiply":"none"})).then(s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,r){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let s=!0;const a=t._glTextures;for(const c in a){const d=a[c];if(d!==r&&d.dirtyId!==t.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class U0{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){const s=t.width,a=t.height;if(r){const c=e.width/2/s,d=e.height/2/a,p=e.x/s+c,g=e.y/a+d;r=Zt.add(r,Zt.NW),this.x0=p+c*Zt.uX(r),this.y0=g+d*Zt.uY(r),r=Zt.add(r,2),this.x1=p+c*Zt.uX(r),this.y1=g+d*Zt.uY(r),r=Zt.add(r,2),this.x2=p+c*Zt.uX(r),this.y2=g+d*Zt.uY(r),r=Zt.add(r,2),this.x3=p+c*Zt.uX(r),this.y3=g+d*Zt.uY(r)}else this.x0=e.x/s,this.y0=e.y/a,this.x1=(e.x+e.width)/s,this.y1=e.y/a,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/a,this.x3=e.x/s,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}U0.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const nv=new U0;function Ad(i){i.destroy=function(){},i.on=function(){},i.once=function(){},i.emit=function(){}}class ke extends bc{constructor(e,t,r,s,a,c,d){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new rt(0,0,1,1)),e instanceof ke&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=nv,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(a||0),a===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=c?new ft(c.x,c.y):new ft(0,0),this.defaultBorders=d,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t!=null&&t.url&&vs[t.url]&&ke.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ke.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var s;const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),r=new ke(this.baseTexture,!this.noFrame&&e,t,(s=this.trim)==null?void 0:s.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===nv&&(this._uvs=new U0),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=Le.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let a=null;if(s)a=e;else if(e instanceof it){if(!e.cacheId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${d}-${Bl()}`,it.addToCache(e,e.cacheId)}a=e.cacheId}else{if(!e._pixiId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${d}_${Bl()}`}a=e._pixiId}let c=vs[a];if(s&&r&&!c)throw new Error(`The cacheId "${a}" does not exist in TextureCache.`);return!c&&!(e instanceof it)?(t.resolution||(t.resolution=go(e)),c=new ke(new it(e,t)),c.baseTexture.cacheId=a,it.addToCache(c.baseTexture,a),ke.addToCache(c,a)):!c&&e instanceof it&&(c=new ke(e),ke.addToCache(c,a)),c}static fromURL(e,t){const r=Object.assign({autoLoad:!1},t==null?void 0:t.resourceOptions),s=ke.from(e,Object.assign({resourceOptions:r},t),!1),a=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):a.load().then(()=>Promise.resolve(s))}static fromBuffer(e,t,r,s){return new ke(it.fromBuffer(e,t,r,s))}static fromLoader(e,t,r,s){const a=new it(e,Object.assign({scaleMode:it.defaultOptions.scaleMode,resolution:go(t)},s)),{resource:c}=a;c instanceof T1&&(c.url=t);const d=new ke(a);return r||(r=t),it.addToCache(d.baseTexture,r),ke.addToCache(d,r),r!==t&&(it.addToCache(d.baseTexture,t),ke.addToCache(d,t)),d.baseTexture.valid?Promise.resolve(d):new Promise(p=>{d.baseTexture.once("loaded",()=>p(d))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),vs[t]&&vs[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),vs[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=vs[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete vs[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)vs[e.textureCacheIds[t]]===e&&delete vs[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:r,width:s,height:a}=e,c=t+s>this.baseTexture.width,d=r+a>this.baseTexture.height;if(c||d){const p=c&&d?"and":"or",g=`X: ${t} + ${s} = ${t+s} > ${this.baseTexture.width}`,y=`Y: ${r} + ${a} = ${r+a} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${g} ${p} ${y}`)}this.valid=s&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ke._EMPTY||(ke._EMPTY=new ke(new it),Ad(ke._EMPTY),Ad(ke._EMPTY.baseTexture)),ke._EMPTY}static get WHITE(){if(!ke._WHITE){const e=Le.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),ke._WHITE=new ke(it.from(e)),Ad(ke._WHITE),Ad(ke._WHITE.baseTexture)}return ke._WHITE}}class Ll extends ke{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){const s=this.baseTexture.resolution,a=Math.round(e*s)/s,c=Math.round(t*s)/s;this.valid=a>0&&c>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=c,r&&this.baseTexture.resize(a,c),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new Ll(new b1(e))}}class C1{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=gr.NONE){const s=new b1(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new Ll(s)}getOptimalTexture(e,t,r=1,s=gr.NONE){let a;e=Math.max(Math.ceil(e*r-1e-6),1),t=Math.max(Math.ceil(t*r-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=ef(e),t=ef(t),a=((e&65535)<<16|t&65535)>>>0,s>1&&(a+=s*4294967296)):a=s>1?-s:-1,this.texturePool[a]||(this.texturePool[a]=[]);let c=this.texturePool[a].pop();return c||(c=this.createTexture(e,t,s)),c.filterPoolKey=a,c.setResolution(r),c}getFilterTexture(e,t,r){const s=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||gr.NONE);return s.filterFrame=e.filterFrame,s}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const r=this.texturePool[t];if(r)for(let s=0;s<r.length;s++)r[s].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const r=this.texturePool[t];if(r)for(let s=0;s<r.length;s++)r[s].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}C1.SCREEN_KEY=-1;class cE extends va{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class P1 extends va{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new fr(this.vertices),this.uvBuffer=new fr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,s=0;return this.uvs[0]=r,this.uvs[1]=s,this.uvs[2]=r+t.width/e.width,this.uvs[3]=s,this.uvs[4]=r+t.width/e.width,this.uvs[5]=s+t.height/e.height,this.uvs[6]=r,this.uvs[7]=s+t.height/e.height,r=t.x,s=t.y,this.vertices[0]=r,this.vertices[1]=s,this.vertices[2]=r+t.width,this.vertices[3]=s,this.vertices[4]=r+t.width,this.vertices[5]=s+t.height,this.vertices[6]=r,this.vertices[7]=s+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class dE{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=gr.NONE,this.sourceFrame=new rt,this.destinationFrame=new rt,this.bindingSourceFrame=new rt,this.bindingDestinationFrame=new rt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const bd=[new ft,new ft,new ft,new ft],Em=new Ht;class I1{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new C1,this.statePool=[],this.quad=new cE,this.quadUv=new P1,this.tempRect=new rt,this.activeState={},this.globalUniforms=new Xi({outputFrame:new rt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const r=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new dE,c=r.renderTexture;let d,p;if(c.current){const T=c.current;d=T.resolution,p=T.multisample}else d=r.resolution,p=r.multisample;let g=t[0].resolution||d,y=t[0].multisample??p,w=t[0].padding,_=t[0].autoFit,A=t[0].legacy??!0;for(let T=1;T<t.length;T++){const R=t[T];g=Math.min(g,R.resolution||d),y=Math.min(y,R.multisample??p),w=this.useMaxPadding?Math.max(w,R.padding):w+R.padding,_=_&&R.autoFit,A=A||(R.legacy??!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),s.push(a),a.resolution=g,a.multisample=y,a.legacy=A,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(w);const b=this.tempRect.copyFrom(c.sourceFrame);r.projection.transform&&this.transformAABB(Em.copyFrom(r.projection.transform).invert(),b),_?(a.sourceFrame.fit(b),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(b)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,c.current?c.current.resolution:r.resolution,c.sourceFrame,c.destinationFrame,r.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,g,y),a.filters=t,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;const P=this.tempRect;P.x=0,P.y=0,P.width=a.sourceFrame.width,P.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(c.sourceFrame),a.bindingDestinationFrame.copyFrom(c.destinationFrame),a.transform=r.projection.transform,r.projection.transform=null,c.bind(a.renderTexture,a.sourceFrame,P),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;const s=this.globalUniforms.uniforms;s.outputFrame=t.sourceFrame,s.resolution=t.resolution;const a=s.inputSize,c=s.inputPixel,d=s.inputClamp;if(a[0]=t.destinationFrame.width,a[1]=t.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],c[0]=Math.round(a[0]*t.resolution),c[1]=Math.round(a[1]*t.resolution),c[2]=1/c[0],c[3]=1/c[1],d[0]=.5*c[2],d[1]=.5*c[3],d[2]=t.sourceFrame.width*a[2]-.5*c[2],d[3]=t.sourceFrame.height*a[3]-.5*c[3],t.legacy){const g=s.filterArea;g[0]=t.destinationFrame.width,g[1]=t.destinationFrame.height,g[2]=t.sourceFrame.x,g[3]=t.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();const p=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,t.renderTexture,p.renderTexture,Es.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let g=t.renderTexture,y=this.getOptimalFilterTexture(g.width,g.height,t.resolution);y.filterFrame=g.filterFrame;let w=0;for(w=0;w<r.length-1;++w){w===1&&t.multisample>1&&(y=this.getOptimalFilterTexture(g.width,g.height,t.resolution),y.filterFrame=g.filterFrame),r[w].apply(this,g,y,Es.CLEAR,t);const _=g;g=y,y=_}r[w].apply(this,g,p.renderTexture,Es.BLEND,t),w>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(g),this.returnFilterTexture(y)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=Es.CLEAR){const{renderTexture:r,state:s}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const c=this.tempRect;c.x=0,c.y=0,c.width=e.filterFrame.width,c.height=e.filterFrame.height,r.bind(e,e.filterFrame,c)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const a=s.stateId&1||this.forceClear;(t===Es.CLEAR||t===Es.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,s){const a=this.renderer;a.state.set(e.state),this.bindAndClear(r,s),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(ji.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(ji.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:r,destinationFrame:s}=this.activeState,{orig:a}=t._texture,c=e.set(s.width,0,0,s.height,r.x,r.y),d=t.worldTransform.copyTo(Ht.TEMP_MATRIX);return d.invert(),c.prepend(d),c.scale(1/a.width,1/a.height),c.translate(t.anchor.x,t.anchor.y),c}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,s=gr.NONE){return this.texturePool.getOptimalTexture(e,t,r,s)}getFilterTexture(e,t,r){if(typeof e=="number"){const a=e;e=t,t=a}e=e||this.activeState.renderTexture;const s=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||gr.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const r=bd[0],s=bd[1],a=bd[2],c=bd[3];r.set(t.left,t.top),s.set(t.left,t.bottom),a.set(t.right,t.top),c.set(t.right,t.bottom),e.apply(r,r),e.apply(s,s),e.apply(a,a),e.apply(c,c);const d=Math.min(r.x,s.x,a.x,c.x),p=Math.min(r.y,s.y,a.y,c.y),g=Math.max(r.x,s.x,a.x,c.x),y=Math.max(r.y,s.y,a.y,c.y);t.x=d,t.y=p,t.width=g-d,t.height=y-p}roundFrame(e,t,r,s,a){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(a){const{a:c,b:d,c:p,d:g}=a;if((Math.abs(d)>1e-4||Math.abs(p)>1e-4)&&(Math.abs(c)>1e-4||Math.abs(g)>1e-4))return}a=a?Em.copyFrom(a):Em.identity(),a.translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.transformAABB(a,e),e.ceil(t),this.transformAABB(a.invert(),e)}}}I1.extension={type:De.RendererSystem,name:"filter"};Ve.add(I1);class fE{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=gr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const pE=new rt;class R1{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new i0(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new rt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Le.PREFER_ENV===Ol.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=s=>t.drawBuffersWEBGL(s):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){const{gl:s}=this;if(e){const a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,s.bindFramebuffer(s.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=r),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let c=0;c<e.colorTextures.length;c++){const d=e.colorTextures[c];this.renderer.texture.unbind(d.parentTextureArray||d)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const c=t.width>>r,d=t.height>>r,p=c/t.width;this.setViewport(t.x*p,t.y*p,c,d)}else{const c=e.width>>r,d=e.height>>r;this.setViewport(0,0,c,d)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,s){const a=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),s=Math.round(s),(a.width!==r||a.height!==s||a.x!==e||a.y!==t)&&(a.x=e,a.y=t,a.width=r,a.height=s,this.gl.viewport(e,t,r,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,s,a=Wm.COLOR|Wm.DEPTH){const{gl:c}=this;c.clearColor(e,t,r,s),c.clear(a)}initFramebuffer(e){const{gl:t}=this,r=new fE(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];if(r.stencil){t.bindRenderbuffer(t.RENDERBUFFER,r.stencil);let c;this.renderer.context.webGLVersion===1?c=t.DEPTH_STENCIL:e.depth&&e.stencil?c=t.DEPTH24_STENCIL8:e.depth?c=t.DEPTH_COMPONENT24:c=t.STENCIL_INDEX8,r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,c,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,c,e.width,e.height)}const s=e.colorTextures;let a=s.length;t.drawBuffers||(a=Math.min(a,1));for(let c=0;c<a;c++){const d=s[c],p=d.parentTextureArray||d;this.renderer.texture.bind(p,0),c===0&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:r}=this,s=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures;let c=a.length;r.drawBuffers||(c=Math.min(c,1)),s.multisample>1&&this.canMultisampleFramebuffer(e)?s.msaaBuffer=s.msaaBuffer||r.createRenderbuffer():s.msaaBuffer&&(r.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const d=[];for(let p=0;p<c;p++){const g=a[p],y=g.parentTextureArray||g;this.renderer.texture.bind(y,0),p===0&&s.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,s.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,y._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,s.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+p,g.target,y._glTextures[this.CONTEXT_UID].texture,t),d.push(r.COLOR_ATTACHMENT0+p))}if(d.length>1&&r.drawBuffers(d),e.depthTexture&&this.writeDepthTexture){const p=e.depthTexture;this.renderer.texture.bind(p,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,p._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){s.stencil=s.stencil||r.createRenderbuffer();let p,g;this.renderer.context.webGLVersion===1?(p=r.DEPTH_STENCIL_ATTACHMENT,g=r.DEPTH_STENCIL):e.depth&&e.stencil?(p=r.DEPTH_STENCIL_ATTACHMENT,g=r.DEPTH24_STENCIL8):e.depth?(p=r.DEPTH_ATTACHMENT,g=r.DEPTH_COMPONENT24):(p=r.STENCIL_ATTACHMENT,g=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,s.stencil),s.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,g,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,g,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,p,r.RENDERBUFFER,s.stencil)}else s.stencil&&(r.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let r=gr.NONE;if(e<=1||t===null)return r;for(let s=0;s<t.length;s++)if(t[s]<=e){r=t[s];break}return r===1&&(r=gr.NONE),r}blit(e,t,r){const{current:s,renderer:a,gl:c,CONTEXT_UID:d}=this;if(a.context.webGLVersion!==2||!s)return;const p=s.glFramebuffers[d];if(!p)return;if(!e){if(!p.msaaBuffer)return;const y=s.colorTextures[0];if(!y)return;p.blitFramebuffer||(p.blitFramebuffer=new i0(s.width,s.height),p.blitFramebuffer.addColorTexture(0,y)),e=p.blitFramebuffer,e.colorTextures[0]!==y&&(e.colorTextures[0]=y,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}t||(t=pE,t.width=s.width,t.height=s.height),r||(r=t);const g=t.width===r.width&&t.height===r.height;this.bind(e),c.bindFramebuffer(c.READ_FRAMEBUFFER,p.framebuffer),c.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,c.COLOR_BUFFER_BIT,g?c.NEAREST:c.LINEAR),c.bindFramebuffer(c.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const r=e.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),t||(s.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&s.deleteRenderbuffer(r.msaaBuffer),r.stencil&&s.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const r=e.width,s=e.height,a=this.gl,c=t.stencil=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,c);let d,p;this.renderer.context.webGLVersion===1?(d=a.DEPTH_STENCIL_ATTACHMENT,p=a.DEPTH_STENCIL):e.depth?(d=a.DEPTH_STENCIL_ATTACHMENT,p=a.DEPTH24_STENCIL8):(d=a.STENCIL_ATTACHMENT,p=a.STENCIL_INDEX8),t.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,t.multisample,p,r,s):a.renderbufferStorage(a.RENDERBUFFER,p,r,s),a.framebufferRenderbuffer(a.FRAMEBUFFER,d,a.RENDERBUFFER,c)}reset(){this.current=this.unknownFramebuffer,this.viewport=new rt}destroy(){this.renderer=null}}R1.extension={type:De.RendererSystem,name:"framebuffer"};Ve.add(R1);const Sm={5126:4,5123:2,5121:1};class k1{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;Le.PREFER_ENV===Ol.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=s=>r.bindVertexArrayOES(s),e.deleteVertexArray=s=>r.deleteVertexArrayOES(s)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(s,a)=>r.vertexAttribDivisorANGLE(s,a),e.drawElementsInstanced=(s,a,c,d,p)=>r.drawElementsInstancedANGLE(s,a,c,d,p),e.drawArraysInstanced=(s,a,c,d)=>r.drawArraysInstancedANGLE(s,a,c,d)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:r}=this;let s=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;s||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},a=!0);const c=s[t.program.id]||this.initGeometryVao(e,t,a);this._activeGeometry=e,this._activeVao!==c&&(this._activeVao=c,this.hasVao?r.bindVertexArray(c):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const s=e.buffers[r];t.update(s)}}checkCompatibility(e,t){const r=e.attributes,s=t.attributeData;for(const a in s)if(!r[a])throw new Error(`shader and geometry incompatible, geometry missing the "${a}" attribute`)}getSignature(e,t){const r=e.attributes,s=t.attributeData,a=["g",e.id];for(const c in r)s[c]&&a.push(c,s[c].location);return a.join("-")}initGeometryVao(e,t,r=!0){const s=this.gl,a=this.CONTEXT_UID,c=this.renderer.buffer,d=t.program;d.glPrograms[a]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,d);const p=this.getSignature(e,d),g=e.glVertexArrayObjects[this.CONTEXT_UID];let y=g[p];if(y)return g[d.id]=y,y;const w=e.buffers,_=e.attributes,A={},b={};for(const P in w)A[P]=0,b[P]=0;for(const P in _)!_[P].size&&d.attributeData[P]?_[P].size=d.attributeData[P].size:_[P].size||console.warn(`PIXI Geometry attribute '${P}' size cannot be determined (likely the bound shader does not have the attribute)`),A[_[P].buffer]+=_[P].size*Sm[_[P].type];for(const P in _){const T=_[P],R=T.size;T.stride===void 0&&(A[T.buffer]===R*Sm[T.type]?T.stride=0:T.stride=A[T.buffer]),T.start===void 0&&(T.start=b[T.buffer],b[T.buffer]+=R*Sm[T.type])}y=s.createVertexArray(),s.bindVertexArray(y);for(let P=0;P<w.length;P++){const T=w[P];c.bind(T),r&&T._glBuffers[a].refCount++}return this.activateVao(e,d),g[d.id]=y,g[p]=y,s.bindVertexArray(null),c.unbind(bs.ARRAY_BUFFER),y}disposeGeometry(e,t){var d;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,a=e.buffers,c=(d=this.renderer)==null?void 0:d.buffer;if(e.disposeRunner.remove(this),!!r){if(c)for(let p=0;p<a.length;p++){const g=a[p]._glBuffers[this.CONTEXT_UID];g&&(g.refCount--,g.refCount===0&&!t&&c.dispose(a[p],t))}if(!t){for(const p in r)if(p[0]==="g"){const g=r[p];this._activeVao===g&&this.unbind(),s.deleteVertexArray(g)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){const r=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,c=e.buffers,d=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);let p=null;for(const g in d){const y=d[g],w=c[y.buffer],_=w._glBuffers[s];if(t.attributeData[g]){p!==_&&(a.bind(w),p=_);const A=t.attributeData[g].location;if(r.enableVertexAttribArray(A),r.vertexAttribPointer(A,y.size,y.type||r.FLOAT,y.normalized,y.stride,y.start),y.instance)if(this.hasInstance)r.vertexAttribDivisor(A,y.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,r,s){const{gl:a}=this,c=this._activeGeometry;if(c.indexBuffer){const d=c.indexBuffer.data.BYTES_PER_ELEMENT,p=d===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;d===2||d===4&&this.canUseUInt32ElementIndex?c.instanced?a.drawElementsInstanced(e,t||c.indexBuffer.data.length,p,(r||0)*d,s||1):a.drawElements(e,t||c.indexBuffer.data.length,p,(r||0)*d):console.warn("unsupported index buffer type: uint32")}else c.instanced?a.drawArraysInstanced(e,r,t||c.getSize(),s||1):a.drawArrays(e,r,t||c.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}k1.extension={type:De.RendererSystem,name:"geometry"};Ve.add(k1);const iv=new Ht;class z0{constructor(e,t){this._texture=e,this.mapCoord=new Ht,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const r=this.mapCoord;for(let s=0;s<e.length;s+=2){const a=e[s],c=e[s+1];t[s]=a*r.a+c*r.c+r.tx,t[s+1]=a*r.b+c*r.d+r.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const s=t.orig,a=t.trim;a&&(iv.set(s.width/a.width,0,0,s.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(iv));const c=t.baseTexture,d=this.uClampFrame,p=this.clampMargin/c.resolution,g=this.clampOffset;return d[0]=(t._frame.x+p+g)/c.width,d[1]=(t._frame.y+p+g)/c.height,d[2]=(t._frame.x+t._frame.width-p+g)/c.width,d[3]=(t._frame.y+t._frame.height-p+g)/c.height,this.uClampOffset[0]=g/c.realWidth,this.uClampOffset[1]=g/c.realHeight,this.isSimple=t._frame.width===c.width&&t._frame.height===c.height&&t.rotate===0,!0}}var mE=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,gE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class yE extends pn{constructor(e,t,r){let s=null;typeof e!="string"&&t===void 0&&r===void 0&&(s=e,e=void 0,t=void 0,r=void 0),super(e||gE,t||mE,r),this.maskSprite=s,this.maskMatrix=new Ht}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,s){const a=this._maskSprite,c=a._texture;c.valid&&(c.uvMatrix||(c.uvMatrix=new z0(c,0)),c.uvMatrix.update(),this.uniforms.npmAlpha=c.baseTexture.alphaMode?0:1,this.uniforms.mask=c,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,a).prepend(c.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=c.uvMatrix.uClampFrame,e.applyFilter(this,t,r,s))}}class vE{constructor(e=null){this.type=Er.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=pn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Er.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class M1{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){const a=this.maskDataPool.pop()||new vE;a.pooled=!0,a.maskObject=t,r=a}const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(s),r._colorMask=s?s._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==Er.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Er.SCISSOR:this.renderer.scissor.push(r);break;case Er.STENCIL:this.renderer.stencil.push(r);break;case Er.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Er.COLOR:this.pushColorMask(r);break}r.type===Er.SPRITE&&this.maskStack.push(r)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case Er.SCISSOR:this.renderer.scissor.pop(t);break;case Er.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case Er.SPRITE:this.popSpriteMask(t);break;case Er.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===Er.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=Er.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Er.SCISSOR:e.type=Er.STENCIL:e.type=Er.COLOR}pushSpriteMask(e){const{maskObject:t}=e,r=e._target;let s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new yE])),s[0].resolution=e.resolution,s[0].multisample=e.multisample,s[0].maskSprite=t;const a=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,s),r.filterArea=a,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}M1.extension={type:De.RendererSystem,name:"mask"};Ve.add(M1);class D1{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;const s=this.getStackLength();s!==r&&(s===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const sv=new Ht,ov=[],N1=class Wd extends D1{constructor(e){super(e),this.glConst=Le.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:r}=e,{renderer:s}=this,a=s.renderTexture,c=r.getBounds(!0,ov.pop()??new rt);this.roundFrameToPixels(c,a.current?a.current.resolution:s.resolution,a.sourceFrame,a.destinationFrame,s.projection.transform),t&&c.fit(t),e._scissorRectLocal=c}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:r,c:s,d:a}=e;return(Math.abs(r)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(a)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||Wd.isMatrixRotated(t.worldTransform)||Wd.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const r=e._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(e,t,r,s,a){Wd.isMatrixRotated(a)||(a=a?sv.copyFrom(a):sv.identity(),a.translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.renderer.filter.transformAABB(a,e),e.fit(s),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&ov.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};N1.extension={type:De.RendererSystem,name:"scissor"};let xE=N1;Ve.add(xE);class F1 extends D1{constructor(e){super(e),this.glConst=Le.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:r}=this.renderer,s=e._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const a=e._colorMask;a!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,s,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,a!==0&&(e._colorMask=a,r.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=r?r._colorMask:15;s!==0&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(r._colorMask=s,t.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}F1.extension={type:De.RendererSystem,name:"stencil"};Ve.add(F1);class B1{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return dt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return dt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return dt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}B1.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"_plugin"};Ve.add(B1);class O1{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ht,this.transform=null}update(e,t,r,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,s),this.transform&&this.projectionMatrix.append(this.transform);const a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)}calculateProjection(e,t,r,s){const a=this.projectionMatrix,c=s?-1:1;a.identity(),a.a=1/t.width*2,a.d=c*(1/t.height*2),a.tx=-1-t.x*a.a,a.ty=-c-t.y*a.d}setTransform(e){}destroy(){this.renderer=null}}O1.extension={type:De.RendererSystem,name:"projection"};Ve.add(O1);const _E=new Af,av=new rt;class L1{constructor(e){this.renderer=e,this._tempMatrix=new Ht}generateTexture(e,t){const{region:r,...s}=t||{},a=(r==null?void 0:r.copyTo(av))||e.getLocalBounds(av,!0),c=s.resolution||this.renderer.resolution;a.width=Math.max(a.width,1/c),a.height=Math.max(a.height,1/c),s.width=a.width,s.height=a.height,s.resolution=c,s.multisample??(s.multisample=this.renderer.multisample);const d=Ll.create(s);this._tempMatrix.tx=-a.x,this._tempMatrix.ty=-a.y;const p=e.transform;return e.transform=_E,this.renderer.render(e,{renderTexture:d,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=p,d}destroy(){}}L1.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"textureGenerator"};Ve.add(L1);const Al=new rt,ic=new rt;class U1{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new rt,this.destinationFrame=new rt,this.viewportFrame=new rt}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,r){const s=this.renderer;this.current=e;let a,c,d;e?(a=e.baseTexture,d=a.resolution,t||(Al.width=e.frame.width,Al.height=e.frame.height,t=Al),r||(ic.x=e.frame.x,ic.y=e.frame.y,ic.width=t.width,ic.height=t.height,r=ic),c=a.framebuffer):(d=s.resolution,t||(Al.width=s._view.screen.width,Al.height=s._view.screen.height,t=Al),r||(r=Al,r.width=t.width,r.height=t.height));const p=this.viewportFrame;p.x=r.x*d,p.y=r.y*d,p.width=r.width*d,p.height=r.height*d,e||(p.y=s.view.height-(p.y+p.height)),p.ceil(),this.renderer.framebuffer.bind(c,p),this.renderer.projection.update(r,t,d,!c),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=zt.shared.setValue(e||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);const a=this.destinationFrame,c=this.current?this.current.baseTexture:this.renderer._view.screen,d=a.width!==c.width||a.height!==c.height;if(d){let{x:p,y:g,width:y,height:w}=this.viewportFrame;p=Math.round(p),g=Math.round(g),y=Math.round(y),w=Math.round(w),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(p,g,y,w)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,t),d&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}U1.extension={type:De.RendererSystem,name:"renderTexture"};Ve.add(U1);class wE{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function EE(i,e){const t={},r=e.getProgramParameter(i,e.ACTIVE_ATTRIBUTES);for(let s=0;s<r;s++){const a=e.getActiveAttrib(i,s);if(a.name.startsWith("gl_"))continue;const c=S1(e,a.type),d={type:c,name:a.name,size:E1(c),location:e.getAttribLocation(i,a.name)};t[a.name]=d}return t}function SE(i,e){const t={},r=e.getProgramParameter(i,e.ACTIVE_UNIFORMS);for(let s=0;s<r;s++){const a=e.getActiveUniform(i,s),c=a.name.replace(/\[.*?\]$/,""),d=!!a.name.match(/\[.*?\]$/),p=S1(e,a.type);t[c]={name:c,index:s,type:p,size:a.size,isArray:d,value:_1(p,a.size)}}return t}function AE(i,e){var d;const t=Zy(i,i.VERTEX_SHADER,e.vertexSrc),r=Zy(i,i.FRAGMENT_SHADER,e.fragmentSrc),s=i.createProgram();i.attachShader(s,t),i.attachShader(s,r);const a=(d=e.extra)==null?void 0:d.transformFeedbackVaryings;if(a&&(typeof i.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):i.transformFeedbackVaryings(s,a.names,a.bufferMode==="separate"?i.SEPARATE_ATTRIBS:i.INTERLEAVED_ATTRIBS)),i.linkProgram(s),i.getProgramParameter(s,i.LINK_STATUS)||Jw(i,s,t,r),e.attributeData=EE(s,i),e.uniformData=SE(s,i),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const p=Object.keys(e.attributeData);p.sort((g,y)=>g>y?1:-1);for(let g=0;g<p.length;g++)e.attributeData[p[g]].location=g,i.bindAttribLocation(s,g,p[g]);i.linkProgram(s)}i.deleteShader(t),i.deleteShader(r);const c={};for(const p in e.uniformData){const g=e.uniformData[p];c[p]={location:i.getUniformLocation(s,p),value:_1(g.type,g.size)}}return new wE(s,c)}function bE(i,e,t,r,s){t.buffer.update(s)}const TE={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},z1={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function CE(i){const e=i.map(a=>({data:a,offset:0,dataLen:0,dirty:0}));let t=0,r=0,s=0;for(let a=0;a<e.length;a++){const c=e[a];if(t=z1[c.data.type],c.data.size>1&&(t=Math.max(t,16)*c.data.size),c.dataLen=t,r%t!==0&&r<16){const d=r%t%16;r+=d,s+=d}r+t>16?(s=Math.ceil(s/16)*16,c.offset=s,s+=t,r=t):(c.offset=s,r+=t,s+=t)}return s=Math.ceil(s/16)*16,{uboElements:e,size:s}}function PE(i,e){const t=[];for(const r in i)e[r]&&t.push(e[r]);return t.sort((r,s)=>r.index-s.index),t}function IE(i,e){if(!i.autoManage)return{size:0,syncFunc:bE};const t=PE(i.uniforms,e),{uboElements:r,size:s}=CE(t),a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let c=0;c<r.length;c++){const d=r[c],p=i.uniforms[d.data.name],g=d.data.name;let y=!1;for(let w=0;w<qu.length;w++){const _=qu[w];if(_.codeUbo&&_.test(d.data,p)){a.push(`offset = ${d.offset/4};`,qu[w].codeUbo(d.data.name,p)),y=!0;break}}if(!y)if(d.data.size>1){const w=E1(d.data.type),_=Math.max(z1[d.data.type]/16,1),A=w/_,b=(4-A%4)%4;a.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};

                t = 0;

                for(var i=0; i < ${d.data.size*_}; i++)
                {
                    for(var j = 0; j < ${A}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${b};
                }

                `)}else{const w=TE[d.data.type];a.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};
                ${w};
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}let RE=0;const Td={textureCount:0,uboCount:0};class G1{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=RE++}systemCheck(){if(!tE())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,s=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(s.program)),t||(Td.textureCount=0,Td.uboCount=0,this.syncUniformGroup(e.uniformGroup,Td)),s}setUniforms(e){const t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=Qw(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const s=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),s(r.uniformData,e.uniforms,this.renderer,Td,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){const{gl:s}=this.renderer;this.renderer.buffer.bind(e.buffer);const a=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,s.uniformBlockBinding(t.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;const c=this.getSignature(e,this.shader.program.uniformData,"ubo");let d=this._uboCache[c];if(d||(d=this._uboCache[c]=IE(e,this.shader.program.uniformData)),e.autoManage){const p=new Float32Array(d.size/4);e.buffer.update(p)}return t.uniformGroups[e.id]=d.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){const s=e.uniforms,a=[`${r}-`];for(const c in s)a.push(c),t[c]&&a.push(t[c].type);return a.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,r=e.program,s=AE(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}G1.extension={type:De.RendererSystem,name:"shader"};Ve.add(G1);class of{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.2 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}of.defaultOptions={hello:!1},of.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"startup"};Ve.add(of);function kE(i,e=[]){return e[tt.NORMAL]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.ADD]=[i.ONE,i.ONE],e[tt.MULTIPLY]=[i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.SCREEN]=[i.ONE,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.OVERLAY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.DARKEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.LIGHTEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.COLOR_DODGE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.COLOR_BURN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.HARD_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.SOFT_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.DIFFERENCE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.EXCLUSION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.HUE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.SATURATION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.COLOR]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.LUMINOSITY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.NONE]=[0,0],e[tt.NORMAL_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.ADD_NPM]=[i.SRC_ALPHA,i.ONE,i.ONE,i.ONE],e[tt.SCREEN_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[tt.SRC_IN]=[i.DST_ALPHA,i.ZERO],e[tt.SRC_OUT]=[i.ONE_MINUS_DST_ALPHA,i.ZERO],e[tt.SRC_ATOP]=[i.DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],e[tt.DST_OVER]=[i.ONE_MINUS_DST_ALPHA,i.ONE],e[tt.DST_IN]=[i.ZERO,i.SRC_ALPHA],e[tt.DST_OUT]=[i.ZERO,i.ONE_MINUS_SRC_ALPHA],e[tt.DST_ATOP]=[i.ONE_MINUS_DST_ALPHA,i.SRC_ALPHA],e[tt.XOR]=[i.ONE_MINUS_DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],e[tt.SUBTRACT]=[i.ONE,i.ONE,i.ONE,i.ONE,i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD],e}const ME=0,DE=1,NE=2,FE=3,BE=4,OE=5,H1=class s0{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=tt.NONE,this._blendEq=!1,this.map=[],this.map[ME]=this.setBlend,this.map[DE]=this.setOffset,this.map[NE]=this.setCullFace,this.map[FE]=this.setDepthTest,this.map[BE]=this.setFrontFace,this.map[OE]=this.setDepthMask,this.checks=[],this.defaultState=new Rs,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=kE(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)t&1&&this.map[r].call(this,!!(e.data&1<<r)),t=t>>1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(s0.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(s0.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],r=this.gl;t.length===2?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const r=this.checks.indexOf(e);t&&r===-1?this.checks.push(e):!t&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};H1.extension={type:De.RendererSystem,name:"state"};let LE=H1;Ve.add(LE);class UE extends bc{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(s=>e.systems[s]),r=[...t,...Object.keys(e.systems).filter(s=>!t.includes(s))];for(const s of r)this.addSystem(e.systems[s],s)}addRunners(...e){e.forEach(t=>{this.runners[t]=new Vi(t)})}addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const s in this.runners)this.runners[s].add(r);return this}emitWithCustomOptions(e,t){const r=Object.keys(this._systemsHash);e.items.forEach(s=>{const a=r.find(c=>this._systemsHash[c]===s);s[e.name](t[a])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const hc=class Vd{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Vd.defaultMaxIdle,this.checkCountMax=Vd.defaultCheckCountMax,this.mode=Vd.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==F0.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let r=!1;for(let s=0;s<t.length;s++){const a=t[s];a.resource&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),t[s]=null,r=!0)}if(r){let s=0;for(let a=0;a<t.length;a++)t[a]!==null&&(t[s++]=t[a]);t.length=s}}unload(e){const t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let s=e.children.length-1;s>=0;s--)this.unload(e.children[s])}destroy(){this.renderer=null}};hc.defaultMode=F0.AUTO,hc.defaultMaxIdle=60*60,hc.defaultCheckCountMax=60*10,hc.extension={type:De.RendererSystem,name:"textureGC"};let Ml=hc;Ve.add(Ml);class Am{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ke.UNSIGNED_BYTE,this.internalFormat=Ie.RGBA,this.samplerType=0}}function zE(i){let e;return"WebGL2RenderingContext"in globalThis&&i instanceof globalThis.WebGL2RenderingContext?e={[i.RGB]:Oe.FLOAT,[i.RGBA]:Oe.FLOAT,[i.ALPHA]:Oe.FLOAT,[i.LUMINANCE]:Oe.FLOAT,[i.LUMINANCE_ALPHA]:Oe.FLOAT,[i.R8]:Oe.FLOAT,[i.R8_SNORM]:Oe.FLOAT,[i.RG8]:Oe.FLOAT,[i.RG8_SNORM]:Oe.FLOAT,[i.RGB8]:Oe.FLOAT,[i.RGB8_SNORM]:Oe.FLOAT,[i.RGB565]:Oe.FLOAT,[i.RGBA4]:Oe.FLOAT,[i.RGB5_A1]:Oe.FLOAT,[i.RGBA8]:Oe.FLOAT,[i.RGBA8_SNORM]:Oe.FLOAT,[i.RGB10_A2]:Oe.FLOAT,[i.RGB10_A2UI]:Oe.FLOAT,[i.SRGB8]:Oe.FLOAT,[i.SRGB8_ALPHA8]:Oe.FLOAT,[i.R16F]:Oe.FLOAT,[i.RG16F]:Oe.FLOAT,[i.RGB16F]:Oe.FLOAT,[i.RGBA16F]:Oe.FLOAT,[i.R32F]:Oe.FLOAT,[i.RG32F]:Oe.FLOAT,[i.RGB32F]:Oe.FLOAT,[i.RGBA32F]:Oe.FLOAT,[i.R11F_G11F_B10F]:Oe.FLOAT,[i.RGB9_E5]:Oe.FLOAT,[i.R8I]:Oe.INT,[i.R8UI]:Oe.UINT,[i.R16I]:Oe.INT,[i.R16UI]:Oe.UINT,[i.R32I]:Oe.INT,[i.R32UI]:Oe.UINT,[i.RG8I]:Oe.INT,[i.RG8UI]:Oe.UINT,[i.RG16I]:Oe.INT,[i.RG16UI]:Oe.UINT,[i.RG32I]:Oe.INT,[i.RG32UI]:Oe.UINT,[i.RGB8I]:Oe.INT,[i.RGB8UI]:Oe.UINT,[i.RGB16I]:Oe.INT,[i.RGB16UI]:Oe.UINT,[i.RGB32I]:Oe.INT,[i.RGB32UI]:Oe.UINT,[i.RGBA8I]:Oe.INT,[i.RGBA8UI]:Oe.UINT,[i.RGBA16I]:Oe.INT,[i.RGBA16UI]:Oe.UINT,[i.RGBA32I]:Oe.INT,[i.RGBA32UI]:Oe.UINT,[i.DEPTH_COMPONENT16]:Oe.FLOAT,[i.DEPTH_COMPONENT24]:Oe.FLOAT,[i.DEPTH_COMPONENT32F]:Oe.FLOAT,[i.DEPTH_STENCIL]:Oe.FLOAT,[i.DEPTH24_STENCIL8]:Oe.FLOAT,[i.DEPTH32F_STENCIL8]:Oe.FLOAT}:e={[i.RGB]:Oe.FLOAT,[i.RGBA]:Oe.FLOAT,[i.ALPHA]:Oe.FLOAT,[i.LUMINANCE]:Oe.FLOAT,[i.LUMINANCE_ALPHA]:Oe.FLOAT,[i.DEPTH_STENCIL]:Oe.FLOAT},e}function GE(i){let e;return"WebGL2RenderingContext"in globalThis&&i instanceof globalThis.WebGL2RenderingContext?e={[Ke.UNSIGNED_BYTE]:{[Ie.RGBA]:i.RGBA8,[Ie.RGB]:i.RGB8,[Ie.RG]:i.RG8,[Ie.RED]:i.R8,[Ie.RGBA_INTEGER]:i.RGBA8UI,[Ie.RGB_INTEGER]:i.RGB8UI,[Ie.RG_INTEGER]:i.RG8UI,[Ie.RED_INTEGER]:i.R8UI,[Ie.ALPHA]:i.ALPHA,[Ie.LUMINANCE]:i.LUMINANCE,[Ie.LUMINANCE_ALPHA]:i.LUMINANCE_ALPHA},[Ke.BYTE]:{[Ie.RGBA]:i.RGBA8_SNORM,[Ie.RGB]:i.RGB8_SNORM,[Ie.RG]:i.RG8_SNORM,[Ie.RED]:i.R8_SNORM,[Ie.RGBA_INTEGER]:i.RGBA8I,[Ie.RGB_INTEGER]:i.RGB8I,[Ie.RG_INTEGER]:i.RG8I,[Ie.RED_INTEGER]:i.R8I},[Ke.UNSIGNED_SHORT]:{[Ie.RGBA_INTEGER]:i.RGBA16UI,[Ie.RGB_INTEGER]:i.RGB16UI,[Ie.RG_INTEGER]:i.RG16UI,[Ie.RED_INTEGER]:i.R16UI,[Ie.DEPTH_COMPONENT]:i.DEPTH_COMPONENT16},[Ke.SHORT]:{[Ie.RGBA_INTEGER]:i.RGBA16I,[Ie.RGB_INTEGER]:i.RGB16I,[Ie.RG_INTEGER]:i.RG16I,[Ie.RED_INTEGER]:i.R16I},[Ke.UNSIGNED_INT]:{[Ie.RGBA_INTEGER]:i.RGBA32UI,[Ie.RGB_INTEGER]:i.RGB32UI,[Ie.RG_INTEGER]:i.RG32UI,[Ie.RED_INTEGER]:i.R32UI,[Ie.DEPTH_COMPONENT]:i.DEPTH_COMPONENT24},[Ke.INT]:{[Ie.RGBA_INTEGER]:i.RGBA32I,[Ie.RGB_INTEGER]:i.RGB32I,[Ie.RG_INTEGER]:i.RG32I,[Ie.RED_INTEGER]:i.R32I},[Ke.FLOAT]:{[Ie.RGBA]:i.RGBA32F,[Ie.RGB]:i.RGB32F,[Ie.RG]:i.RG32F,[Ie.RED]:i.R32F,[Ie.DEPTH_COMPONENT]:i.DEPTH_COMPONENT32F},[Ke.HALF_FLOAT]:{[Ie.RGBA]:i.RGBA16F,[Ie.RGB]:i.RGB16F,[Ie.RG]:i.RG16F,[Ie.RED]:i.R16F},[Ke.UNSIGNED_SHORT_5_6_5]:{[Ie.RGB]:i.RGB565},[Ke.UNSIGNED_SHORT_4_4_4_4]:{[Ie.RGBA]:i.RGBA4},[Ke.UNSIGNED_SHORT_5_5_5_1]:{[Ie.RGBA]:i.RGB5_A1},[Ke.UNSIGNED_INT_2_10_10_10_REV]:{[Ie.RGBA]:i.RGB10_A2,[Ie.RGBA_INTEGER]:i.RGB10_A2UI},[Ke.UNSIGNED_INT_10F_11F_11F_REV]:{[Ie.RGB]:i.R11F_G11F_B10F},[Ke.UNSIGNED_INT_5_9_9_9_REV]:{[Ie.RGB]:i.RGB9_E5},[Ke.UNSIGNED_INT_24_8]:{[Ie.DEPTH_STENCIL]:i.DEPTH24_STENCIL8},[Ke.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Ie.DEPTH_STENCIL]:i.DEPTH32F_STENCIL8}}:e={[Ke.UNSIGNED_BYTE]:{[Ie.RGBA]:i.RGBA,[Ie.RGB]:i.RGB,[Ie.ALPHA]:i.ALPHA,[Ie.LUMINANCE]:i.LUMINANCE,[Ie.LUMINANCE_ALPHA]:i.LUMINANCE_ALPHA},[Ke.UNSIGNED_SHORT_5_6_5]:{[Ie.RGB]:i.RGB},[Ke.UNSIGNED_SHORT_4_4_4_4]:{[Ie.RGBA]:i.RGBA},[Ke.UNSIGNED_SHORT_5_5_5_1]:{[Ie.RGBA]:i.RGBA}},e}class j1{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new it,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=GE(e),this.samplerTypes=zE(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let s=0;s<t;s++)this.boundTextures[s]=null;this.emptyTextures={};const r=new Am(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Am(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let s=0;s<6;s++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(e,t=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const s=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,s.texture)),s.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):s.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<r.length;s++)r[s]===this.unknownTexture&&this.bind(null,s)}for(let s=0;s<r.length;s++)r[s]===e&&(this.currentLocation!==s&&(t.activeTexture(t.TEXTURE0+s),this.currentLocation=s),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[s]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:s}=this;if(r)for(let a=e-1;a>=0;--a){const c=t[a];c&&c._glTextures[s].samplerType!==Oe.FLOAT&&this.renderer.texture.unbind(c)}}initTexture(e){const t=new Am(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var r;t.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??Oe.FLOAT,this.webGLVersion===2&&e.type===Ke.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var s;const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const r=this.renderer;if(this.initTextureType(e,t),(s=e.resource)==null?void 0:s.upload(r,e,t))t.samplerType!==Oe.FLOAT&&(this.hasIntegerTextures=!0);else{const a=e.realWidth,c=e.realHeight,d=r.gl;(t.width!==a||t.height!==c||t.dirtyId<0)&&(t.width=a,t.height=c,d.texImage2D(e.target,0,t.internalFormat,a,c,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const s=this.managedTextures.indexOf(e);s!==-1&&Yu(this.managedTextures,s,1)}}updateTextureStyle(e){var r;const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===Cs.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=mo.CLAMP:t.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const r=this.gl;if(t.mipmap&&e.mipmap!==Cs.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===jr.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const s=this.renderer.context.extensions.anisotropicFiltering;if(s&&e.anisotropicLevel>0&&e.scaleMode===jr.LINEAR){const a=Math.min(e.anisotropicLevel,r.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,s.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===jr.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===jr.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}j1.extension={type:De.RendererSystem,name:"texture"};Ve.add(j1);class W1{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:r,renderer:s}=this;t&&s.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:r,CONTEXT_UID:s}=this,a=t.createTransformFeedback();e._glTransformFeedbacks[s]=a,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,a);for(let c=0;c<e.buffers.length;c++){const d=e.buffers[c];d&&(r.buffer.update(d),d._glBuffers[s].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,c,d._glBuffers[s].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),a}disposeTransformFeedback(e,t){const r=e._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this);const a=this.renderer.buffer;if(a)for(let c=0;c<e.buffers.length;c++){const d=e.buffers[c];if(!d)continue;const p=d._glBuffers[this.CONTEXT_UID];p&&(p.refCount--,p.refCount===0&&!t&&a.dispose(d,t))}r&&(t||s.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}W1.extension={type:De.RendererSystem,name:"transformFeedback"};Ve.add(W1);class af{constructor(e){this.renderer=e}init(e){this.screen=new rt(0,0,e.width,e.height),this.element=e.view||Le.ADAPTER.createCanvas(),this.resolution=e.resolution||Le.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const r=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=r,this.screen.height=s,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${s}px`),this.renderer.emit("resize",r,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&((t=this.element.parentNode)==null||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}af.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},af.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"_view"};Ve.add(af);Le.PREFER_ENV=Ol.WEBGL2;Le.STRICT_TEXTURE_CACHE=!1;Le.RENDER_OPTIONS={...sf.defaultOptions,...nf.defaultOptions,...af.defaultOptions,...of.defaultOptions};Object.defineProperties(Le,{WRAP_MODE:{get(){return it.defaultOptions.wrapMode},set(i){dt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),it.defaultOptions.wrapMode=i}},SCALE_MODE:{get(){return it.defaultOptions.scaleMode},set(i){dt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),it.defaultOptions.scaleMode=i}},MIPMAP_TEXTURES:{get(){return it.defaultOptions.mipmap},set(i){dt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),it.defaultOptions.mipmap=i}},ANISOTROPIC_LEVEL:{get(){return it.defaultOptions.anisotropicLevel},set(i){dt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),it.defaultOptions.anisotropicLevel=i}},FILTER_RESOLUTION:{get(){return dt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),pn.defaultResolution},set(i){pn.defaultResolution=i}},FILTER_MULTISAMPLE:{get(){return dt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),pn.defaultMultisample},set(i){pn.defaultMultisample=i}},SPRITE_MAX_TEXTURES:{get(){return kl.defaultMaxTextures},set(i){dt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),kl.defaultMaxTextures=i}},SPRITE_BATCH_SIZE:{get(){return kl.defaultBatchSize},set(i){dt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),kl.defaultBatchSize=i}},CAN_UPLOAD_SAME_BUFFER:{get(){return kl.canUploadSameBuffer},set(i){dt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),kl.canUploadSameBuffer=i}},GC_MODE:{get(){return Ml.defaultMode},set(i){dt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Ml.defaultMode=i}},GC_MAX_IDLE:{get(){return Ml.defaultMaxIdle},set(i){dt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Ml.defaultMaxIdle=i}},GC_MAX_CHECK_COUNT:{get(){return Ml.defaultCheckCountMax},set(i){dt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Ml.defaultCheckCountMax=i}},PRECISION_VERTEX:{get(){return po.defaultVertexPrecision},set(i){dt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),po.defaultVertexPrecision=i}},PRECISION_FRAGMENT:{get(){return po.defaultFragmentPrecision},set(i){dt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),po.defaultFragmentPrecision=i}}});var xa=(i=>(i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i))(xa||{});class bm{constructor(e,t=null,r=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=s}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const V1=class Kn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new bm(null,null,1/0),this.deltaMS=1/Kn.targetFPMS,this.elapsedMS=1/Kn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=xa.NORMAL){return this._addListener(new bm(e,t,r))}addOnce(e,t,r=xa.NORMAL){return this._addListener(new bm(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r.match(e,t)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Kn.targetFPMS;const r=this._head;let s=r.next;for(;s;)s=s.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,Kn.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Kn._shared){const e=Kn._shared=new Kn;e.autoStart=!0,e._protected=!0}return Kn._shared}static get system(){if(!Kn._system){const e=Kn._system=new Kn;e.autoStart=!0,e._protected=!0}return Kn._system}};V1.targetFPMS=.06;let Nr=V1;Object.defineProperties(Le,{TARGET_FPMS:{get(){return Nr.targetFPMS},set(i){dt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Nr.targetFPMS=i}}});class X1{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,xa.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Nr.shared:new Nr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}X1.extension=De.Application;Ve.add(X1);const $1=[];Ve.handleByList(De.Renderer,$1);function HE(i){for(const e of $1)if(e.test(i))return new e(i);throw new Error("Unable to auto-detect a suitable renderer.")}var jE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,WE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const VE=jE,Y1=WE;class q1{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=gr.HIGH?this.multisample=gr.HIGH:t>=gr.MEDIUM?this.multisample=gr.MEDIUM:t>=gr.LOW?this.multisample=gr.LOW:this.multisample=gr.NONE}destroy(){}}q1.extension={type:De.RendererSystem,name:"_multisample"};Ve.add(q1);class XE{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Q1{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,s.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:r,CONTEXT_UID:s}=this;if(this.boundBufferBases[t]!==e){const a=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,a.buffer)}}bindBufferRange(e,t,r){const{gl:s,CONTEXT_UID:a}=this;r=r||0;const c=e._glBuffers[a]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,t||0,c.buffer,r*256,256)}update(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==s.updateID)if(s.updateID=e._updateID,t.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const a=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,a)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this),r&&(t||s.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new XE(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}Q1.extension={type:De.RendererSystem,name:"buffer"};Ve.add(Q1);class K1{constructor(e){this.renderer=e}render(e,t){const r=this.renderer;let s,a,c,d;if(t&&(s=t.renderTexture,a=t.clear,c=t.transform,d=t.skipUpdateTransform),this.renderingToScreen=!s,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=c,!r.context.isLost){if(s||(this.lastObjectRendered=e),!d){const p=e.enableTempParent();e.updateTransform(),e.disableTempParent(p)}r.renderTexture.bind(s),r.batch.currentRenderer.start(),(a??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),s&&(t.blit&&r.framebuffer.blit(),s.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}K1.extension={type:De.RendererSystem,name:"objectRenderer"};Ve.add(K1);const Xd=class o0 extends UE{constructor(e){super(),this.type=i1.WEBGL,e=Object.assign({},Le.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Xi({projectionMatrix:new Ht},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:o0.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(dt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=o0.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:mw()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return dt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return dt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return dt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return dt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){dt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return dt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){dt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return dt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};Xd.extension={type:De.Renderer,priority:1},Xd.__plugins={},Xd.__systems={};let G0=Xd;Ve.handleByMap(De.RendererPlugin,G0.__plugins);Ve.handleByMap(De.RendererSystem,G0.__systems);Ve.add(G0);class Z1 extends xc{constructor(e,t){const{width:r,height:s}=t||{};super(r,s),this.items=[],this.itemDirtyIds=[];for(let a=0;a<e;a++){const c=new it;this.items.push(c),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof xc?this.addResourceAt(e[r],r):this.addResourceAt(y1(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:r}=this.items[0];return this.resize(t,r),this.update(),Promise.resolve(this)}),this._load}}class $E extends Z1{constructor(e,t){const{width:r,height:s}=t||{};let a,c;Array.isArray(e)?(a=e,c=e.length):c=e,super(c,{width:r,height:s}),a&&this.initFromArray(a,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=$u.TEXTURE_2D_ARRAY}upload(e,t,r){const{length:s,itemDirtyIds:a,items:c}=this,{gl:d}=e;r.dirtyId<0&&d.texImage3D(d.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,t.format,r.type,null);for(let p=0;p<s;p++){const g=c[p];a[p]<g.dirtyId&&(a[p]=g.dirtyId,g.valid&&d.texSubImage3D(d.TEXTURE_2D_ARRAY,0,0,0,p,g.resource.width,g.resource.height,1,t.format,r.type,g.resource.source))}return!0}}class YE extends yo{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const J1=class cc extends Z1{constructor(e,t){const{width:r,height:s,autoLoad:a,linkBaseTexture:c}=t||{};if(e&&e.length!==cc.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:r,height:s});for(let d=0;d<cc.SIDES;d++)this.items[d].target=$u.TEXTURE_CUBE_MAP_POSITIVE_X+d;this.linkBaseTexture=c!==!1,e&&this.initFromArray(e,t),a!==!1&&this.load()}bind(e){super.bind(e),e.target=$u.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=$u.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,r){const s=this.itemDirtyIds;for(let a=0;a<cc.SIDES;a++){const c=this.items[a];(s[a]<c.dirtyId||r.dirtyId<t.dirtyId)&&(c.valid&&c.resource?(c.resource.upload(e,c,r),s[a]=c.dirtyId):s[a]<-1&&(e.gl.texImage2D(c.target,0,r.internalFormat,t.realWidth,t.realHeight,0,t.format,r.type,null),s[a]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===cc.SIDES}};J1.SIDES=6;let qE=J1;class Vu extends yo{constructor(e,t){t=t||{};let r,s,a;typeof e=="string"?(r=Vu.EMPTY,s=e,a=!0):(r=e,s=null,a=!1),super(r),this.url=s,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??a,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const r=await Le.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const s=await r.blob();if(this.destroyed)return;const a=await createImageBitmap(s,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===On.UNPACK?"premultiply":"none"});if(this.destroyed){a.close();return}this.source=a,this.update(),e(this)}catch(r){if(this.destroyed)return;t(r),this.onError.emit(r)}}),this._load)}upload(e,t,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Vu._EMPTY=Vu._EMPTY??Le.ADAPTER.createCanvas(0,0),Vu._EMPTY}}const a0=class $d extends yo{constructor(e,t){t=t||{},super(Le.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},$d.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;yo.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,r=e.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=t*this.scale,a=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/r*t,a=this._overrideHeight||this._overrideWidth/t*r),s=Math.round(s),a=Math.round(a);const c=this.source;c.width=s,c.height=a,c._pixiId=`canvas_${Bl()}`,c.getContext("2d").drawImage(e,0,0,t,r,0,0,s,a),this._resolve(),this._resolve=null}}static getSize(e){const t=$d.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&$d.SVG_XML.test(e)}};a0.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,a0.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let l0=a0;class QE extends yo{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const u0=class h0 extends yo{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const r=document.createElement("video");t.autoLoad!==!1&&r.setAttribute("preload","auto"),t.playsinline!==!1&&(r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","")),t.muted===!0&&(r.setAttribute("muted",""),r.muted=!0),t.loop===!0&&r.setAttribute("loop",""),t.autoPlay!==!1&&r.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const s=e[0].src||e[0];yo.crossOrigin(r,s,t.crossorigin);for(let a=0;a<e.length;++a){const c=document.createElement("source");let{src:d,mime:p}=e[a];if(d=d||e[a],d.startsWith("data:"))p=d.slice(5,d.indexOf(";"));else if(!d.startsWith("blob:")){const g=d.split("?").shift().toLowerCase(),y=g.slice(g.lastIndexOf(".")+1);p=p||h0.MIME_TYPES[y]||`video/${y}`}c.src=d,p&&(c.type=p),r.appendChild(c)}e=r}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const t=Nr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,r)=>{this.valid?t(this):(this._resolve=t,this._reject=r,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Nr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Nr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Nr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||h0.TYPES.includes(t)}};u0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],u0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let ex=u0;Qm.push(Vu,T1,YE,ex,QE,l0,_f,qE,$E);class lf{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?rt.EMPTY:(e=e||new rt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:r,b:s,c:a,d:c,tx:d,ty:p}=e,g=r*t.x+a*t.y+d,y=s*t.x+c*t.y+p;this.minX=Math.min(this.minX,g),this.maxX=Math.max(this.maxX,g),this.minY=Math.min(this.minY,y),this.maxY=Math.max(this.maxY,y)}addQuad(e){let t=this.minX,r=this.minY,s=this.maxX,a=this.maxY,c=e[0],d=e[1];t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,a=d>a?d:a,c=e[2],d=e[3],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,a=d>a?d:a,c=e[4],d=e[5],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,a=d>a?d:a,c=e[6],d=e[7],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,a=d>a?d:a,this.minX=t,this.minY=r,this.maxX=s,this.maxY=a}addFrame(e,t,r,s,a){this.addFrameMatrix(e.worldTransform,t,r,s,a)}addFrameMatrix(e,t,r,s,a){const c=e.a,d=e.b,p=e.c,g=e.d,y=e.tx,w=e.ty;let _=this.minX,A=this.minY,b=this.maxX,P=this.maxY,T=c*t+p*r+y,R=d*t+g*r+w;_=T<_?T:_,A=R<A?R:A,b=T>b?T:b,P=R>P?R:P,T=c*s+p*r+y,R=d*s+g*r+w,_=T<_?T:_,A=R<A?R:A,b=T>b?T:b,P=R>P?R:P,T=c*t+p*a+y,R=d*t+g*a+w,_=T<_?T:_,A=R<A?R:A,b=T>b?T:b,P=R>P?R:P,T=c*s+p*a+y,R=d*s+g*a+w,_=T<_?T:_,A=R<A?R:A,b=T>b?T:b,P=R>P?R:P,this.minX=_,this.minY=A,this.maxX=b,this.maxY=P}addVertexData(e,t,r){let s=this.minX,a=this.minY,c=this.maxX,d=this.maxY;for(let p=t;p<r;p+=2){const g=e[p],y=e[p+1];s=g<s?g:s,a=y<a?y:a,c=g>c?g:c,d=y>d?y:d}this.minX=s,this.minY=a,this.maxX=c,this.maxY=d}addVertices(e,t,r,s){this.addVerticesMatrix(e.worldTransform,t,r,s)}addVerticesMatrix(e,t,r,s,a=0,c=a){const d=e.a,p=e.b,g=e.c,y=e.d,w=e.tx,_=e.ty;let A=this.minX,b=this.minY,P=this.maxX,T=this.maxY;for(let R=r;R<s;R+=2){const F=t[R],D=t[R+1],H=d*F+g*D+w,O=y*D+p*F+_;A=Math.min(A,H-a),P=Math.max(P,H+a),b=Math.min(b,O-c),T=Math.max(T,O+c)}this.minX=A,this.minY=b,this.maxX=P,this.maxY=T}addBounds(e){const t=this.minX,r=this.minY,s=this.maxX,a=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>a?e.maxY:a}addBoundsMask(e,t){const r=e.minX>t.minX?e.minX:t.minX,s=e.minY>t.minY?e.minY:t.minY,a=e.maxX<t.maxX?e.maxX:t.maxX,c=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=a&&s<=c){const d=this.minX,p=this.minY,g=this.maxX,y=this.maxY;this.minX=r<d?r:d,this.minY=s<p?s:p,this.maxX=a>g?a:g,this.maxY=c>y?c:y}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const r=e.minX>t.x?e.minX:t.x,s=e.minY>t.y?e.minY:t.y,a=e.maxX<t.x+t.width?e.maxX:t.x+t.width,c=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=a&&s<=c){const d=this.minX,p=this.minY,g=this.maxX,y=this.maxY;this.minX=r<d?r:d,this.minY=s<p?s:p,this.maxX=a>g?a:g,this.maxY=c>y?c:y}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,s,a,c){e-=a,t-=c,r+=a,s+=c,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>s?this.maxY:s}}class $t extends bc{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Af,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new lf,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let r=0;r<t.length;++r){const s=t[r];Object.defineProperty($t.prototype,s,Object.getOwnPropertyDescriptor(e,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new rt),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new rt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new lf);const t=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(r==null?void 0:r.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,a=this._boundsID;this._bounds=this._localBounds;const c=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=s,this._bounds.updateID+=this._boundsID-a,c}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,s){return t&&(e=t.toGlobal(e,r,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,t=0,r=1,s=1,a=0,c=0,d=0,p=0,g=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=s||1,this.rotation=a,this.skew.x=c,this.skew.y=d,this.pivot.x=p,this.pivot.y=g,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new KE),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*jw}set angle(e){this.transform.rotation=e*Ww}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class KE extends $t{constructor(){super(...arguments),this.sortDirty=null}}$t.prototype.displayObjectUpdateTransform=$t.prototype.updateTransform;const ZE=new Ht;function JE(i,e){return i.zIndex===e.zIndex?i._lastSortedIndex-e._lastSortedIndex:i.zIndex-e.zIndex}const tx=class c0 extends $t{constructor(){super(),this.children=[],this.sortableChildren=c0.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const r=this.getChildIndex(e),s=this.getChildIndex(t);this.children[r]=t,this.children[s]=e,this.onChildrenChange(r<s?r:s)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(e);Yu(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],r=this.children.indexOf(t);if(r===-1)return null;t.parent=null,t.transform._parentID=-1,Yu(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Yu(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const r=e,s=t,a=s-r;let c;if(a>0&&a<=s){c=this.children.splice(r,a);for(let d=0;d<c.length;++d)c[d].parent=null,c[d].transform&&(c[d].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let d=0;d<c.length;++d)c[d].emit("removed",this),this.emit("childRemoved",c[d],this,d);return c}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,r=this.children.length;t<r;++t){const s=this.children[t];s._lastSortedIndex=t,!e&&s.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(JE),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const r=this.children[e];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const r=t._mask.isMaskData?t._mask.maskObject:t._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const r=super.getLocalBounds(e);if(!t)for(let s=0,a=this.children.length;s<a;++s){const c=this.children[s];c.visible&&c.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let r,s;this.cullArea?(r=this.cullArea,s=this.worldTransform):this._render!==c0.prototype._render&&(r=this.getBounds(!0));const a=e.projection.transform;if(a&&(s?(s=ZE.copyFrom(s),s.prepend(a)):s=a),r&&t.intersects(r,s))this._render(e);else if(this.cullArea)return;for(let c=0,d=this.children.length;c<d;++c){const p=this.children[c],g=p.cullable;p.cullable=g||!this.cullArea,p.render(e),p.cullable=g}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(t=this.filters)!=null&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let r=0,s=this.children.length;r<s;++r)this.children[r].render(e)}}renderAdvanced(e){var a,c,d;const t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let p=0;p<t.length;p++)t[p].enabled&&this._enabledFilters.push(t[p])}const s=t&&((a=this._enabledFilters)==null?void 0:a.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Er.NONE));if(s&&e.batch.flush(),t&&((c=this._enabledFilters)!=null&&c.length)&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let p=0,g=this.children.length;p<g;++p)this.children[p].render(e)}s&&e.batch.flush(),r&&e.mask.pop(this),t&&((d=this._enabledFilters)!=null&&d.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e==null?void 0:e.children,r=this.removeChildren(0,this.children.length);if(t)for(let s=0;s<r.length;++s)r[s].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};tx.defaultSortableChildren=!1;let mn=tx;mn.prototype.containerUpdateTransform=mn.prototype.updateTransform;Object.defineProperties(Le,{SORTABLE_CHILDREN:{get(){return mn.defaultSortableChildren},set(i){dt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),mn.defaultSortableChildren=i}}});var Tf=(i=>(i[i.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",i[i.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",i))(Tf||{});const sc=new ft,eS=new Uint16Array([0,1,2,0,2,3]);class ks extends mn{constructor(e){super(),this._anchor=new Ss(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new zt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=tt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ke.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=eS,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Le.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ma(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ma(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,r=t.a,s=t.b,a=t.c,c=t.d,d=t.tx,p=t.ty,g=this.vertexData,y=e.trim,w=e.orig,_=this._anchor;let A=0,b=0,P=0,T=0;if(y?(b=y.x-_._x*w.width,A=b+y.width,T=y.y-_._y*w.height,P=T+y.height):(b=-_._x*w.width,A=b+w.width,T=-_._y*w.height,P=T+w.height),g[0]=r*b+a*T+d,g[1]=c*T+s*b+p,g[2]=r*A+a*T+d,g[3]=c*T+s*A+p,g[4]=r*A+a*P+d,g[5]=c*P+s*A+p,g[6]=r*b+a*P+d,g[7]=c*P+s*b+p,this._roundPixels){const R=Le.RESOLUTION;for(let F=0;F<g.length;++F)g[F]=Math.round(g[F]*R)/R}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,r=e.orig,s=this._anchor,a=this.transform.worldTransform,c=a.a,d=a.b,p=a.c,g=a.d,y=a.tx,w=a.ty,_=-s._x*r.width,A=_+r.width,b=-s._y*r.height,P=b+r.height;if(t[0]=c*_+p*b+y,t[1]=g*b+d*_+w,t[2]=c*A+p*b+y,t[3]=g*b+d*A+w,t[4]=c*A+p*P+y,t[5]=g*P+d*A+w,t[6]=c*_+p*P+y,t[7]=g*P+d*_+w,this._roundPixels){const T=Le.RESOLUTION;for(let R=0;R<t.length;++R)t[R]=Math.round(t[R]*T)/T}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new lf),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new rt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,sc);const t=this._texture.orig.width,r=this._texture.orig.height,s=-t*this.anchor.x;let a=0;return sc.x>=s&&sc.x<s+t&&(a=-r*this.anchor.y,sc.y>=a&&sc.y<a+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const t=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const r=e instanceof ke?e:ke.from(e,t);return new ks(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=ma(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=ma(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ke.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Cd={willReadFrequently:!0},xs=class qe{static get experimentalLetterSpacingSupported(){let e=qe._experimentalLetterSpacingSupported;if(e!==void 0){const t=Le.ADAPTER.getCanvasRenderingContext2D().prototype;e=qe._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,r,s,a,c,d,p,g){this.text=e,this.style=t,this.width=r,this.height=s,this.lines=a,this.lineWidths=c,this.lineHeight=d,this.maxLineWidth=p,this.fontProperties=g}static measureText(e,t,r,s=qe._canvas){r=r??t.wordWrap;const a=t.toFontString(),c=qe.measureFont(a);c.fontSize===0&&(c.fontSize=t.fontSize,c.ascent=t.fontSize);const d=s.getContext("2d",Cd);d.font=a;const p=(r?qe.wordWrap(e,t,s):e).split(/(?:\r\n|\r|\n)/),g=new Array(p.length);let y=0;for(let b=0;b<p.length;b++){const P=qe._measureText(p[b],t.letterSpacing,d);g[b]=P,y=Math.max(y,P)}let w=y+t.strokeThickness;t.dropShadow&&(w+=t.dropShadowDistance);const _=t.lineHeight||c.fontSize+t.strokeThickness;let A=Math.max(_,c.fontSize+t.strokeThickness*2)+t.leading+(p.length-1)*(_+t.leading);return t.dropShadow&&(A+=t.dropShadowDistance),new qe(e,t,w,A,p,g,_+t.leading,y,c)}static _measureText(e,t,r){let s=!1;qe.experimentalLetterSpacingSupported&&(qe.experimentalLetterSpacing?(r.letterSpacing=`${t}px`,r.textLetterSpacing=`${t}px`,s=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let a=r.measureText(e).width;return a>0&&(s?a-=t:a+=(qe.graphemeSegmenter(e).length-1)*t),a}static wordWrap(e,t,r=qe._canvas){const s=r.getContext("2d",Cd);let a=0,c="",d="";const p=Object.create(null),{letterSpacing:g,whiteSpace:y}=t,w=qe.collapseSpaces(y),_=qe.collapseNewlines(y);let A=!w;const b=t.wordWrapWidth+g,P=qe.tokenize(e);for(let T=0;T<P.length;T++){let R=P[T];if(qe.isNewline(R)){if(!_){d+=qe.addLine(c),A=!w,c="",a=0;continue}R=" "}if(w){const D=qe.isBreakingSpace(R),H=qe.isBreakingSpace(c[c.length-1]);if(D&&H)continue}const F=qe.getFromCache(R,g,p,s);if(F>b)if(c!==""&&(d+=qe.addLine(c),c="",a=0),qe.canBreakWords(R,t.breakWords)){const D=qe.wordWrapSplit(R);for(let H=0;H<D.length;H++){let O=D[H],V=O,L=1;for(;D[H+L];){const oe=D[H+L];if(!qe.canBreakChars(V,oe,R,H,t.breakWords))O+=oe;else break;V=oe,L++}H+=L-1;const J=qe.getFromCache(O,g,p,s);J+a>b&&(d+=qe.addLine(c),A=!1,c="",a=0),c+=O,a+=J}}else{c.length>0&&(d+=qe.addLine(c),c="",a=0);const D=T===P.length-1;d+=qe.addLine(R,!D),A=!1,c="",a=0}else F+a>b&&(A=!1,d+=qe.addLine(c),c="",a=0),(c.length>0||!qe.isBreakingSpace(R)||A)&&(c+=R,a+=F)}return d+=qe.addLine(c,!1),d}static addLine(e,t=!0){return e=qe.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,r,s){let a=r[e];return typeof a!="number"&&(a=qe._measureText(e,t,s)+t,r[e]=a),a}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const r=e[t];if(!qe.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:qe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:qe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let r="";if(typeof e!="string")return t;for(let s=0;s<e.length;s++){const a=e[s],c=e[s+1];if(qe.isBreakingSpace(a,c)||qe.isNewline(a)){r!==""&&(t.push(r),r=""),t.push(a);continue}r+=a}return r!==""&&t.push(r),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,s,a){return!0}static wordWrapSplit(e){return qe.graphemeSegmenter(e)}static measureFont(e){if(qe._fonts[e])return qe._fonts[e];const t={ascent:0,descent:0,fontSize:0},r=qe._canvas,s=qe._context;s.font=e;const a=qe.METRICS_STRING+qe.BASELINE_SYMBOL,c=Math.ceil(s.measureText(a).width);let d=Math.ceil(s.measureText(qe.BASELINE_SYMBOL).width);const p=Math.ceil(qe.HEIGHT_MULTIPLIER*d);if(d=d*qe.BASELINE_MULTIPLIER|0,c===0||p===0)return qe._fonts[e]=t,t;r.width=c,r.height=p,s.fillStyle="#f00",s.fillRect(0,0,c,p),s.font=e,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(a,0,d);const g=s.getImageData(0,0,c,p).data,y=g.length,w=c*4;let _=0,A=0,b=!1;for(_=0;_<d;++_){for(let P=0;P<w;P+=4)if(g[A+P]!==255){b=!0;break}if(!b)A+=w;else break}for(t.ascent=d-_,A=y-w,b=!1,_=p;_>d;--_){for(let P=0;P<w;P+=4)if(g[A+P]!==255){b=!0;break}if(!b)A-=w;else break}return t.descent=_-d,t.fontSize=t.ascent+t.descent,qe._fonts[e]=t,t}static clearMetrics(e=""){e?delete qe._fonts[e]:qe._fonts={}}static get _canvas(){var e;if(!qe.__canvas){let t;try{const r=new OffscreenCanvas(0,0);if((e=r.getContext("2d",Cd))!=null&&e.measureText)return qe.__canvas=r,r;t=Le.ADAPTER.createCanvas()}catch{t=Le.ADAPTER.createCanvas()}t.width=t.height=10,qe.__canvas=t}return qe.__canvas}static get _context(){return qe.__context||(qe.__context=qe._canvas.getContext("2d",Cd)),qe.__context}};xs.METRICS_STRING="|q",xs.BASELINE_SYMBOL="M",xs.BASELINE_MULTIPLIER=1.4,xs.HEIGHT_MULTIPLIER=2,xs.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const i=new Intl.Segmenter;return e=>[...i.segment(e)].map(t=>t.segment)}return i=>[...i]})(),xs.experimentalLetterSpacing=!1,xs._fonts={},xs._newlines=[10,13],xs._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let fa=xs;const tS=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],rx=class dc{constructor(e){this.styleID=0,this.reset(),Cm(this,e,e)}clone(){const e={};return Cm(e,this,dc.defaultStyle),new dc(e)}reset(){Cm(this,dc.defaultStyle,dc.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=Tm(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=Tm(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){rS(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=Tm(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let r=t.length-1;r>=0;r--){let s=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!tS.includes(s)&&(s=`"${s}"`),t[r]=s}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};rx.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Tf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let _a=rx;function Tm(i){const e=zt.shared,t=r=>{const s=e.setValue(r);return s.alpha===1?s.toHex():s.toRgbaString()};return Array.isArray(i)?i.map(t):t(i)}function rS(i,e){if(!Array.isArray(i)||!Array.isArray(e)||i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(i[t]!==e[t])return!1;return!0}function Cm(i,e,t){for(const r in t)Array.isArray(e[r])?i[r]=e[r].slice():i[r]=e[r]}const nS={texture:!0,children:!1,baseTexture:!0},nx=class d0 extends ks{constructor(e,t,r){let s=!1;r||(r=Le.ADAPTER.createCanvas(),s=!0),r.width=3,r.height=3;const a=ke.from(r);a.orig=new rt,a.trim=new rt,super(a),this._ownCanvas=s,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=d0.defaultResolution??Le.RESOLUTION,this._autoResolution=d0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return fa.experimentalLetterSpacing}static set experimentalLetterSpacing(e){dt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),fa.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const r=this.context,s=fa.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,c=s.height,d=s.lines,p=s.lineHeight,g=s.lineWidths,y=s.maxLineWidth,w=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,c)+t.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;let _,A;const b=t.dropShadow?2:1;for(let P=0;P<b;++P){const T=t.dropShadow&&P===0,R=T?Math.ceil(Math.max(1,c)+t.padding*2):0,F=R*this._resolution;if(T){r.fillStyle="black",r.strokeStyle="black";const H=t.dropShadowColor,O=t.dropShadowBlur*this._resolution,V=t.dropShadowDistance*this._resolution;r.shadowColor=zt.shared.setValue(H).setAlpha(t.dropShadowAlpha).toRgbaString(),r.shadowBlur=O,r.shadowOffsetX=Math.cos(t.dropShadowAngle)*V,r.shadowOffsetY=Math.sin(t.dropShadowAngle)*V+F}else r.fillStyle=this._generateFillStyle(t,d,s),r.strokeStyle=t.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let D=(p-w.fontSize)/2;p-w.fontSize<0&&(D=0);for(let H=0;H<d.length;H++)_=t.strokeThickness/2,A=t.strokeThickness/2+H*p+w.ascent+D,t.align==="right"?_+=y-g[H]:t.align==="center"&&(_+=(y-g[H])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(d[H],_+t.padding,A+t.padding-R,!0),t.fill&&this.drawLetterSpacing(d[H],_+t.padding,A+t.padding-R)}this.updateTexture()}drawLetterSpacing(e,t,r,s=!1){const a=this._style.letterSpacing;let c=!1;if(fa.experimentalLetterSpacingSupported&&(fa.experimentalLetterSpacing?(this.context.letterSpacing=`${a}px`,this.context.textLetterSpacing=`${a}px`,c=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),a===0||c){s?this.context.strokeText(e,t,r):this.context.fillText(e,t,r);return}let d=t;const p=fa.graphemeSegmenter(e);let g=this.context.measureText(e).width,y=0;for(let w=0;w<p.length;++w){const _=p[w];s?this.context.strokeText(_,d,r):this.context.fillText(_,d,r);let A="";for(let b=w+1;b<p.length;++b)A+=p[b];y=this.context.measureText(A).width,d+=g-y+a,g=y}}updateTexture(){const e=this.canvas;if(this._style.trim){const c=Mw(e);c.data&&(e.width=c.width,e.height=c.height,this.context.putImageData(c.data,0,0))}const t=this._texture,r=this._style,s=r.trim?0:r.padding,a=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-s,t.trim.y=-s,t.orig.width=t._frame.width-s*2,t.orig.height=t._frame.height-s*2,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,r){const s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let a;const c=e.dropShadow?e.dropShadowDistance:0,d=e.padding||0,p=this.canvas.width/this._resolution-c-d*2,g=this.canvas.height/this._resolution-c-d*2,y=s.slice(),w=e.fillGradientStops.slice();if(!w.length){const _=y.length+1;for(let A=1;A<_;++A)w.push(A/_)}if(y.unshift(s[0]),w.unshift(0),y.push(s[s.length-1]),w.push(1),e.fillGradientType===Tf.LINEAR_VERTICAL){a=this.context.createLinearGradient(p/2,d,p/2,g+d);const _=r.fontProperties.fontSize+e.strokeThickness;for(let A=0;A<t.length;A++){const b=r.lineHeight*(A-1)+_,P=r.lineHeight*A;let T=P;A>0&&b>P&&(T=(P+b)/2);const R=P+_,F=r.lineHeight*(A+1);let D=R;A+1<t.length&&F<R&&(D=(R+F)/2);const H=(D-T)/g;for(let O=0;O<y.length;O++){let V=0;typeof w[O]=="number"?V=w[O]:V=O/y.length;let L=Math.min(1,Math.max(0,T/g+V*H));L=Number(L.toFixed(5)),a.addColorStop(L,y[O])}}}else{a=this.context.createLinearGradient(d,g/2,p+d,g/2);const _=y.length+1;let A=1;for(let b=0;b<y.length;b++){let P;typeof w[b]=="number"?P=w[b]:P=A/_,a.addColorStop(P,y[b]),A++}}return a}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},nS,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=ma(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=ma(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof _a?this._style=e:this._style=new _a(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};nx.defaultAutoResolution=!0;let Cf=nx;class uf{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Yd{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const a in t){const c=t[a].match(/^[a-z]+/gm)[0],d=t[a].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(const g in d){const y=d[g].split("="),w=y[0],_=y[1].replace(/"/gm,""),A=parseFloat(_),b=isNaN(A)?_:A;p[w]=b}r[c].push(p)}const s=new uf;return r.info.forEach(a=>s.info.push({face:a.face,size:parseInt(a.size,10)})),r.common.forEach(a=>s.common.push({lineHeight:parseInt(a.lineHeight,10)})),r.page.forEach(a=>s.page.push({id:parseInt(a.id,10),file:a.file})),r.char.forEach(a=>s.char.push({id:parseInt(a.id,10),page:parseInt(a.page,10),x:parseInt(a.x,10),y:parseInt(a.y,10),width:parseInt(a.width,10),height:parseInt(a.height,10),xoffset:parseInt(a.xoffset,10),yoffset:parseInt(a.yoffset,10),xadvance:parseInt(a.xadvance,10)})),r.kerning.forEach(a=>s.kerning.push({first:parseInt(a.first,10),second:parseInt(a.second,10),amount:parseInt(a.amount,10)})),r.distanceField.forEach(a=>s.distanceField.push({distanceRange:parseInt(a.distanceRange,10),fieldType:a.fieldType})),s}}class f0{static test(e){const t=e;return typeof e!="string"&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new uf,r=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),c=e.getElementsByTagName("char"),d=e.getElementsByTagName("kerning"),p=e.getElementsByTagName("distanceField");for(let g=0;g<r.length;g++)t.info.push({face:r[g].getAttribute("face"),size:parseInt(r[g].getAttribute("size"),10)});for(let g=0;g<s.length;g++)t.common.push({lineHeight:parseInt(s[g].getAttribute("lineHeight"),10)});for(let g=0;g<a.length;g++)t.page.push({id:parseInt(a[g].getAttribute("id"),10)||0,file:a[g].getAttribute("file")});for(let g=0;g<c.length;g++){const y=c[g];t.char.push({id:parseInt(y.getAttribute("id"),10),page:parseInt(y.getAttribute("page"),10)||0,x:parseInt(y.getAttribute("x"),10),y:parseInt(y.getAttribute("y"),10),width:parseInt(y.getAttribute("width"),10),height:parseInt(y.getAttribute("height"),10),xoffset:parseInt(y.getAttribute("xoffset"),10),yoffset:parseInt(y.getAttribute("yoffset"),10),xadvance:parseInt(y.getAttribute("xadvance"),10)})}for(let g=0;g<d.length;g++)t.kerning.push({first:parseInt(d[g].getAttribute("first"),10),second:parseInt(d[g].getAttribute("second"),10),amount:parseInt(d[g].getAttribute("amount"),10)});for(let g=0;g<p.length;g++)t.distanceField.push({fieldType:p[g].getAttribute("fieldType"),distanceRange:parseInt(p[g].getAttribute("distanceRange"),10)});return t}}class p0{static test(e){return typeof e=="string"&&e.includes("<font>")?f0.test(Le.ADAPTER.parseXML(e)):!1}static parse(e){return f0.parse(Le.ADAPTER.parseXML(e))}}const Pm=[Yd,f0,p0];function iS(i){for(let e=0;e<Pm.length;e++)if(Pm[e].test(i))return Pm[e];return null}function sS(i,e,t,r,s,a){const c=t.fill;if(Array.isArray(c)){if(c.length===1)return c[0]}else return c;let d;const p=t.dropShadow?t.dropShadowDistance:0,g=t.padding||0,y=i.width/r-p-g*2,w=i.height/r-p-g*2,_=c.slice(),A=t.fillGradientStops.slice();if(!A.length){const b=_.length+1;for(let P=1;P<b;++P)A.push(P/b)}if(_.unshift(c[0]),A.unshift(0),_.push(c[c.length-1]),A.push(1),t.fillGradientType===Tf.LINEAR_VERTICAL){d=e.createLinearGradient(y/2,g,y/2,w+g);let b=0;const P=(a.fontProperties.fontSize+t.strokeThickness)/w;for(let T=0;T<s.length;T++){const R=a.lineHeight*T;for(let F=0;F<_.length;F++){let D=0;typeof A[F]=="number"?D=A[F]:D=F/_.length;const H=R/w+D*P;let O=Math.max(b,H);O=Math.min(O,1),d.addColorStop(O,_[F]),b=O}}}else{d=e.createLinearGradient(g,w/2,y+g,w/2);const b=_.length+1;let P=1;for(let T=0;T<_.length;T++){let R;typeof A[T]=="number"?R=A[T]:R=P/b,d.addColorStop(R,_[T]),P++}}return d}function oS(i,e,t,r,s,a,c){const d=t.text,p=t.fontProperties;e.translate(r,s),e.scale(a,a);const g=c.strokeThickness/2,y=-(c.strokeThickness/2);if(e.font=c.toFontString(),e.lineWidth=c.strokeThickness,e.textBaseline=c.textBaseline,e.lineJoin=c.lineJoin,e.miterLimit=c.miterLimit,e.fillStyle=sS(i,e,c,a,[d],t),e.strokeStyle=c.stroke,c.dropShadow){const w=c.dropShadowColor,_=c.dropShadowBlur*a,A=c.dropShadowDistance*a;e.shadowColor=zt.shared.setValue(w).setAlpha(c.dropShadowAlpha).toRgbaString(),e.shadowBlur=_,e.shadowOffsetX=Math.cos(c.dropShadowAngle)*A,e.shadowOffsetY=Math.sin(c.dropShadowAngle)*A}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;c.stroke&&c.strokeThickness&&e.strokeText(d,g,y+t.lineHeight-p.descent),c.fill&&e.fillText(d,g,y+t.lineHeight-p.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function qd(i){return i.codePointAt?i.codePointAt(0):i.charCodeAt(0)}function ix(i){return Array.from?Array.from(i):i.split("")}function aS(i){typeof i=="string"&&(i=[i]);const e=[];for(let t=0,r=i.length;t<r;t++){const s=i[t];if(Array.isArray(s)){if(s.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);const a=s[0].charCodeAt(0),c=s[1].charCodeAt(0);if(c<a)throw new Error("[BitmapFont]: Invalid character range.");for(let d=a,p=c;d<=p;d++)e.push(String.fromCharCode(d))}else e.push(...ix(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const ca=class _s{constructor(e,t,r){var y;const[s]=e.info,[a]=e.common,[c]=e.page,[d]=e.distanceField,p=go(c.file),g={};this._ownsTextures=r,this.font=s.face,this.size=s.size,this.lineHeight=a.lineHeight/p,this.chars={},this.pageTextures=g;for(let w=0;w<e.page.length;w++){const{id:_,file:A}=e.page[w];g[_]=t instanceof Array?t[w]:t[A],d!=null&&d.fieldType&&d.fieldType!=="none"&&(g[_].baseTexture.alphaMode=On.NO_PREMULTIPLIED_ALPHA,g[_].baseTexture.mipmap=Cs.OFF)}for(let w=0;w<e.char.length;w++){const{id:_,page:A}=e.char[w];let{x:b,y:P,width:T,height:R,xoffset:F,yoffset:D,xadvance:H}=e.char[w];b/=p,P/=p,T/=p,R/=p,F/=p,D/=p,H/=p;const O=new rt(b+g[A].frame.x/p,P+g[A].frame.y/p,T,R);this.chars[_]={xOffset:F,yOffset:D,xAdvance:H,kerning:{},texture:new ke(g[A].baseTexture,O),page:A}}for(let w=0;w<e.kerning.length;w++){let{first:_,second:A,amount:b}=e.kerning[w];_/=p,A/=p,b/=p,this.chars[A]&&(this.chars[A].kerning[_]=b)}this.distanceFieldRange=d==null?void 0:d.distanceRange,this.distanceFieldType=((y=d==null?void 0:d.fieldType)==null?void 0:y.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,r){let s;if(e instanceof uf)s=e;else{const c=iS(e);if(!c)throw new Error("Unrecognized data format for font.");s=c.parse(e)}t instanceof ke&&(t=[t]);const a=new _s(s,t,r);return _s.available[a.font]=a,a}static uninstall(e){const t=_s.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete _s.available[e]}static from(e,t,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:a,resolution:c,textureWidth:d,textureHeight:p,...g}=Object.assign({},_s.defaultOptions,r),y=aS(s),w=t instanceof _a?t:new _a(t),_=d,A=new uf;A.info[0]={face:w.fontFamily,size:w.fontSize},A.common[0]={lineHeight:w.fontSize};let b=0,P=0,T,R,F,D=0;const H=[];for(let V=0;V<y.length;V++){T||(T=Le.ADAPTER.createCanvas(),T.width=d,T.height=p,R=T.getContext("2d"),F=new it(T,{resolution:c,...g}),H.push(new ke(F)),A.page.push({id:H.length-1,file:""}));const L=y[V],J=fa.measureText(L,w,!1,T),oe=J.width,ce=Math.ceil(J.height),Ae=Math.ceil((w.fontStyle==="italic"?2:1)*oe);if(P>=p-ce*c){if(P===0)throw new Error(`[BitmapFont] textureHeight ${p}px is too small (fontFamily: '${w.fontFamily}', fontSize: ${w.fontSize}px, char: '${L}')`);--V,T=null,R=null,F=null,P=0,b=0,D=0;continue}if(D=Math.max(ce+J.fontProperties.descent,D),Ae*c+b>=_){if(b===0)throw new Error(`[BitmapFont] textureWidth ${d}px is too small (fontFamily: '${w.fontFamily}', fontSize: ${w.fontSize}px, char: '${L}')`);--V,P+=D*c,P=Math.ceil(P),b=0,D=0;continue}oS(T,R,J,b,P,c,w);const Q=qd(J.text);A.char.push({id:Q,page:H.length-1,x:b/c,y:P/c,width:Ae,height:ce,xoffset:0,yoffset:0,xadvance:oe-(w.dropShadow?w.dropShadowDistance:0)-(w.stroke?w.strokeThickness:0)}),b+=(Ae+2*a)*c,b=Math.ceil(b)}if(!(r!=null&&r.skipKerning))for(let V=0,L=y.length;V<L;V++){const J=y[V];for(let oe=0;oe<L;oe++){const ce=y[oe],Ae=R.measureText(J).width,Q=R.measureText(ce).width,q=R.measureText(J+ce).width-(Ae+Q);q&&A.kerning.push({first:qd(J),second:qd(ce),amount:q})}}const O=new _s(A,H,!0);return _s.available[e]!==void 0&&_s.uninstall(e),_s.available[e]=O,O}};ca.ALPHA=[["a","z"],["A","Z"]," "],ca.NUMERIC=[["0","9"]],ca.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],ca.ASCII=[[" ","~"]],ca.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:ca.ALPHANUMERIC},ca.available={};let da=ca;class lS{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const Im=new ft,lv=new Nl,sx=class ox extends mn{constructor(e,t,r,s=ji.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||Rs.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Le.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===ji.TRIANGLES&&t.length<ox.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const s=this.transform.worldTransform,a=s.a,c=s.b,d=s.c,p=s.d,g=s.tx,y=s.ty,w=this.vertexData;for(let _=0;_<w.length/2;_++){const A=t[_*2],b=t[_*2+1];w[_*2]=a*A+d*b+g,w[_*2+1]=c*A+p*b+y}if(this._roundPixels){const _=Le.RESOLUTION;for(let A=0;A<w.length;++A)w[A]=Math.round(w[A]*_)/_}this.vertexDirty=r}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new lS(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Im);const t=this.geometry.getBuffer("aVertexPosition").data,r=lv.points,s=this.geometry.getIndex().data,a=s.length,c=this.drawMode===4?3:1;for(let d=0;d+2<a;d+=c){const p=s[d]*2,g=s[d+1]*2,y=s[d+2]*2;if(r[0]=t[p],r[1]=t[p+1],r[2]=t[g],r[3]=t[g+1],r[4]=t[y],r[5]=t[y+1],lv.contains(Im.x,Im.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};sx.BATCHABLE_SIZE=100;let _c=sx;class Pf extends va{constructor(e,t,r){super();const s=new fr(e),a=new fr(t,!0),c=new fr(r,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,Ke.FLOAT).addAttribute("aTextureCoord",a,2,!1,Ke.FLOAT).addIndex(c),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var uS=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,hS=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class wc extends Ts{constructor(e,t){const r={uSampler:e,alpha:1,uTextureMatrix:Ht.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(r,t.uniforms),super(t.program||po.from(hS,uS),r),this._colorDirty=!1,this.uvMatrix=new z0(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new zt(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;zt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var cS=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,dS=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const uv=[],hv=[],cv=[],ax=class lx extends mn{constructor(e,t={}){super();const{align:r,tint:s,maxWidth:a,letterSpacing:c,fontName:d,fontSize:p}=Object.assign({},lx.styleDefaults,t);if(!da.available[d])throw new Error(`Missing BitmapFont "${d}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new zt(s),this._font=void 0,this._fontName=d,this._fontSize=p,this.text=e,this._maxWidth=a,this._maxLineHeight=0,this._letterSpacing=c,this._anchor=new Ss(()=>{this.dirty=!0},this,0,0),this._roundPixels=Le.ROUND_PIXELS,this.dirty=!0,this._resolution=Le.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Ae;const e=da.available[this._fontName],t=this.fontSize,r=t/e.size,s=new ft,a=[],c=[],d=[],p=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",g=ix(p),y=this._maxWidth*e.size/t,w=e.distanceFieldType==="none"?uv:hv;let _=null,A=0,b=0,P=0,T=-1,R=0,F=0,D=0,H=0;for(let Q=0;Q<g.length;Q++){const q=g[Q],te=qd(q);if(/(?:\s)/.test(q)&&(T=Q,R=A,H++),q==="\r"||q===`
`){c.push(A),d.push(-1),b=Math.max(b,A),++P,++F,s.x=0,s.y+=e.lineHeight,_=null,H=0;continue}const he=e.chars[te];if(!he)continue;_&&he.kerning[_]&&(s.x+=he.kerning[_]);const N=cv.pop()||{texture:ke.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ft};N.texture=he.texture,N.line=P,N.charCode=te,N.position.x=Math.round(s.x+he.xOffset+this._letterSpacing/2),N.position.y=Math.round(s.y+he.yOffset),N.prevSpaces=H,a.push(N),A=N.position.x+Math.max(he.xAdvance-he.xOffset,he.texture.orig.width),s.x+=he.xAdvance+this._letterSpacing,D=Math.max(D,he.yOffset+he.texture.height),_=te,T!==-1&&y>0&&s.x>y&&(++F,Yu(a,1+T-F,1+Q-T),Q=T,T=-1,c.push(R),d.push(a.length>0?a[a.length-1].prevSpaces:0),b=Math.max(b,R),P++,s.x=0,s.y+=e.lineHeight,_=null,H=0)}const O=g[g.length-1];O!=="\r"&&O!==`
`&&(/(?:\s)/.test(O)&&(A=R),c.push(A),b=Math.max(b,A),d.push(-1));const V=[];for(let Q=0;Q<=P;Q++){let q=0;this._align==="right"?q=b-c[Q]:this._align==="center"?q=(b-c[Q])/2:this._align==="justify"&&(q=d[Q]<0?0:(b-c[Q])/d[Q]),V.push(q)}const L=a.length,J={},oe=[],ce=this._activePagesMeshData;w.push(...ce);for(let Q=0;Q<L;Q++){const q=a[Q].texture,te=q.baseTexture.uid;if(!J[te]){let he=w.pop();if(!he){const z=new Pf;let I,j;e.distanceFieldType==="none"?(I=new wc(ke.EMPTY),j=tt.NORMAL):(I=new wc(ke.EMPTY,{program:po.from(dS,cS),uniforms:{uFWidth:0}}),j=tt.NORMAL_NPM);const B=new _c(z,I);B.blendMode=j,he={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:B,vertices:null,uvs:null,indices:null}}he.index=0,he.indexCount=0,he.vertexCount=0,he.uvsCount=0,he.total=0;const{_textureCache:N}=this;N[te]=N[te]||new ke(q.baseTexture),he.mesh.texture=N[te],he.mesh.tint=this._tintColor.value,oe.push(he),J[te]=he}J[te].total++}for(let Q=0;Q<ce.length;Q++)oe.includes(ce[Q])||this.removeChild(ce[Q].mesh);for(let Q=0;Q<oe.length;Q++)oe[Q].mesh.parent!==this&&this.addChild(oe[Q].mesh);this._activePagesMeshData=oe;for(const Q in J){const q=J[Q],te=q.total;if(!(((Ae=q.indices)==null?void 0:Ae.length)>6*te)||q.vertices.length<_c.BATCHABLE_SIZE*2)q.vertices=new Float32Array(4*2*te),q.uvs=new Float32Array(4*2*te),q.indices=new Uint16Array(6*te);else{const he=q.total,N=q.vertices;for(let z=he*4*2;z<N.length;z++)N[z]=0}q.mesh.size=6*te}for(let Q=0;Q<L;Q++){const q=a[Q];let te=q.position.x+V[q.line]*(this._align==="justify"?q.prevSpaces:1);this._roundPixels&&(te=Math.round(te));const he=te*r,N=q.position.y*r,z=q.texture,I=J[z.baseTexture.uid],j=z.frame,B=z._uvs,k=I.index++;I.indices[k*6+0]=0+k*4,I.indices[k*6+1]=1+k*4,I.indices[k*6+2]=2+k*4,I.indices[k*6+3]=0+k*4,I.indices[k*6+4]=2+k*4,I.indices[k*6+5]=3+k*4,I.vertices[k*8+0]=he,I.vertices[k*8+1]=N,I.vertices[k*8+2]=he+j.width*r,I.vertices[k*8+3]=N,I.vertices[k*8+4]=he+j.width*r,I.vertices[k*8+5]=N+j.height*r,I.vertices[k*8+6]=he,I.vertices[k*8+7]=N+j.height*r,I.uvs[k*8+0]=B.x0,I.uvs[k*8+1]=B.y0,I.uvs[k*8+2]=B.x1,I.uvs[k*8+3]=B.y1,I.uvs[k*8+4]=B.x2,I.uvs[k*8+5]=B.y2,I.uvs[k*8+6]=B.x3,I.uvs[k*8+7]=B.y3}this._textWidth=b*r,this._textHeight=(s.y+e.lineHeight)*r;for(const Q in J){const q=J[Q];if(this.anchor.x!==0||this.anchor.y!==0){let z=0;const I=this._textWidth*this.anchor.x,j=this._textHeight*this.anchor.y;for(let B=0;B<q.total;B++)q.vertices[z++]-=I,q.vertices[z++]-=j,q.vertices[z++]-=I,q.vertices[z++]-=j,q.vertices[z++]-=I,q.vertices[z++]-=j,q.vertices[z++]-=I,q.vertices[z++]-=j}this._maxLineHeight=D*r;const te=q.mesh.geometry.getBuffer("aVertexPosition"),he=q.mesh.geometry.getBuffer("aTextureCoord"),N=q.mesh.geometry.getIndex();te.data=q.vertices,he.data=q.uvs,N.data=q.indices,te.update(),he.update(),N.update()}for(let Q=0;Q<a.length;Q++)cv.push(a[Q]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:r,size:s}=da.available[this._fontName];if(r!=="none"){const{a,b:c,c:d,d:p}=this.worldTransform,g=Math.sqrt(a*a+c*c),y=Math.sqrt(d*d+p*p),w=(Math.abs(g)+Math.abs(y))/2,_=this.fontSize/s,A=e._view.resolution;for(const b of this._activePagesMeshData)b.mesh.shader.uniforms.uFWidth=w*t*_*A}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=da.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!da.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??da.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,r=da.available[this._fontName].distanceFieldType==="none"?uv:hv;r.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],r.filter(s=>t[s.mesh.texture.baseTexture.uid]).forEach(s=>{s.mesh.texture=ke.EMPTY});for(const s in t)t[s].destroy(),delete t[s];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};ax.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let fS=ax;const dv={loader:De.LoadParser,resolver:De.ResolveParser,cache:De.CacheParser,detection:De.DetectionParser};Ve.handle(De.Asset,i=>{const e=i.ref;Object.entries(dv).filter(([t])=>!!e[t]).forEach(([t,r])=>Ve.add(Object.assign(e[t],{extension:e[t].extension??r})))},i=>{const e=i.ref;Object.keys(dv).filter(t=>!!e[t]).forEach(t=>Ve.remove(e[t]))});class pS{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function th(i,e){if(Array.isArray(e)){for(const t of e)if(i.startsWith(`data:${t}`))return!0;return!1}return i.startsWith(`data:${e}`)}function wa(i,e){const t=i.split("?")[0],r=Fr.extname(t).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Hi=(i,e,t=!1)=>(Array.isArray(i)||(i=[i]),e?i.map(r=>typeof r=="string"||t?e(r):r):i),m0=(i,e)=>{const t=e.split("?")[1];return t&&(i+=`?${t}`),i};function ux(i,e,t,r,s){const a=e[t];for(let c=0;c<a.length;c++){const d=a[c];t<e.length-1?ux(i.replace(r[t],d),e,t+1,r,s):s.push(i.replace(r[t],d))}}function mS(i){const e=/\{(.*?)\}/g,t=i.match(e),r=[];if(t){const s=[];t.forEach(a=>{const c=a.substring(1,a.length-1).split(",");s.push(c)}),ux(i,s,0,t,r)}else r.push(i);return r}const hf=i=>!Array.isArray(i);class gS{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const r=Hi(e);let s;for(let d=0;d<this.parsers.length;d++){const p=this.parsers[d];if(p.test(t)){s=p.getCacheableAssets(r,t);break}}s||(s={},r.forEach(d=>{s[d]=t}));const a=Object.keys(s),c={cacheKeys:a,keys:r};if(r.forEach(d=>{this._cacheMap.set(d,c)}),a.forEach(d=>{this._cache.has(d)&&this._cache.get(d)!==t&&console.warn("[Cache] already has key:",d),this._cache.set(d,s[d])}),t instanceof ke){const d=t;r.forEach(p=>{d.baseTexture!==ke.EMPTY.baseTexture&&it.addToCache(d.baseTexture,p),ke.addToCache(d,p)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(r=>{this._cache.delete(r)}),t.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}}const Dl=new gS;class yS{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const r={promise:null,parser:null};return r.promise=(async()=>{var c,d;let s=null,a=null;if(t.loadParser&&(a=this._parserHash[t.loadParser],a||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!a){for(let p=0;p<this.parsers.length;p++){const g=this.parsers[p];if(g.load&&((c=g.test)!=null&&c.call(g,e,t,this))){a=g;break}}if(!a)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await a.load(e,t,this),r.parser=a;for(let p=0;p<this.parsers.length;p++){const g=this.parsers[p];g.parse&&g.parse&&await((d=g.testParse)==null?void 0:d.call(g,s,t,this))&&(s=await g.parse(s,t,this)||s,r.parser=g)}return s})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0;const s={},a=hf(e),c=Hi(e,g=>({alias:[g],src:g})),d=c.length,p=c.map(async g=>{const y=Fr.toAbsolute(g.src);if(!s[g.src])try{this.promiseCache[y]||(this.promiseCache[y]=this._getLoadPromiseAndParser(y,g)),s[g.src]=await this.promiseCache[y].promise,t&&t(++r/d)}catch(w){throw delete this.promiseCache[y],delete s[g.src],new Error(`[Loader.load] Failed to load ${y}.
${w}`)}});return await Promise.all(p),a?s[c[0].src]:s}async unload(e){const t=Hi(e,r=>({alias:[r],src:r})).map(async r=>{var c,d;const s=Fr.toAbsolute(r.src),a=this.promiseCache[s];if(a){const p=await a.promise;delete this.promiseCache[s],(d=(c=a.parser)==null?void 0:c.unload)==null||d.call(c,p,r,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var $i=(i=>(i[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i))($i||{});const vS=".json",xS="application/json",_S={extension:{type:De.LoadParser,priority:$i.Low},name:"loadJson",test(i){return th(i,xS)||wa(i,vS)},async load(i){return await(await Le.ADAPTER.fetch(i)).json()}};Ve.add(_S);const wS=".txt",ES="text/plain",SS={name:"loadTxt",extension:{type:De.LoadParser,priority:$i.Low},test(i){return th(i,ES)||wa(i,wS)},async load(i){return await(await Le.ADAPTER.fetch(i)).text()}};Ve.add(SS);const AS=["normal","bold","100","200","300","400","500","600","700","800","900"],bS=[".ttf",".otf",".woff",".woff2"],TS=["font/ttf","font/otf","font/woff","font/woff2"],CS=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function PS(i){const e=Fr.extname(i),t=Fr.basename(i,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let r=t.length>0;for(const a of t)if(!a.match(CS)){r=!1;break}let s=t.join(" ");return r||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const IS=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function RS(i){return IS.test(i)?i:encodeURI(i)}const kS={extension:{type:De.LoadParser,priority:$i.Low},name:"loadWebFont",test(i){return th(i,TS)||wa(i,bS)},async load(i,e){var r,s,a;const t=Le.ADAPTER.getFontFaceSet();if(t){const c=[],d=((r=e.data)==null?void 0:r.family)??PS(i),p=((a=(s=e.data)==null?void 0:s.weights)==null?void 0:a.filter(y=>AS.includes(y)))??["normal"],g=e.data??{};for(let y=0;y<p.length;y++){const w=p[y],_=new FontFace(d,`url(${RS(i)})`,{...g,weight:w});await _.load(),t.add(_),c.push(_)}return c.length===1?c[0]:c}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(i){(Array.isArray(i)?i:[i]).forEach(e=>Le.ADAPTER.getFontFaceSet().delete(e))}};Ve.add(kS);const MS=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let Qu=null,g0=class{constructor(){Qu||(Qu=URL.createObjectURL(new Blob([MS],{type:"application/javascript"}))),this.worker=new Worker(Qu)}};g0.revokeObjectURL=function(){Qu&&(URL.revokeObjectURL(Qu),Qu=null)};const DS=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Ku=null;class hx{constructor(){Ku||(Ku=URL.createObjectURL(new Blob([DS],{type:"application/javascript"}))),this.worker=new Worker(Ku)}}hx.revokeObjectURL=function(){Ku&&(URL.revokeObjectURL(Ku),Ku=null)};let fv=0,Rm;class NS{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new g0;t.addEventListener("message",r=>{t.terminate(),g0.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Rm===void 0&&(Rm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Rm&&(this._createdWorkers++,e=new hx().worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const r=new Promise((s,a)=>{this.queue.push({id:e,arguments:t,resolve:s,reject:a})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),r=t.id;this.resolveHash[fv]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:fv++,id:r})}}const pv=new NS;function Tc(i,e,t){i.resource.internal=!0;const r=new ke(i),s=()=>{delete e.promiseCache[t],Dl.has(t)&&Dl.remove(t)};return r.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),r.once("destroyed",()=>{i.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),r}const FS=[".jpeg",".jpg",".png",".webp",".avif"],BS=["image/jpeg","image/png","image/webp","image/avif"];async function OS(i){const e=await Le.ADAPTER.fetch(i);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${i}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const If={name:"loadTextures",extension:{type:De.LoadParser,priority:$i.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(i){return th(i,BS)||wa(i,FS)},async load(i,e,t){var d;const r=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let s;r?this.config.preferWorkers&&await pv.isImageBitmapSupported()?s=await pv.loadImageBitmap(i):s=await OS(i):s=await new Promise((p,g)=>{const y=new Image;y.crossOrigin=this.config.crossOrigin,y.src=i,y.complete?p(y):(y.onload=()=>p(y),y.onerror=w=>g(w))});const a={...e.data};a.resolution??(a.resolution=go(i)),r&&((d=a.resourceOptions)==null?void 0:d.ownsImageBitmap)===void 0&&(a.resourceOptions={...a.resourceOptions},a.resourceOptions.ownsImageBitmap=!0);const c=new it(s,a);return c.resource.src=i,Tc(c,t,i)},unload(i){i.destroy(!0)}};Ve.add(If);const LS=".svg",US="image/svg+xml",zS={extension:{type:De.LoadParser,priority:$i.High},name:"loadSVG",test(i){return th(i,US)||wa(i,LS)},async testParse(i){return l0.test(i)},async parse(i,e,t){var a;const r=new l0(i,(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions);await r.load();const s=new it(r,{resolution:go(i),...e==null?void 0:e.data});return s.resource.src=e.src,Tc(s,t,e.src)},async load(i,e){return(await Le.ADAPTER.fetch(i)).text()},unload:If.unload};Ve.add(zS);const GS=[".mp4",".m4v",".webm",".ogv"],HS=["video/mp4","video/webm","video/ogg"],jS={name:"loadVideo",extension:{type:De.LoadParser,priority:$i.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(i){return th(i,HS)||wa(i,GS)},async load(i,e,t){var c;let r;const s=await(await Le.ADAPTER.fetch(i)).blob(),a=URL.createObjectURL(s);try{const d={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(c=e==null?void 0:e.data)==null?void 0:c.resourceOptions,autoLoad:!0},p=new ex(a,d);await p.load();const g=new it(p,{alphaMode:await pw(),resolution:go(i),...e==null?void 0:e.data});g.resource.src=i,r=Tc(g,t,i),r.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(a)})}catch(d){throw URL.revokeObjectURL(a),d}return r},unload(i){i.destroy(!0)}};Ve.add(jS);class WS{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}getAlias(e){const{alias:t,name:r,src:s,srcs:a}=e;return Hi(t||r||s||a,c=>typeof c=="string"?c:Array.isArray(c)?c.map(d=>(d==null?void 0:d.src)??(d==null?void 0:d.srcs)??d):c!=null&&c.src||c!=null&&c.srcs?c.src??c.srcs:c,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const r=[];Array.isArray(t)?t.forEach(s=>{const a=s.src??s.srcs,c=s.alias??s.name;let d;if(typeof c=="string"){const p=this._createBundleAssetId(e,c);r.push(p),d=[c,p]}else{const p=c.map(g=>this._createBundleAssetId(e,g));r.push(...p),d=[...c,...p]}this.add({...s,alias:d,src:a})}):Object.keys(t).forEach(s=>{const a=[s,this._createBundleAssetId(e,s)];if(typeof t[s]=="string")this.add({alias:a,src:t[s]});else if(Array.isArray(t[s]))this.add({alias:a,src:t[s]});else{const c=t[s],d=c.src??c.srcs;this.add({...c,alias:a,src:Array.isArray(d)?d:[d]})}r.push(...a)}),this._bundles[e]=r}add(e,t,r,s,a){const c=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(dt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),c.push({alias:e,src:t,data:r,format:s,loadParser:a})):Array.isArray(e)?c.push(...e):c.push(e);let d;d=p=>{this.hasKey(p)&&console.warn(`[Resolver] already has key: ${p} overwriting`)},Hi(c).forEach(p=>{const{src:g,srcs:y}=p;let{data:w,format:_,loadParser:A}=p;const b=Hi(g||y).map(R=>typeof R=="string"?mS(R):Array.isArray(R)?R:[R]),P=this.getAlias(p);Array.isArray(P)?P.forEach(d):d(P);const T=[];b.forEach(R=>{R.forEach(F=>{let D={};if(typeof F!="object"){D.src=F;for(let H=0;H<this._parsers.length;H++){const O=this._parsers[H];if(O.test(F)){D=O.parse(F);break}}}else w=F.data??w,_=F.format??_,A=F.loadParser??A,D={...D,...F};if(!P)throw new Error(`[Resolver] alias is undefined for this asset: ${D.src}`);D=this.buildResolvedAsset(D,{aliases:P,data:w,format:_,loadParser:A}),T.push(D)})}),P.forEach(R=>{this._assetMap[R]=T})})}resolveBundle(e){const t=hf(e);e=Hi(e);const r={};return e.forEach(s=>{const a=this._bundles[s];if(a){const c=this.resolve(a),d={};for(const p in c){const g=c[p];d[this._extractAssetIdFromBundle(s,p)]=g}r[s]=d}}),t?r[e[0]]:r}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const r={};for(const s in t)r[s]=t[s].src;return r}return t.src}resolve(e){const t=hf(e);e=Hi(e);const r={};return e.forEach(s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let a=this._assetMap[s];const c=a[0],d=this._getPreferredOrder(a);d==null||d.priority.forEach(p=>{d.params[p].forEach(g=>{const y=a.filter(w=>w[p]?w[p]===g:!1);y.length&&(a=y)})}),this._resolverHash[s]=a[0]??c}else this._resolverHash[s]=this.buildResolvedAsset({alias:[s],src:s},{});r[s]=this._resolverHash[s]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const r=e[0],s=this._preferredOrder.find(a=>a.params.format.includes(r.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){const{aliases:r,data:s,loadParser:a,format:c}=t;return(this._basePath||this._rootPath)&&(e.src=Fr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=a??e.loadParser,e.format=c??e.format??Fr.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class VS{constructor(){this._detections=[],this._initialized=!1,this.resolver=new WS,this.loader=new yS,this.cache=Dl,this._backgroundLoader=new pS(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var a,c;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let d=e.manifest;typeof d=="string"&&(d=await this.load(d)),this.resolver.addManifest(d)}const t=((a=e.texturePreference)==null?void 0:a.resolution)??1,r=typeof t=="number"?[t]:t,s=await this._detectFormats({preferredFormats:(c=e.texturePreference)==null?void 0:c.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,r,s,a){this.resolver.add(e,t,r,s,a)}async load(e,t){this._initialized||await this.init();const r=hf(e),s=Hi(e).map(d=>{if(typeof d!="string"){const p=this.resolver.getAlias(d);return p.some(g=>!this.resolver.hasKey(g))&&this.add(d),Array.isArray(p)?p[0]:p}return this.resolver.hasKey(d)||this.add({alias:d,src:d}),d}),a=this.resolver.resolve(s),c=await this._mapLoadToResolve(a,t);return r?c[s[0]]:c}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const s=this.resolver.resolveBundle(e),a={},c=Object.keys(s);let d=0,p=0;const g=()=>{t==null||t(++d/p)},y=c.map(w=>{const _=s[w];return p+=Object.keys(_).length,this._mapLoadToResolve(_,g).then(A=>{a[w]=A})});return await Promise.all(y),r?a[e[0]]:a}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Dl.get(e);const t={};for(let r=0;r<e.length;r++)t[r]=Dl.get(e[r]);return t}async _mapLoadToResolve(e,t){const r=Object.values(e),s=Object.keys(e);this._backgroundLoader.active=!1;const a=await this.loader.load(r,t);this._backgroundLoader.active=!0;const c={};return r.forEach((d,p)=>{const g=a[d.src],y=[d.src];d.alias&&y.push(...d.alias),c[s[p]]=g,Dl.set(y,g)}),c}async unload(e){this._initialized||await this.init();const t=Hi(e).map(s=>typeof s!="string"?s.src:s),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Hi(e);const t=this.resolver.resolveBundle(e),r=Object.keys(t).map(s=>this._unloadFromResolved(t[s]));await Promise.all(r)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(r=>{Dl.remove(r.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter((r,s)=>t.indexOf(r)===s),t}get detections(){return this._detections}get preferWorkers(){return If.config.preferWorkers}set preferWorkers(e){dt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(r=>r in e).forEach(r=>{t.config[r]=e[r]})})}}const Pd=new VS;Ve.handleByList(De.LoadParser,Pd.loader.parsers).handleByList(De.ResolveParser,Pd.resolver.parsers).handleByList(De.CacheParser,Pd.cache.parsers).handleByList(De.DetectionParser,Pd.detections);const XS={extension:De.CacheParser,test:i=>Array.isArray(i)&&i.every(e=>e instanceof ke),getCacheableAssets:(i,e)=>{const t={};return i.forEach(r=>{e.forEach((s,a)=>{t[r+(a===0?"":a+1)]=s})}),t}};Ve.add(XS);async function cx(i){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=i});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(i)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const $S={extension:{type:De.DetectionParser,priority:1},test:async()=>cx("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async i=>[...i,"avif"],remove:async i=>i.filter(e=>e!=="avif")};Ve.add($S);const YS={extension:{type:De.DetectionParser,priority:0},test:async()=>cx("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async i=>[...i,"webp"],remove:async i=>i.filter(e=>e!=="webp")};Ve.add(YS);const mv=["png","jpg","jpeg"],qS={extension:{type:De.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async i=>[...i,...mv],remove:async i=>i.filter(e=>!mv.includes(e))};Ve.add(qS);const QS="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function H0(i){return QS?!1:document.createElement("video").canPlayType(i)!==""}const KS={extension:{type:De.DetectionParser,priority:0},test:async()=>H0("video/webm"),add:async i=>[...i,"webm"],remove:async i=>i.filter(e=>e!=="webm")};Ve.add(KS);const ZS={extension:{type:De.DetectionParser,priority:0},test:async()=>H0("video/mp4"),add:async i=>[...i,"mp4","m4v"],remove:async i=>i.filter(e=>e!=="mp4"&&e!=="m4v")};Ve.add(ZS);const JS={extension:{type:De.DetectionParser,priority:0},test:async()=>H0("video/ogg"),add:async i=>[...i,"ogv"],remove:async i=>i.filter(e=>e!=="ogv")};Ve.add(JS);const eA={extension:De.ResolveParser,test:If.test,parse:i=>{var e;return{resolution:parseFloat(((e=Le.RETINA_PREFIX.exec(i))==null?void 0:e[1])??"1"),format:Fr.extname(i).slice(1),src:i}}};Ve.add(eA);const tA=[".xml",".fnt"],rA={extension:{type:De.LoadParser,priority:$i.Normal},name:"loadBitmapFont",test(i){return tA.includes(Fr.extname(i).toLowerCase())},async testParse(i){return Yd.test(i)||p0.test(i)},async parse(i,e,t){const r=Yd.test(i)?Yd.parse(i):p0.parse(i),{src:s}=e,{page:a}=r,c=[];for(let g=0;g<a.length;++g){const y=a[g].file;let w=Fr.join(Fr.dirname(s),y);w=m0(w,s),c.push(w)}const d=await t.load(c),p=c.map(g=>d[g]);return da.install(r,p,!0)},async load(i,e){return(await Le.ADAPTER.fetch(i)).text()},unload(i){i.destroy()}};Ve.add(rA);const cf={build(i){const e=i.points;let t,r,s,a,c,d;if(i.type===Hr.CIRC){const b=i.shape;t=b.x,r=b.y,c=d=b.radius,s=a=0}else if(i.type===Hr.ELIP){const b=i.shape;t=b.x,r=b.y,c=b.width,d=b.height,s=a=0}else{const b=i.shape,P=b.width/2,T=b.height/2;t=b.x+P,r=b.y+T,c=d=Math.max(0,Math.min(b.radius,Math.min(P,T))),s=P-c,a=T-d}if(!(c>=0&&d>=0&&s>=0&&a>=0)){e.length=0;return}const p=Math.ceil(2.3*Math.sqrt(c+d)),g=p*8+(s?4:0)+(a?4:0);if(e.length=g,g===0)return;if(p===0){e.length=8,e[0]=e[6]=t+s,e[1]=e[3]=r+a,e[2]=e[4]=t-s,e[5]=e[7]=r-a;return}let y=0,w=p*4+(s?2:0)+2,_=w,A=g;{const b=s+c,P=a,T=t+b,R=t-b,F=r+P;if(e[y++]=T,e[y++]=F,e[--w]=F,e[--w]=R,a){const D=r-P;e[_++]=R,e[_++]=D,e[--A]=D,e[--A]=T}}for(let b=1;b<p;b++){const P=Math.PI/2*(b/p),T=s+Math.cos(P)*c,R=a+Math.sin(P)*d,F=t+T,D=t-T,H=r+R,O=r-R;e[y++]=F,e[y++]=H,e[--w]=H,e[--w]=D,e[_++]=D,e[_++]=O,e[--A]=O,e[--A]=F}{const b=s,P=a+d,T=t+b,R=t-b,F=r+P,D=r-P;e[y++]=T,e[y++]=F,e[--A]=D,e[--A]=T,s&&(e[y++]=R,e[y++]=F,e[--A]=D,e[--A]=R)}},triangulate(i,e){const t=i.points,r=e.points,s=e.indices;if(t.length===0)return;let a=r.length/2;const c=a;let d,p;if(i.type!==Hr.RREC){const y=i.shape;d=y.x,p=y.y}else{const y=i.shape;d=y.x+y.width/2,p=y.y+y.height/2}const g=i.matrix;r.push(i.matrix?g.a*d+g.c*p+g.tx:d,i.matrix?g.b*d+g.d*p+g.ty:p),a++,r.push(t[0],t[1]);for(let y=2;y<t.length;y+=2)r.push(t[y],t[y+1]),s.push(a++,c,a);s.push(c+1,c,a)}};function gv(i,e=!1){const t=i.length;if(t<6)return;let r=0;for(let s=0,a=i[t-2],c=i[t-1];s<t;s+=2){const d=i[s],p=i[s+1];r+=(d-a)*(p+c),a=d,c=p}if(!e&&r>0||e&&r<=0){const s=t/2;for(let a=s+s%2;a<t;a+=2){const c=t-a-2,d=t-a-1,p=a,g=a+1;[i[c],i[p]]=[i[p],i[c]],[i[d],i[g]]=[i[g],i[d]]}}}const dx={build(i){i.points=i.shape.points.slice()},triangulate(i,e){let t=i.points;const r=i.holes,s=e.points,a=e.indices;if(t.length>=6){gv(t,!1);const c=[];for(let g=0;g<r.length;g++){const y=r[g];gv(y.points,!0),c.push(t.length/2),t=t.concat(y.points)}const d=k_(t,c,2);if(!d)return;const p=s.length/2;for(let g=0;g<d.length;g+=3)a.push(d[g]+p),a.push(d[g+1]+p),a.push(d[g+2]+p);for(let g=0;g<t.length;g++)s.push(t[g])}}},nA={build(i){const e=i.shape,t=e.x,r=e.y,s=e.width,a=e.height,c=i.points;c.length=0,s>=0&&a>=0&&c.push(t,r,t+s,r,t+s,r+a,t,r+a)},triangulate(i,e){const t=i.points,r=e.points;if(t.length===0)return;const s=r.length/2;r.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}},iA={build(i){cf.build(i)},triangulate(i,e){cf.triangulate(i,e)}};var ci=(i=>(i.MITER="miter",i.BEVEL="bevel",i.ROUND="round",i))(ci||{}),ga=(i=>(i.BUTT="butt",i.ROUND="round",i.SQUARE="square",i))(ga||{});const Ju={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(i,e=20){if(!this.adaptive||!i||isNaN(i))return e;let t=Math.ceil(i/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class yv{static curveTo(e,t,r,s,a,c){const d=c[c.length-2],p=c[c.length-1]-t,g=d-e,y=s-t,w=r-e,_=Math.abs(p*w-g*y);if(_<1e-8||a===0)return(c[c.length-2]!==e||c[c.length-1]!==t)&&c.push(e,t),null;const A=p*p+g*g,b=y*y+w*w,P=p*y+g*w,T=a*Math.sqrt(A)/_,R=a*Math.sqrt(b)/_,F=T*P/A,D=R*P/b,H=T*w+R*g,O=T*y+R*p,V=g*(R+F),L=p*(R+F),J=w*(T+D),oe=y*(T+D),ce=Math.atan2(L-O,V-H),Ae=Math.atan2(oe-O,J-H);return{cx:H+e,cy:O+t,radius:a,startAngle:ce,endAngle:Ae,anticlockwise:g*y>w*p}}static arc(e,t,r,s,a,c,d,p,g){const y=d-c,w=Ju._segmentsCount(Math.abs(y)*a,Math.ceil(Math.abs(y)/rf)*40),_=y/(w*2),A=_*2,b=Math.cos(_),P=Math.sin(_),T=w-1,R=T%1/T;for(let F=0;F<=T;++F){const D=F+R*F,H=_+c+A*D,O=Math.cos(H),V=-Math.sin(H);g.push((b*O+P*V)*a+r,(b*-V+P*O)*a+s)}}}class sA{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class j0{static curveLength(e,t,r,s,a,c,d,p){let g=0,y=0,w=0,_=0,A=0,b=0,P=0,T=0,R=0,F=0,D=0,H=e,O=t;for(let V=1;V<=10;++V)y=V/10,w=y*y,_=w*y,A=1-y,b=A*A,P=b*A,T=P*e+3*b*y*r+3*A*w*a+_*d,R=P*t+3*b*y*s+3*A*w*c+_*p,F=H-T,D=O-R,H=T,O=R,g+=Math.sqrt(F*F+D*D);return g}static curveTo(e,t,r,s,a,c,d){const p=d[d.length-2],g=d[d.length-1];d.length-=2;const y=Ju._segmentsCount(j0.curveLength(p,g,e,t,r,s,a,c));let w=0,_=0,A=0,b=0,P=0;d.push(p,g);for(let T=1,R=0;T<=y;++T)R=T/y,w=1-R,_=w*w,A=_*w,b=R*R,P=b*R,d.push(A*p+3*_*R*e+3*w*b*r+P*a,A*g+3*_*R*t+3*w*b*s+P*c)}}function vv(i,e,t,r,s,a,c,d){const p=i-t*s,g=e-r*s,y=i+t*a,w=e+r*a;let _,A;c?(_=r,A=-t):(_=-r,A=t);const b=p+_,P=g+A,T=y+_,R=w+A;return d.push(b,P,T,R),2}function bl(i,e,t,r,s,a,c,d){const p=t-i,g=r-e;let y=Math.atan2(p,g),w=Math.atan2(s-i,a-e);d&&y<w?y+=Math.PI*2:!d&&y>w&&(w+=Math.PI*2);let _=y;const A=w-y,b=Math.abs(A),P=Math.sqrt(p*p+g*g),T=(15*b*Math.sqrt(P)/Math.PI>>0)+1,R=A/T;if(_+=R,d){c.push(i,e,t,r);for(let F=1,D=_;F<T;F++,D+=R)c.push(i,e,i+Math.sin(D)*P,e+Math.cos(D)*P);c.push(i,e,s,a)}else{c.push(t,r,i,e);for(let F=1,D=_;F<T;F++,D+=R)c.push(i+Math.sin(D)*P,e+Math.cos(D)*P,i,e);c.push(s,a,i,e)}return T*2}function oA(i,e){const t=i.shape;let r=i.points||t.points.slice();const s=e.closePointEps;if(r.length===0)return;const a=i.lineStyle,c=new ft(r[0],r[1]),d=new ft(r[r.length-2],r[r.length-1]),p=t.type!==Hr.POLY||t.closeStroke,g=Math.abs(c.x-d.x)<s&&Math.abs(c.y-d.y)<s;if(p){r=r.slice(),g&&(r.pop(),r.pop(),d.set(r[r.length-2],r[r.length-1]));const z=(c.x+d.x)*.5,I=(d.y+c.y)*.5;r.unshift(z,I),r.push(z,I)}const y=e.points,w=r.length/2;let _=r.length;const A=y.length/2,b=a.width/2,P=b*b,T=a.miterLimit*a.miterLimit;let R=r[0],F=r[1],D=r[2],H=r[3],O=0,V=0,L=-(F-H),J=R-D,oe=0,ce=0,Ae=Math.sqrt(L*L+J*J);L/=Ae,J/=Ae,L*=b,J*=b;const Q=a.alignment,q=(1-Q)*2,te=Q*2;p||(a.cap===ga.ROUND?_+=bl(R-L*(q-te)*.5,F-J*(q-te)*.5,R-L*q,F-J*q,R+L*te,F+J*te,y,!0)+2:a.cap===ga.SQUARE&&(_+=vv(R,F,L,J,q,te,!0,y))),y.push(R-L*q,F-J*q,R+L*te,F+J*te);for(let z=1;z<w-1;++z){R=r[(z-1)*2],F=r[(z-1)*2+1],D=r[z*2],H=r[z*2+1],O=r[(z+1)*2],V=r[(z+1)*2+1],L=-(F-H),J=R-D,Ae=Math.sqrt(L*L+J*J),L/=Ae,J/=Ae,L*=b,J*=b,oe=-(H-V),ce=D-O,Ae=Math.sqrt(oe*oe+ce*ce),oe/=Ae,ce/=Ae,oe*=b,ce*=b;const I=D-R,j=F-H,B=D-O,k=V-H,G=I*B+j*k,Y=j*B-k*I,se=Y<0;if(Math.abs(Y)<.001*Math.abs(G)){y.push(D-L*q,H-J*q,D+L*te,H+J*te),G>=0&&(a.join===ci.ROUND?_+=bl(D,H,D-L*q,H-J*q,D-oe*q,H-ce*q,y,!1)+4:_+=2,y.push(D-oe*te,H-ce*te,D+oe*q,H+ce*q));continue}const de=(-L+R)*(-J+H)-(-L+D)*(-J+F),me=(-oe+O)*(-ce+H)-(-oe+D)*(-ce+V),pe=(I*me-B*de)/Y,xe=(k*de-j*me)/Y,Te=(pe-D)*(pe-D)+(xe-H)*(xe-H),Ee=D+(pe-D)*q,Fe=H+(xe-H)*q,et=D-(pe-D)*te,je=H-(xe-H)*te,pt=Math.min(I*I+j*j,B*B+k*k),Xe=se?q:te,$e=pt+Xe*Xe*P,Dt=Te<=$e;let Yt=a.join;if(Yt===ci.MITER&&Te/P>T&&(Yt=ci.BEVEL),Dt)switch(Yt){case ci.MITER:{y.push(Ee,Fe,et,je);break}case ci.BEVEL:{se?y.push(Ee,Fe,D+L*te,H+J*te,Ee,Fe,D+oe*te,H+ce*te):y.push(D-L*q,H-J*q,et,je,D-oe*q,H-ce*q,et,je),_+=2;break}case ci.ROUND:{se?(y.push(Ee,Fe,D+L*te,H+J*te),_+=bl(D,H,D+L*te,H+J*te,D+oe*te,H+ce*te,y,!0)+4,y.push(Ee,Fe,D+oe*te,H+ce*te)):(y.push(D-L*q,H-J*q,et,je),_+=bl(D,H,D-L*q,H-J*q,D-oe*q,H-ce*q,y,!1)+4,y.push(D-oe*q,H-ce*q,et,je));break}}else{switch(y.push(D-L*q,H-J*q,D+L*te,H+J*te),Yt){case ci.MITER:{se?y.push(et,je,et,je):y.push(Ee,Fe,Ee,Fe),_+=2;break}case ci.ROUND:{se?_+=bl(D,H,D+L*te,H+J*te,D+oe*te,H+ce*te,y,!0)+2:_+=bl(D,H,D-L*q,H-J*q,D-oe*q,H-ce*q,y,!1)+2;break}}y.push(D-oe*q,H-ce*q,D+oe*te,H+ce*te),_+=2}}R=r[(w-2)*2],F=r[(w-2)*2+1],D=r[(w-1)*2],H=r[(w-1)*2+1],L=-(F-H),J=R-D,Ae=Math.sqrt(L*L+J*J),L/=Ae,J/=Ae,L*=b,J*=b,y.push(D-L*q,H-J*q,D+L*te,H+J*te),p||(a.cap===ga.ROUND?_+=bl(D-L*(q-te)*.5,H-J*(q-te)*.5,D-L*q,H-J*q,D+L*te,H+J*te,y,!1)+2:a.cap===ga.SQUARE&&(_+=vv(D,H,L,J,q,te,!1,y)));const he=e.indices,N=Ju.epsilon*Ju.epsilon;for(let z=A;z<_+A-2;++z)R=y[z*2],F=y[z*2+1],D=y[(z+1)*2],H=y[(z+1)*2+1],O=y[(z+2)*2],V=y[(z+2)*2+1],!(Math.abs(R*(H-V)+D*(V-F)+O*(F-H))<N)&&he.push(z,z+1,z+2)}function aA(i,e){let t=0;const r=i.shape,s=i.points||r.points,a=r.type!==Hr.POLY||r.closeStroke;if(s.length===0)return;const c=e.points,d=e.indices,p=s.length/2,g=c.length/2;let y=g;for(c.push(s[0],s[1]),t=1;t<p;t++)c.push(s[t*2],s[t*2+1]),d.push(y,y+1),y++;a&&d.push(y,g)}function xv(i,e){i.lineStyle.native?aA(i,e):oA(i,e)}class W0{static curveLength(e,t,r,s,a,c){const d=e-2*r+a,p=t-2*s+c,g=2*r-2*e,y=2*s-2*t,w=4*(d*d+p*p),_=4*(d*g+p*y),A=g*g+y*y,b=2*Math.sqrt(w+_+A),P=Math.sqrt(w),T=2*w*P,R=2*Math.sqrt(A),F=_/P;return(T*b+P*_*(b-R)+(4*A*w-_*_)*Math.log((2*P+F+b)/(F+R)))/(4*T)}static curveTo(e,t,r,s,a){const c=a[a.length-2],d=a[a.length-1],p=Ju._segmentsCount(W0.curveLength(c,d,e,t,r,s));let g=0,y=0;for(let w=1;w<=p;++w){const _=w/p;g=c+(e-c)*_,y=d+(t-d)*_,a.push(g+(e+(r-e)*_-g)*_,y+(t+(s-t)*_-y)*_)}}}const km={[Hr.POLY]:dx,[Hr.CIRC]:cf,[Hr.ELIP]:cf,[Hr.RECT]:nA,[Hr.RREC]:iA},_v=[],Id=[];class df{constructor(e,t=null,r=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=s,this.type=e.type}clone(){return new df(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Fu=new ft,fx=class px extends v1{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new lf,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Id.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),_v.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,s=null){const a=new df(e,t,r,s);return this.graphicsData.push(a),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const r=new df(e,null,null,t),s=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=s.lineStyle,s.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let r=0;r<t.length;++r){const s=t[r];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,Fu):Fu.copyFrom(e),s.shape.contains(Fu.x,Fu.y))){let a=!1;if(s.holes){for(let c=0;c<s.holes.length;c++)if(s.holes[c].shape.contains(Fu.x,Fu.y)){a=!0;break}}if(!a)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let r=null,s=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],s=r.style);for(let p=this.shapeIndex;p<t.length;p++){this.shapeIndex++;const g=t[p],y=g.fillStyle,w=g.lineStyle;km[g.type].build(g),g.matrix&&this.transformPoints(g.points,g.matrix),(y.visible||w.visible)&&this.processHoles(g.holes);for(let _=0;_<2;_++){const A=_===0?y:w;if(!A.visible)continue;const b=A.texture.baseTexture,P=this.indices.length,T=this.points.length/2;b.wrapMode=mo.REPEAT,_===0?this.processFill(g):this.processLine(g);const R=this.points.length/2-T;R!==0&&(r&&!this._compareStyles(s,A)&&(r.end(P,T),r=null),r||(r=_v.pop()||new sA,r.begin(A,P,T),this.batches.push(r),s=A),this.addUvs(this.points,e,A.texture,T,R,A.matrix))}}const a=this.indices.length,c=this.points.length/2;if(r&&r.end(a,c),this.batches.length===0){this.batchable=!0;return}const d=c>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&d===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=d?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const r=this.graphicsData[e],s=r.fillStyle,a=r.lineStyle;if(s&&!s.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,r=e.length;t<r;t++){const s=e[t];for(let a=0;a<s.size;a++){const c=s.start+a;this.indicesUint16[c]=this.indicesUint16[c]-s.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<px.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++it._globalBatch;for(let w=0;w<this.drawCalls.length;w++)this.drawCalls[w].texArray.clear(),Id.push(this.drawCalls[w]);this.drawCalls.length=0;const t=this.colors,r=this.textureIds;let s=Id.pop();s||(s=new Zm,s.texArray=new r0),s.texArray.count=0,s.start=0,s.size=0,s.type=ji.TRIANGLES;let a=0,c=null,d=0,p=!1,g=ji.TRIANGLES,y=0;this.drawCalls.push(s);for(let w=0;w<this.batches.length;w++){const _=this.batches[w],A=8,b=_.style,P=b.texture.baseTexture;p!==!!b.native&&(p=!!b.native,g=p?ji.LINES:ji.TRIANGLES,c=null,a=A,e++),c!==P&&(c=P,P._batchEnabled!==e&&(a===A&&(e++,a=0,s.size>0&&(s=Id.pop(),s||(s=new Zm,s.texArray=new r0),this.drawCalls.push(s)),s.start=y,s.size=0,s.texArray.count=0,s.type=g),P.touched=1,P._batchEnabled=e,P._batchLocation=a,P.wrapMode=mo.REPEAT,s.texArray.elements[s.texArray.count++]=P,a++)),s.size+=_.size,y+=_.size,d=P._batchLocation,this.addColors(t,b.color,b.alpha,_.attribSize,_.attribStart),this.addTextureIds(r,d,_.attribSize,_.attribStart)}it._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,r=this.colors,s=this.textureIds,a=new ArrayBuffer(e.length*3*4),c=new Float32Array(a),d=new Uint32Array(a);let p=0;for(let g=0;g<e.length/2;g++)c[p++]=e[g*2],c[p++]=e[g*2+1],c[p++]=t[g*2],c[p++]=t[g*2+1],d[p++]=r[g],c[p++]=s[g];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?dx.triangulate(e,this):km[e.type].triangulate(e,this)}processLine(e){xv(e,this);for(let t=0;t<e.holes.length;t++)xv(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const r=e[t];km[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){const s=e[r*2],a=e[r*2+1];e[r*2]=t.a*s+t.c*a+t.tx,e[r*2+1]=t.b*s+t.d*a+t.ty}}addColors(e,t,r,s,a=0){const c=zt.shared.setValue(t).toLittleEndianNumber(),d=zt.shared.setValue(c).toPremultiplied(r);e.length=Math.max(e.length,a+s);for(let p=0;p<s;p++)e[a+p]=d}addTextureIds(e,t,r,s=0){e.length=Math.max(e.length,s+r);for(let a=0;a<r;a++)e[s+a]=t}addUvs(e,t,r,s,a,c=null){let d=0;const p=t.length,g=r.frame;for(;d<a;){let w=e[(s+d)*2],_=e[(s+d)*2+1];if(c){const A=c.a*w+c.c*_+c.tx;_=c.b*w+c.d*_+c.ty,w=A}d++,t.push(w/g.width,_/g.height)}const y=r.baseTexture;(g.width<y.width||g.height<y.height)&&this.adjustUvs(t,r,p,a)}adjustUvs(e,t,r,s){const a=t.baseTexture,c=1e-6,d=r+s*2,p=t.frame,g=p.width/a.width,y=p.height/a.height;let w=p.x/p.width,_=p.y/p.height,A=Math.floor(e[r]+c),b=Math.floor(e[r+1]+c);for(let P=r+2;P<d;P+=2)A=Math.min(A,Math.floor(e[P]+c)),b=Math.min(b,Math.floor(e[P+1]+c));w-=A,_-=b;for(let P=r;P<d;P+=2)e[P]=(e[P]+w)*g,e[P+1]=(e[P+1]+_)*y}};fx.BATCHABLE_SIZE=100;let lA=fx;class Rf{constructor(){this.color=16777215,this.alpha=1,this.texture=ke.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Rf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ke.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class V0 extends Rf{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=ga.BUTT,this.join=ci.MITER,this.miterLimit=10}clone(){const e=new V0;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=ga.BUTT,this.join=ci.MITER,this.miterLimit=10}}const Mm={},y0=class Qd extends mn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Rf,this._lineStyle=new V0,this._matrix=null,this._holeMode=!1,this.state=Rs.for2d(),this._geometry=e||new lA,this._geometry.refCount++,this._transformID=-1,this._tintColor=new zt(16777215),this.blendMode=tt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Qd(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,s=.5,a=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:r,alignment:s,native:a}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:ke.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:ga.BUTT,join:ci.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new Nl,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new Nl,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,s=r[r.length-2],a=r[r.length-1];return(s!==e||a!==t)&&r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,s){this._initCurve();const a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),W0.curveTo(e,t,r,s,a),this}bezierCurveTo(e,t,r,s,a,c){return this._initCurve(),j0.curveTo(e,t,r,s,a,c,this.currentPath.points),this}arcTo(e,t,r,s,a){this._initCurve(e,t);const c=this.currentPath.points,d=yv.curveTo(e,t,r,s,a,c);if(d){const{cx:p,cy:g,radius:y,startAngle:w,endAngle:_,anticlockwise:A}=d;this.arc(p,g,y,w,_,A)}return this}arc(e,t,r,s,a,c=!1){if(s===a)return this;if(!c&&a<=s?a+=rf:c&&s<=a&&(s+=rf),a-s===0)return this;const d=e+Math.cos(s)*r,p=t+Math.sin(s)*r,g=this._geometry.closePointEps;let y=this.currentPath?this.currentPath.points:null;if(y){const w=Math.abs(y[y.length-2]-d),_=Math.abs(y[y.length-1]-p);w<g&&_<g||y.push(d,p)}else this.moveTo(d,p),y=this.currentPath.points;return yv.arc(d,p,e,t,r,s,a,c,y),this}beginFill(e=0,t){return this.beginTextureFill({texture:ke.WHITE,color:e,alpha:t})}normalizeColor(e){const t=zt.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:ke.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,s){return this.drawShape(new rt(e,t,r,s))}drawRoundedRect(e,t,r,s,a){return this.drawShape(new Sf(e,t,r,s,a))}drawCircle(e,t,r){return this.drawShape(new wf(e,t,r))}drawEllipse(e,t,r,s){return this.drawShape(new Ef(e,t,r,s))}drawPolygon(...e){let t,r=!0;const s=e[0];s.points?(r=s.closeStroke,t=s.points):Array.isArray(e[0])?t=e[0]:t=e;const a=new Nl(t);return a.closeStroke=r,this.drawShape(a),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Hr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let s=0;s<r;s++){const a=e.batches[s],c=a.style.color,d=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),p=new Float32Array(e.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),g=new Uint16Array(e.indicesUint16.buffer,a.start*2,a.size),y={vertexData:d,blendMode:t,indices:g,uvs:p,_batchRGB:zt.shared.setValue(c).toRgbArray(),_tintRGB:c,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[s]=y}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){const s=this.batches[t];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}}_renderDirect(e){const t=this._resolveDirectShader(e),r=this._geometry,s=this.worldAlpha,a=t.uniforms,c=r.drawCalls;a.translationMatrix=this.transform.worldTransform,zt.shared.setValue(this._tintColor).premultiply(s).toArray(a.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let d=0,p=c.length;d<p;d++)this._renderDrawCallDirect(e,r.drawCalls[d])}_renderDrawCallDirect(e,t){const{texArray:r,type:s,size:a,start:c}=t,d=r.count;for(let p=0;p<d;p++)e.texture.bind(r.elements[p],p);e.geometry.draw(s,a,c)}_resolveDirectShader(e){let t=this.shader;const r=this.pluginName;if(!t){if(!Mm[r]){const{maxTextures:s}=e.plugins[r],a=new Int32Array(s);for(let p=0;p<s;p++)a[p]=p;const c={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ht,default:Xi.from({uSamplers:a},!0)},d=e.plugins[r]._shader.program;Mm[r]=new Ts(d,c)}t=Mm[r]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:r,maxX:s,maxY:a}=e.bounds;this._bounds.addFrame(this.transform,t,r,s,a)}containsPoint(e){return this.worldTransform.applyInverse(e,Qd._TEMP_POINT),this._geometry.containsPoint(Qd._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=zt.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,r=t.a,s=t.b,a=t.c,c=t.d,d=t.tx,p=t.ty,g=this._geometry.points,y=this.vertexData;let w=0;for(let _=0;_<g.length;_+=2){const A=g[_],b=g[_+1];y[w++]=r*A+a*b+d,y[w++]=c*b+s*A+p}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};y0.curves=Ju,y0._TEMP_POINT=new ft;let vc=y0;class uA extends Pf{constructor(e=100,t=100,r=10,s=10){super(),this.segWidth=r,this.segHeight=s,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],r=[],s=[],a=this.segWidth-1,c=this.segHeight-1,d=this.width/a,p=this.height/c;for(let y=0;y<e;y++){const w=y%this.segWidth,_=y/this.segWidth|0;t.push(w*d,_*p),r.push(w/a,_/c)}const g=a*c;for(let y=0;y<g;y++){const w=y%a,_=y/a|0,A=_*this.segWidth+w,b=_*this.segWidth+w+1,P=(_+1)*this.segWidth+w,T=(_+1)*this.segWidth+w+1;s.push(A,b,P,b,T,P)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class hA extends Pf{constructor(e=200,t,r=0){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),s=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),s.data=new Uint16Array((e.length-1)*6));const a=r.data,c=s.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;let d=0,p=e[0];const g=this._width*this.textureScale,y=e.length;for(let _=0;_<y;_++){const A=_*4;if(this.textureScale>0){const b=p.x-e[_].x,P=p.y-e[_].y,T=Math.sqrt(b*b+P*P);p=e[_],d+=T/g}else d=_/(y-1);a[A]=d,a[A+1]=0,a[A+2]=d,a[A+3]=1}let w=0;for(let _=0;_<y-1;_++){const A=_*2;c[w++]=A,c[w++]=A+1,c[w++]=A+2,c[w++]=A+2,c[w++]=A+1,c[w++]=A+3}r.update(),s.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t=e[0],r,s=0,a=0;const c=this.buffers[0].data,d=e.length,p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let g=0;g<d;g++){const y=e[g],w=g*4;g<e.length-1?r=e[g+1]:r=y,a=-(r.x-t.x),s=r.y-t.y;const _=Math.sqrt(s*s+a*a);_<1e-6?(s=0,a=0):(s/=_,a/=_,s*=p,a*=p),c[w]=y.x+s,c[w+1]=y.y+a,c[w+2]=y.x-s,c[w+3]=y.y-a,t=y}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class cA extends _c{constructor(e,t,r){const s=new uA(e.width,e.height,t,r),a=new wc(ke.WHITE);super(s,a),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:r}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Rd=10;class dA extends cA{constructor(e,t,r,s,a){var c,d,p,g;super(ke.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??((c=e.defaultBorders)==null?void 0:c.left)??Rd,this._rightWidth=s??((d=e.defaultBorders)==null?void 0:d.right)??Rd,this._topHeight=r??((p=e.defaultBorders)==null?void 0:p.top)??Rd,this._bottomHeight=a??((g=e.defaultBorders)==null?void 0:g.bottom)??Rd,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,s=this._height>r?1:this._height/r;return Math.min(t,s)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,s=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=s*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class fA extends _c{constructor(e=ke.EMPTY,t,r,s,a){const c=new Pf(t,r,s);c.getBuffer("aVertexPosition").static=!1;const d=new wc(e);super(c,d,null,a),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class pA extends _c{constructor(e,t,r=0){const s=new hA(e.height,t,r),a=new wc(e);r>0&&(e.baseTexture.wrapMode=mo.REPEAT),super(s,a),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}class mA extends mn{constructor(e=1500,t,r=16384,s=!1){super();const a=16384;r>a&&(r=a),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=tt.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new zt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class wv{constructor(e,t,r){this.geometry=new va,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let s=0;s<e.length;++s){let a=e[s];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||Ke.FLOAT,offset:a.offset},t[s]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new fr(Pw(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let c=0;c<this.dynamicProperties.length;++c){const d=this.dynamicProperties[c];d.offset=t,t+=d.size,this.dynamicStride+=d.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new fr(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let c=0;c<this.staticProperties.length;++c){const d=this.staticProperties[c];d.offset=s,s+=d.size,this.staticStride+=d.size}const a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new fr(this.staticData,!0,!1);for(let c=0;c<this.dynamicProperties.length;++c){const d=this.dynamicProperties[c];e.addAttribute(d.attributeName,this.dynamicBuffer,0,d.type===Ke.UNSIGNED_BYTE,d.type,this.dynamicStride*4,d.offset*4)}for(let c=0;c<this.staticProperties.length;++c){const d=this.staticProperties[c];e.addAttribute(d.attributeName,this.staticBuffer,0,d.type===Ke.UNSIGNED_BYTE,d.type,this.staticStride*4,d.offset*4)}}uploadDynamic(e,t,r){for(let s=0;s<this.dynamicProperties.length;s++){const a=this.dynamicProperties[s];a.uploadFunction(e,t,r,a.type===Ke.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,r){for(let s=0;s<this.staticProperties.length;s++){const a=this.staticProperties[s];a.uploadFunction(e,t,r,a.type===Ke.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var gA=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,yA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class mx extends bf{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ht,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ke.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Ts.from(yA,gA,{}),this.state=Rs.for2d()}render(e){const t=e.children,r=e._maxSize,s=e._batchSize,a=this.renderer;let c=t.length;if(c===0)return;c>r&&!e.autoResize&&(c=r);let d=e._buffers;d||(d=e._buffers=this.generateBuffers(e));const p=t[0]._texture.baseTexture,g=p.alphaMode>0;this.state.blendMode=m1(e.blendMode,g),a.state.set(this.state);const y=a.gl,w=e.worldTransform.copyTo(this.tempMatrix);w.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=w.toArray(!0),this.shader.uniforms.uColor=zt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,g).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=p,this.renderer.shader.bind(this.shader);let _=!1;for(let A=0,b=0;A<c;A+=s,b+=1){let P=c-A;P>s&&(P=s),b>=d.length&&d.push(this._generateOneMoreBuffer(e));const T=d[b];T.uploadDynamic(t,A,P);const R=e._bufferUpdateIDs[b]||0;_=_||T._updateID<R,_&&(T._updateID=e._updateID,T.uploadStatic(t,A,P)),a.geometry.bind(T.geometry),y.drawElements(y.TRIANGLES,P*6,y.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],r=e._maxSize,s=e._batchSize,a=e._properties;for(let c=0;c<r;c+=s)t.push(new wv(this.properties,a,s));return t}_generateOneMoreBuffer(e){const t=e._batchSize,r=e._properties;return new wv(this.properties,r,t)}uploadVertices(e,t,r,s,a,c){let d=0,p=0,g=0,y=0;for(let w=0;w<r;++w){const _=e[t+w],A=_._texture,b=_.scale.x,P=_.scale.y,T=A.trim,R=A.orig;T?(p=T.x-_.anchor.x*R.width,d=p+T.width,y=T.y-_.anchor.y*R.height,g=y+T.height):(d=R.width*(1-_.anchor.x),p=R.width*-_.anchor.x,g=R.height*(1-_.anchor.y),y=R.height*-_.anchor.y),s[c]=p*b,s[c+1]=y*P,s[c+a]=d*b,s[c+a+1]=y*P,s[c+a*2]=d*b,s[c+a*2+1]=g*P,s[c+a*3]=p*b,s[c+a*3+1]=g*P,c+=a*4}}uploadPosition(e,t,r,s,a,c){for(let d=0;d<r;d++){const p=e[t+d].position;s[c]=p.x,s[c+1]=p.y,s[c+a]=p.x,s[c+a+1]=p.y,s[c+a*2]=p.x,s[c+a*2+1]=p.y,s[c+a*3]=p.x,s[c+a*3+1]=p.y,c+=a*4}}uploadRotation(e,t,r,s,a,c){for(let d=0;d<r;d++){const p=e[t+d].rotation;s[c]=p,s[c+a]=p,s[c+a*2]=p,s[c+a*3]=p,c+=a*4}}uploadUvs(e,t,r,s,a,c){for(let d=0;d<r;++d){const p=e[t+d]._texture._uvs;p?(s[c]=p.x0,s[c+1]=p.y0,s[c+a]=p.x1,s[c+a+1]=p.y1,s[c+a*2]=p.x2,s[c+a*2+1]=p.y2,s[c+a*3]=p.x3,s[c+a*3+1]=p.y3,c+=a*4):(s[c]=0,s[c+1]=0,s[c+a]=0,s[c+a+1]=0,s[c+a*2]=0,s[c+a*2+1]=0,s[c+a*3]=0,s[c+a*3+1]=0,c+=a*4)}}uploadTint(e,t,r,s,a,c){for(let d=0;d<r;++d){const p=e[t+d],g=zt.shared.setValue(p._tintRGB).toPremultiplied(p.alpha,p.texture.baseTexture.alphaMode>0);s[c]=g,s[c+a]=g,s[c+a*2]=g,s[c+a*3]=g,c+=a*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}mx.extension={name:"particle",type:De.RendererPlugin};Ve.add(mx);class Ec extends ks{constructor(e,t=!0){super(e[0]instanceof ke?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Nr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Nr.shared.add(this.update,this,xa.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=t/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const a=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let r=0;r<e.length;++r)t.push(ke.from(e[r]));return new Ec(t)}static fromImages(e){const t=[];for(let r=0;r<e.length;++r)t.push(ke.from(e[r]));return new Ec(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ke)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Nr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Nr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const oc=new ft;class X0 extends ks{constructor(e,t=100,r=100){super(e),this.tileTransform=new Af,this._width=t,this._height=r,this.uvMatrix=this.texture.uvMatrix||new z0(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,s)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new rt),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,oc);const t=this._width,r=this._height,s=-t*this.anchor._x;if(oc.x>=s&&oc.x<s+t){const a=-r*this.anchor._y;if(oc.y>=a&&oc.y<a+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const r=e instanceof ke?e:ke.from(e,t);return new X0(r,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var vA=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,xA=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,_A=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Ev=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,wA=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const kd=new Ht;class gx extends bf{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new P1,this.state=Rs.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Ts.from(Ev,wA,t),this.shader=e.context.webGLVersion>1?Ts.from(xA,vA,t):Ts.from(Ev,_A,t)}render(e){const t=this.renderer,r=this.quad;let s=r.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);const a=e.uvRespectAnchor?e.anchor.x:0,c=e.uvRespectAnchor?e.anchor.y:0;s=r.uvs,s[0]=s[6]=-a,s[1]=s[3]=-c,s[2]=s[4]=1-a,s[5]=s[7]=1-c,r.invalidate();const d=e._texture,p=d.baseTexture,g=p.alphaMode>0,y=e.tileTransform.localTransform,w=e.uvMatrix;let _=p.isPowerOfTwo&&d.frame.width===p.width&&d.frame.height===p.height;_&&(p._glTextures[t.CONTEXT_UID]?_=p.wrapMode!==mo.CLAMP:p.wrapMode===mo.CLAMP&&(p.wrapMode=mo.REPEAT));const A=_?this.simpleShader:this.shader,b=d.width,P=d.height,T=e._width,R=e._height;kd.set(y.a*b/T,y.b*b/R,y.c*P/T,y.d*P/R,y.tx/T,y.ty/R),kd.invert(),_?kd.prepend(w.mapCoord):(A.uniforms.uMapCoord=w.mapCoord.toArray(!0),A.uniforms.uClampFrame=w.uClampFrame,A.uniforms.uClampOffset=w.uClampOffset),A.uniforms.uTransform=kd.toArray(!0),A.uniforms.uColor=zt.shared.setValue(e.tint).premultiply(e.worldAlpha,g).toArray(A.uniforms.uColor),A.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),A.uniforms.uSampler=d,t.shader.bind(A),t.geometry.bind(r),this.state.blendMode=m1(e.blendMode,g),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}gx.extension={name:"tilingSprite",type:De.RendererPlugin};Ve.add(gx);const yx=class v0{constructor(e){this.stage=new mn,e=Object.assign({forceCanvas:!1},e),this.renderer=HE(e),v0._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,t){const r=v0._plugins.slice(0);r.reverse(),r.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};yx._plugins=[];let kf=yx;Ve.handleByList(De.Application,kf._plugins);class vx{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,r;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:a}=this._resizeTo;t=s,r=a}this.renderer.resize(t,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}vx.extension=De.Application;Ve.add(vx);var Dm={exports:{}},Nm,Sv;function EA(){if(Sv)return Nm;Sv=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Nm=i,Nm}var Fm,Av;function SA(){if(Av)return Fm;Av=1;var i=EA();function e(){}function t(){}return t.resetWarningCache=e,Fm=function(){function r(c,d,p,g,y,w){if(w!==i){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Fm}var bv;function AA(){return bv||(bv=1,Dm.exports=SA()()),Dm.exports}var bA=AA();const Gt=Ac(bA);function Zn(i){return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(i)}function xx(i){var e=function(t,r){if(Zn(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r||"default");if(Zn(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}(i,"string");return Zn(e)==="symbol"?e:String(e)}function dr(i,e,t){return(e=xx(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Bm(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function vo(i){return function(e){if(Array.isArray(e))return Bm(e)}(i)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(i)||function(e,t){if(e){if(typeof e=="string")return Bm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bm(e,t):void 0}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function or(i,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s]}var TA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var PA=function(i){return i==null};function fc(i){var e=[];if(i===void 0)return e;if(typeof i=="string")e=i.split(",");else if(typeof i=="number")e=[i];else if(Array.isArray(i))e=vo(i);else{if(i===null||Zn(i)!=="object")return e;e=[i&&(i==null?void 0:i.x)||0,i&&(i==null?void 0:i.y)||0]}return e.filter(function(t){return!PA(t)&&!isNaN(t)}).map(Number)}function Tv(i,e){if(i.length!==e.length)return!1;for(var t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function Om(i){return i instanceof ft||i instanceof Ss}var ff=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Lm(i,e,t){if(Om(i[e])&&Om(t))i[e].copyFrom(t);else if(Om(i[e])){var r=fc(t);or(r!==void 0&&r.length>0&&r.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(t),Zn(t)),i[e].set(r.shift(),r.shift())}else i[e]=t}var Bu,_x=function(i){var e,t=i;if(!Array.isArray(t)){if(e=i,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");t=Object.keys(i)}var r={};return t.forEach(function(s){r[s]=!0}),function(s){return r[s]!==void 0}},wx=function(i){return function(){return!i.apply(void 0,arguments)}},x0="children",IA=(dr(Bu={},x0,!0),dr(Bu,"parent",!0),dr(Bu,"worldAlpha",!0),dr(Bu,"worldTransform",!0),dr(Bu,"worldVisible",!0),Bu),_0={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Ps=function(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(d){return requestAnimationFrame(function(){var p,g;d==null||(p=d.__reactpixi)===null||p===void 0||(g=p.root)===null||g===void 0||g.emit("__REACT_PIXI_REQUEST_RENDER__")})},s=function(d,p){if(t.hasOwnProperty(d))return or(p.typeofs.some(function(g){return Zn(t[d])===g})||p.instanceofs.some(function(g){return t[d]instanceof g}),"".concat(i," ").concat(d," prop is invalid")),t[d]};if(t.texture)return or(t.texture instanceof ke,"".concat(i," texture needs to be typeof `Texture`")),t.texture;var a=s("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||s("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||s("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ke]});or(!!a,"".concat(i," could not get texture from props"));var c=ke.from(a);return c.__reactpixi={root:e},c.once("update",r),c.once("loaded",r),c.valid&&r(c),c},RA=wx(_x([].concat(vo(Object.keys(IA)),vo(ff))));function Is(i,e,t){var r=!1;if(or($t.prototype.isPrototypeOf(i),"instance needs to be typeof `DisplayObject`, got `%s`",Zn(i)),!t.ignoreEvents)for(var s=typeof i.removeListener=="function",a=typeof i.on=="function",c=0;c<ff.length;c++){var d=ff[c];e[d]!==t[d]&&(r=!0,typeof e[d]=="function"&&s&&i.removeListener(d,e[d]),typeof t[d]=="function"&&a&&i.on(d,t[d]))}var p=Object.keys(t||{});if(t.overwriteProps){for(var g=0;g<p.length;g++){var y=p[g];e[y]!==t[y]&&(r=!0,Lm(i,y,t[y]))}return r}for(var w=p.filter(RA),_=0;_<w.length;_++){var A=w[_],b=t[A];t[A]!==e[A]&&(r=!0),b!==void 0?Lm(i,A,b):A in _0?(console.warn("setting default value: ".concat(A,", from: ").concat(i[A]," to: ").concat(b," for"),i),r=!0,Lm(i,A,_0[A])):console.warn("ignoring prop: ".concat(A,", from ").concat(i[A]," to ").concat(b," for"),i)}return r}var kA=function(i,e){var t=e.text,r=e.style;return new fS(t,r)},MA=function(){return new mn};function Ea(i,e){if(i==null)return{};var t,r,s=function(c,d){if(c==null)return{};var p,g,y={},w=Object.keys(c);for(g=0;g<w.length;g++)p=w[g],d.indexOf(p)>=0||(y[p]=c[p]);return y}(i,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(i,t)&&(s[t]=i[t])}return s}var DA=["draw","geometry"],NA=function(i,e){var t=e.geometry;or(!t||t instanceof vc,"Graphics geometry needs to be a `Graphics`");var r=t?new vc(t.geometry):new vc;return r.applyProps=function(s,a,c){var d=c.draw;c.geometry;var p=Is(s,a,Ea(c,DA));return a.draw!==d&&typeof d=="function"&&(p=!0,d.call(r,r)),p},r},FA=["image","texture"],BA=function(i,e){var t=e.leftWidth,r=t===void 0?10:t,s=e.topHeight,a=s===void 0?10:s,c=e.rightWidth,d=c===void 0?10:c,p=e.bottomHeight,g=p===void 0?10:p,y=Ps("NineSlicePlane",i,e),w=new dA(y,r,a,d,g);return w.applyProps=function(_,A,b){var P=b.image,T=b.texture,R=Is(_,A,Ea(b,FA));return(P||T)&&(T!==A.texture&&(R=!0),_.texture=Ps("NineSlicePlane",i,b)),R},w};function Cv(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function Md(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Cv(Object(t),!0).forEach(function(r){dr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Cv(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var OA=function(i,e){var t=e.maxSize,r=t===void 0?1500:t,s=e.batchSize,a=s===void 0?16384:s,c=e.autoResize,d=c!==void 0&&c,p=Md(Md({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),g=Md(Md({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),y=new mA(r,p,a,d);return y.willUnmount=function(w,_,A){w.destroy(g)},y},LA=["image","texture"],UA=function(i,e){var t=new ks(Ps("Sprite",i,e));return t.applyProps=function(r,s,a){var c=a.image,d=a.texture,p=Is(r,s,Ea(a,LA));return(d&&s.texture!==a.texture||c&&s.image!==a.image)&&(s.texture!==a.texture&&(p=!0),r.texture=Ps("Sprite",i,a)),p},t},zA=["textures","isPlaying","initialFrame","images"],GA=function(i,e){var t=e.textures,r=e.images,s=e.isPlaying,a=s===void 0||s,c=e.initialFrame,d=function(g){return g.map(function(y){return or(y instanceof ke||(y==null?void 0:y.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),y})},p=r?Ec.fromImages(r):new Ec(d(t));return p[a?"gotoAndPlay":"gotoAndStop"](c||0),p.applyProps=function(g,y,w){var _=w.textures,A=w.isPlaying,b=w.initialFrame,P=w.images,T=Is(g,y,Ea(w,zA));if(P&&y.images!==P){for(var R=[],F=0;F<P.length;++F)R.push(ke.from(P[F]));g.textures=R,T=!0}if(_&&y.textures!==_&&(g.textures=d(_),T=!0),A!==y.isPlaying||b!==y.initialFrame){var D=typeof b=="number"?b:p.currentFrame||0;p[A?"gotoAndPlay":"gotoAndStop"](D),T=!0}return T},p},HA=function(i,e){var t=e.text,r=t===void 0?"":t,s=e.style,a=s===void 0?{}:s,c=e.isSprite,d=new Cf(r,a);return c?(d.updateText(),new ks(d.texture)):d},jA=["tileScale","tilePosition","image","texture"],WA=function(i,e){var t=e.width,r=t===void 0?100:t,s=e.height,a=s===void 0?100:s,c=Ps("TilingSprite",i,e),d=new X0(c,r,a);return d.applyProps=function(p,g,y){var w=y.tileScale,_=y.tilePosition,A=y.image,b=y.texture,P=Is(p,g,Ea(y,jA));if(_){var T,R=fc(_);(T=p.tilePosition).set.apply(T,vo(R)),P=!Tv(fc(g.tilePosition),R)||P}if(w){var F,D=fc(w);(F=p.tileScale).set.apply(F,vo(D)),P=!Tv(fc(g.tileScale),D)||P}return(A||b)&&(b!==g.texture&&(P=!0),p.texture=Ps("Sprite",i,y)),P},d},VA=["image","texture"],XA=function(i,e){var t=Ps("Mesh",i,e),r=e.vertices,s=e.uvs,a=e.indices,c=e.drawMode,d=c===void 0?ji.TRIANGLES:c,p=new fA(t,r,s,a,d);return p.applyProps=function(g,y,w){var _=w.image,A=w.texture,b=Is(g,y,Ea(w,VA));return(_||A)&&(A!==y.texture&&(b=!0),g.texture=Ps("Mesh",i,w)),b},p},$A=["image","texture"],YA=function(i,e){var t=Ps("SimpleRope",i,e),r=e.points,s=new pA(t,r);return s.applyProps=function(a,c,d){var p=d.image,g=d.texture,y=Ea(d,$A);or(Array.isArray(d.points),"SimpleRope points needs to be %s","Array<Point>");var w=Is(a,c,y);return(p||g)&&(g!==c.texture&&(w=!0),a.texture=Ps("SimpleRope",i,d)),w},s},qA=Object.freeze({__proto__:null,BitmapText:kA,Container:MA,Graphics:NA,NineSlicePlane:BA,ParticleContainer:OA,Sprite:UA,Text:HA,TilingSprite:WA,SimpleMesh:XA,SimpleRope:YA,AnimatedSprite:GA});function Pv(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function Iv(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Pv(Object(t),!0).forEach(function(r){dr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Pv(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Ln={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},QA=Object.keys(Ln).reduce(function(i,e){return Iv(Iv({},i),{},dr({},e,qA[e]))},{}),Ex={};function KA(i,e){return or(!!i,"Expect type to be defined, got `%s`",i),or(!Ln[i],"Component `%s` could not be created, already exists in default components.",i),Ex[i]=e,i}var Rv,kv,Mv,Dv,w0={},E0={},ZA={get exports(){return E0},set exports(i){E0=i}},Nv={};function JA(){return kv||(kv=1,ZA.exports=(Rv||(Rv=1,function(i){function e(I,j){var B=I.length;I.push(j);e:for(;0<B;){var k=B-1>>>1,G=I[k];if(!(0<s(G,j)))break e;I[k]=j,I[B]=G,B=k}}function t(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var j=I[0],B=I.pop();if(B!==j){I[0]=B;e:for(var k=0,G=I.length,Y=G>>>1;k<Y;){var se=2*(k+1)-1,de=I[se],me=se+1,pe=I[me];if(0>s(de,B))me<G&&0>s(pe,de)?(I[k]=pe,I[me]=B,k=me):(I[k]=de,I[se]=B,k=se);else{if(!(me<G&&0>s(pe,B)))break e;I[k]=pe,I[me]=B,k=me}}}return j}function s(I,j){var B=I.sortIndex-j.sortIndex;return B!==0?B:I.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,w=null,_=3,A=!1,b=!1,P=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function D(I){for(var j=t(g);j!==null;){if(j.callback===null)r(g);else{if(!(j.startTime<=I))break;r(g),j.sortIndex=j.expirationTime,e(p,j)}j=t(g)}}function H(I){if(P=!1,D(I),!b)if(t(p)!==null)b=!0,N(O);else{var j=t(g);j!==null&&z(H,j.startTime-I)}}function O(I,j){b=!1,P&&(P=!1,R(oe),oe=-1),A=!0;var B=_;try{for(D(j),w=t(p);w!==null&&(!(w.expirationTime>j)||I&&!Q());){var k=w.callback;if(typeof k=="function"){w.callback=null,_=w.priorityLevel;var G=k(w.expirationTime<=j);j=i.unstable_now(),typeof G=="function"?w.callback=G:w===t(p)&&r(p),D(j)}else r(p);w=t(p)}if(w!==null)var Y=!0;else{var se=t(g);se!==null&&z(H,se.startTime-j),Y=!1}return Y}finally{w=null,_=B,A=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var V,L=!1,J=null,oe=-1,ce=5,Ae=-1;function Q(){return!(i.unstable_now()-Ae<ce)}function q(){if(J!==null){var I=i.unstable_now();Ae=I;var j=!0;try{j=J(!0,I)}finally{j?V():(L=!1,J=null)}}else L=!1}if(typeof F=="function")V=function(){F(q)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,he=te.port2;te.port1.onmessage=q,V=function(){he.postMessage(null)}}else V=function(){T(q,0)};function N(I){J=I,L||(L=!0,V())}function z(I,j){oe=T(function(){I(i.unstable_now())},j)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(I){I.callback=null},i.unstable_continueExecution=function(){b||A||(b=!0,N(O))},i.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<I?Math.floor(1e3/I):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(I){switch(_){case 1:case 2:case 3:var j=3;break;default:j=_}var B=_;_=j;try{return I()}finally{_=B}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(I,j){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=_;_=I;try{return j()}finally{_=B}},i.unstable_scheduleCallback=function(I,j,B){var k=i.unstable_now();switch(B=typeof B=="object"&&B!==null&&typeof(B=B.delay)=="number"&&0<B?k+B:k,I){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return I={id:y++,callback:j,priorityLevel:I,startTime:B,expirationTime:G=B+G,sortIndex:-1},B>k?(I.sortIndex=B,e(g,I),t(p)===null&&I===t(g)&&(P?(R(oe),oe=-1):P=!0,z(H,B-k))):(I.sortIndex=G,e(p,I),b||A||(b=!0,N(O))),I},i.unstable_shouldYield=Q,i.unstable_wrapCallback=function(I){var j=_;return function(){var B=_;_=j;try{return I.apply(this,arguments)}finally{_=B}}}}(Nv)),Nv)),E0}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function eb(){return Dv||(Dv=1,Mv=function(i){var e={},t=As,r=JA(),s=Object.assign;function a(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),A=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),H=Symbol.iterator;function O(l){return l===null||typeof l!="object"?null:typeof(l=H&&l[H]||l["@@iterator"])=="function"?l:null}function V(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case g:return"Fragment";case p:return"Portal";case w:return"Profiler";case y:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case A:return(l.displayName||"Context")+".Consumer";case _:return(l._context.displayName||"Context")+".Provider";case b:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case R:return(u=l.displayName||null)!==null?u:V(l.type)||"Memo";case F:u=l._payload,l=l._init;try{return V(l(u))}catch{}}return null}function L(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(u);case 8:return u===y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function J(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do 4098&(u=l).flags&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function oe(l){if(J(l)!==l)throw Error(a(188))}function ce(l){var u=l.alternate;if(!u){if((u=J(l))===null)throw Error(a(188));return u!==l?null:l}for(var m=l,x=u;;){var E=m.return;if(E===null)break;var C=E.alternate;if(C===null){if((x=E.return)!==null){m=x;continue}break}if(E.child===C.child){for(C=E.child;C;){if(C===m)return oe(E),l;if(C===x)return oe(E),u;C=C.sibling}throw Error(a(188))}if(m.return!==x.return)m=E,x=C;else{for(var U=!1,$=E.child;$;){if($===m){U=!0,m=E,x=C;break}if($===x){U=!0,x=E,m=C;break}$=$.sibling}if(!U){for($=C.child;$;){if($===m){U=!0,m=C,x=E;break}if($===x){U=!0,x=C,m=E;break}$=$.sibling}if(!U)throw Error(a(189))}}if(m.alternate!==x)throw Error(a(190))}if(m.tag!==3)throw Error(a(188));return m.stateNode.current===m?l:u}function Ae(l){return(l=ce(l))!==null?Q(l):null}function Q(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Q(l);if(u!==null)return u;l=l.sibling}return null}function q(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=q(l);if(u!==null)return u}l=l.sibling}return null}var te,he=Array.isArray,N=i.getPublicInstance,z=i.getRootHostContext,I=i.getChildHostContext,j=i.prepareForCommit,B=i.resetAfterCommit,k=i.createInstance,G=i.appendInitialChild,Y=i.finalizeInitialChildren,se=i.prepareUpdate,de=i.shouldSetTextContent,me=i.createTextInstance,pe=i.scheduleTimeout,xe=i.cancelTimeout,Te=i.noTimeout,Ee=i.isPrimaryRenderer,Fe=i.supportsMutation,et=i.supportsPersistence,je=i.supportsHydration,pt=i.getInstanceFromNode,Xe=i.preparePortalMount,$e=i.getCurrentEventPriority,Dt=i.detachDeletedInstance,Yt=i.supportsMicrotasks,Un=i.scheduleMicrotask,Sr=i.supportsTestSelectors,rn=i.findFiberRoot,Sa=i.getBoundingRect,Ul=i.getTextContent,Yi=i.isHiddenSubtree,zl=i.matchAccessibilityRole,Aa=i.setFocusIfFocusable,ba=i.setupIntersectionObserver,Jn=i.appendChild,xo=i.appendChildToContainer,qi=i.commitTextUpdate,Ms=i.commitMount,rh=i.commitUpdate,_o=i.insertBefore,Ds=i.insertInContainerBefore,ne=i.removeChild,ae=i.removeChildFromContainer,ut=i.resetTextContent,wt=i.hideInstance,At=i.hideTextInstance,st=i.unhideInstance,Br=i.unhideTextInstance,Wr=i.clearContainer,Ar=i.cloneInstance,gn=i.createContainerChildSet,Ns=i.appendChildToContainerChildSet,pi=i.finalizeContainerChildren,br=i.replaceContainerChildren,Fs=i.cloneHiddenInstance,wo=i.cloneHiddenTextInstance,Qi=i.canHydrateInstance,mi=i.canHydrateTextInstance,gi=i.canHydrateSuspenseInstance,Bs=i.isSuspenseInstancePending,zn=i.isSuspenseInstanceFallback,Ki=i.getSuspenseInstanceFallbackErrorDetails,Os=i.registerSuspenseInstanceRetry,yi=i.getNextHydratableSibling,Ta=i.getFirstHydratableChild,Gl=i.getFirstHydratableChildWithinContainer,Ca=i.getFirstHydratableChildWithinSuspenseInstance,ei=i.hydrateInstance,Hl=i.hydrateTextInstance,Eo=i.hydrateSuspenseInstance,Zi=i.getNextHydratableInstanceAfterSuspenseInstance,Ls=i.commitHydratedContainer,jl=i.commitHydratedSuspenseInstance,Pa=i.clearSuspenseBoundary,Pc=i.clearSuspenseBoundaryFromContainer,Df=i.shouldDeleteUnhydratedTailInstances,Nf=i.didNotMatchHydratedContainerTextInstance,qt=i.didNotMatchHydratedTextInstance;function Ia(l){if(te===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);te=u&&u[1]||""}return`
`+te+l}var Ra=!1;function Wl(l,u){if(!l||Ra)return"";Ra=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(fe){var x=fe}Reflect.construct(l,[],u)}else{try{u.call()}catch(fe){x=fe}l.call(u.prototype)}else{try{throw Error()}catch(fe){x=fe}l()}}catch(fe){if(fe&&x&&typeof fe.stack=="string"){for(var E=fe.stack.split(`
`),C=x.stack.split(`
`),U=E.length-1,$=C.length-1;1<=U&&0<=$&&E[U]!==C[$];)$--;for(;1<=U&&0<=$;U--,$--)if(E[U]!==C[$]){if(U!==1||$!==1)do if(U--,0>--$||E[U]!==C[$]){var re=`
`+E[U].replace(" at new "," at ");return l.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",l.displayName)),re}while(1<=U&&0<=$);break}}}finally{Ra=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?Ia(l):""}var Vl=Object.prototype.hasOwnProperty,nh=[],Us=-1;function Gn(l){return{current:l}}function mt(l){0>Us||(l.current=nh[Us],nh[Us]=null,Us--)}function Pt(l,u){Us++,nh[Us]=l.current,l.current=u}var pr={},Tr=Gn(pr),Vr=Gn(!1),zs=pr;function vi(l,u){var m=l.type.contextTypes;if(!m)return pr;var x=l.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===u)return x.__reactInternalMemoizedMaskedChildContext;var E,C={};for(E in m)C[E]=u[E];return x&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=C),C}function Cr(l){return(l=l.childContextTypes)!=null}function Gs(){mt(Vr),mt(Tr)}function ka(l,u,m){if(Tr.current!==pr)throw Error(a(168));Pt(Tr,u),Pt(Vr,m)}function Ic(l,u,m){var x=l.stateNode;if(u=u.childContextTypes,typeof x.getChildContext!="function")return m;for(var E in x=x.getChildContext())if(!(E in u))throw Error(a(108,L(l)||"Unknown",E));return s({},m,x)}function Xl(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||pr,zs=Tr.current,Pt(Tr,l),Pt(Vr,Vr.current),!0}function $l(l,u,m){var x=l.stateNode;if(!x)throw Error(a(169));m?(l=Ic(l,u,zs),x.__reactInternalMemoizedMergedChildContext=l,mt(Vr),mt(Tr),Pt(Tr,l)):mt(Vr),Pt(Vr,m)}var yn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(ih(l)/Ma|0)|0},ih=Math.log,Ma=Math.LN2,sh=64,Da=4194304;function gt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Na(l,u){var m=l.pendingLanes;if(m===0)return 0;var x=0,E=l.suspendedLanes,C=l.pingedLanes,U=268435455&m;if(U!==0){var $=U&~E;$!==0?x=gt($):(C&=U)!==0&&(x=gt(C))}else(U=m&~E)!==0?x=gt(U):C!==0&&(x=gt(C));if(x===0)return 0;if(u!==0&&u!==x&&!(u&E)&&((E=x&-x)>=(C=u&-u)||E===16&&4194240&C))return u;if(4&x&&(x|=16&m),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=x;0<u;)E=1<<(m=31-yn(u)),x|=l[m],u&=~E;return x}function Rc(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function Fa(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function oh(){var l=sh;return!(4194240&(sh<<=1))&&(sh=64),l}function Yl(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function So(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-yn(u)]=m}function Ba(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var x=31-yn(m),E=1<<x;E&u|l[x]&u&&(l[x]|=u),m&=~E}}var ct=0;function xi(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var ti=r.unstable_scheduleCallback,_i=r.unstable_cancelCallback,Oa=r.unstable_shouldYield,La=r.unstable_requestPaint,Nt=r.unstable_now,ah=r.unstable_ImmediatePriority,kc=r.unstable_UserBlockingPriority,Ao=r.unstable_NormalPriority,Ff=r.unstable_IdlePriority,Ua=null,nn=null,vn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},wi=null,Ji=!1,Hs=!1;function js(l){wi===null?wi=[l]:wi.push(l)}function sn(){if(!Hs&&wi!==null){Hs=!0;var l=0,u=ct;try{var m=wi;for(ct=1;l<m.length;l++){var x=m[l];do x=x(!0);while(x!==null)}wi=null,Ji=!1}catch(E){throw wi!==null&&(wi=wi.slice(l+1)),ti(ah,sn),E}finally{ct=u,Hs=!1}}return null}var bo=[],To=0,Co=null,Ws=0,Xr=[],on=0,$r=null,xn=1,_n="";function es(l,u){bo[To++]=Ws,bo[To++]=Co,Co=l,Ws=u}function za(l,u,m){Xr[on++]=xn,Xr[on++]=_n,Xr[on++]=$r,$r=l;var x=xn;l=_n;var E=32-yn(x)-1;x&=~(1<<E),m+=1;var C=32-yn(u)+E;if(30<C){var U=E-E%5;C=(x&(1<<U)-1).toString(32),x>>=U,E-=U,xn=1<<32-yn(u)+E|m<<E|x,_n=C+l}else xn=1<<C|m<<E|x,_n=l}function Po(l){l.return!==null&&(es(l,1),za(l,1,0))}function ql(l){for(;l===Co;)Co=bo[--To],bo[To]=null,Ws=bo[--To],bo[To]=null;for(;l===$r;)$r=Xr[--on],Xr[on]=null,_n=Xr[--on],Xr[on]=null,xn=Xr[--on],Xr[on]=null}var Ft=null,yr=null,It=!1,Ei=!1,Hn=null;function Ql(l,u){var m=dn(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,(u=l.deletions)===null?(l.deletions=[m],l.flags|=16):u.push(m)}function Kl(l,u){switch(l.tag){case 5:return(u=Qi(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Ft=l,yr=Ta(u),!0);case 6:return(u=mi(u,l.pendingProps))!==null&&(l.stateNode=u,Ft=l,yr=null,!0);case 13:if((u=gi(u))!==null){var m=$r!==null?{id:xn,overflow:_n}:null;return l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},(m=dn(18,null,null,0)).stateNode=u,m.return=l,l.child=m,Ft=l,yr=null,!0}return!1;default:return!1}}function Vs(l){return(1&l.mode)!=0&&(128&l.flags)==0}function Io(l){if(It){var u=yr;if(u){var m=u;if(!Kl(l,u)){if(Vs(l))throw Error(a(418));u=yi(m);var x=Ft;u&&Kl(l,u)?Ql(x,m):(l.flags=-4097&l.flags|2,It=!1,Ft=l)}}else{if(Vs(l))throw Error(a(418));l.flags=-4097&l.flags|2,It=!1,Ft=l}}}function lh(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Ft=l}function Zl(l){if(!je||l!==Ft)return!1;if(!It)return lh(l),It=!0,!1;if(l.tag!==3&&(l.tag!==5||Df(l.type)&&!de(l.type,l.memoizedProps))){var u=yr;if(u){if(Vs(l))throw Mc(),Error(a(418));for(;u;)Ql(l,u),u=yi(u)}}if(lh(l),l.tag===13){if(!je)throw Error(a(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(a(317));yr=Zi(l)}else yr=Ft?yi(l.stateNode):null;return!0}function Mc(){for(var l=yr;l;)l=yi(l)}function Ro(){je&&(yr=Ft=null,Ei=It=!1)}function Ga(l){Hn===null?Hn=[l]:Hn.push(l)}var Bf=c.ReactCurrentBatchConfig;function Jl(l,u){if(vn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),x=Object.keys(u);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var E=m[x];if(!Vl.call(u,E)||!vn(l[E],u[E]))return!1}return!0}function Of(l){switch(l.tag){case 5:return Ia(l.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 2:case 15:return l=Wl(l.type,!1);case 11:return l=Wl(l.type.render,!1);case 1:return l=Wl(l.type,!0);default:return""}}function jn(l,u){if(l&&l.defaultProps){for(var m in u=s({},u),l=l.defaultProps)u[m]===void 0&&(u[m]=l[m]);return u}return u}var eu=Gn(null),Ha=null,ko=null,uh=null;function hh(){uh=ko=Ha=null}function Dc(l,u,m){Ee?(Pt(eu,u._currentValue),u._currentValue=m):(Pt(eu,u._currentValue2),u._currentValue2=m)}function ja(l){var u=eu.current;mt(eu),Ee?l._currentValue=u:l._currentValue2=u}function ch(l,u,m){for(;l!==null;){var x=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),l===m)break;l=l.return}}function Mo(l,u){Ha=l,uh=ko=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&u&&(Vt=!0),l.firstContext=null)}function wn(l){var u=Ee?l._currentValue:l._currentValue2;if(uh!==l)if(l={context:l,memoizedValue:u,next:null},ko===null){if(Ha===null)throw Error(a(308));ko=l,Ha.dependencies={lanes:0,firstContext:l}}else ko=ko.next=l;return u}var ts=null;function dh(l){ts===null?ts=[l]:ts.push(l)}function Nc(l,u,m,x){var E=u.interleaved;return E===null?(m.next=m,dh(u)):(m.next=E.next,E.next=m),u.interleaved=m,ri(l,x)}function ri(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,(m=l.alternate)!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var rs=!1;function fh(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fc(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Si(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function ni(l,u,m){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(2&ot)!=0){var E=x.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),x.pending=u,ri(l,m)}return(E=x.interleaved)===null?(u.next=u,dh(x)):(u.next=E.next,E.next=u),x.interleaved=u,ri(l,m)}function ns(l,u,m){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&m)!=0)){var x=u.lanes;m|=x&=l.pendingLanes,u.lanes=m,Ba(l,m)}}function Bc(l,u){var m=l.updateQueue,x=l.alternate;if(x!==null&&m===(x=x.updateQueue)){var E=null,C=null;if((m=m.firstBaseUpdate)!==null){do{var U={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};C===null?E=C=U:C=C.next=U,m=m.next}while(m!==null);C===null?E=C=u:C=C.next=u}else E=C=u;return m={baseState:x.baseState,firstBaseUpdate:E,lastBaseUpdate:C,shared:x.shared,effects:x.effects},void(l.updateQueue=m)}(l=m.lastBaseUpdate)===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function Wa(l,u,m,x){var E=l.updateQueue;rs=!1;var C=E.firstBaseUpdate,U=E.lastBaseUpdate,$=E.shared.pending;if($!==null){E.shared.pending=null;var re=$,fe=re.next;re.next=null,U===null?C=fe:U.next=fe,U=re;var ye=l.alternate;ye!==null&&($=(ye=ye.updateQueue).lastBaseUpdate)!==U&&($===null?ye.firstBaseUpdate=fe:$.next=fe,ye.lastBaseUpdate=re)}if(C!==null){var Me=E.baseState;for(U=0,ye=fe=re=null,$=C;;){var ge=$.lane,Pe=$.eventTime;if((x&ge)===ge){ye!==null&&(ye=ye.next={eventTime:Pe,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var ze=l,at=$;switch(ge=u,Pe=m,at.tag){case 1:if(typeof(ze=at.payload)=="function"){Me=ze.call(Pe,Me,ge);break e}Me=ze;break e;case 3:ze.flags=-65537&ze.flags|128;case 0:if((ge=typeof(ze=at.payload)=="function"?ze.call(Pe,Me,ge):ze)==null)break e;Me=s({},Me,ge);break e;case 2:rs=!0}}$.callback!==null&&$.lane!==0&&(l.flags|=64,(ge=E.effects)===null?E.effects=[$]:ge.push($))}else Pe={eventTime:Pe,lane:ge,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ye===null?(fe=ye=Pe,re=Me):ye=ye.next=Pe,U|=ge;if(($=$.next)===null){if(($=E.shared.pending)===null)break;$=(ge=$).next,ge.next=null,E.lastBaseUpdate=ge,E.shared.pending=null}}if(ye===null&&(re=Me),E.baseState=re,E.firstBaseUpdate=fe,E.lastBaseUpdate=ye,(u=E.shared.interleaved)!==null){E=u;do U|=E.lane,E=E.next;while(E!==u)}else C===null&&(E.shared.lanes=0);fs|=U,l.lanes=U,l.memoizedState=Me}}function ph(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var x=l[u],E=x.callback;if(E!==null){if(x.callback=null,x=m,typeof E!="function")throw Error(a(191,E));E.call(x)}}}var mh=new t.Component().refs;function tu(l,u,m,x){m=(m=m(x,u=l.memoizedState))==null?u:s({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Va={isMounted:function(l){return!!(l=l._reactInternals)&&J(l)===l},enqueueSetState:function(l,u,m){l=l._reactInternals;var x=ur(),E=Dn(l),C=Si(x,E);C.payload=u,m!=null&&(C.callback=m),(u=ni(l,C,E))!==null&&(Rr(u,l,E,x),ns(u,l,E))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var x=ur(),E=Dn(l),C=Si(x,E);C.tag=1,C.payload=u,m!=null&&(C.callback=m),(u=ni(l,C,E))!==null&&(Rr(u,l,E,x),ns(u,l,E))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=ur(),x=Dn(l),E=Si(m,x);E.tag=2,u!=null&&(E.callback=u),(u=ni(l,E,x))!==null&&(Rr(u,l,x,m),ns(u,l,x))}};function Xs(l,u,m,x,E,C,U){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,C,U):!u.prototype||!u.prototype.isPureReactComponent||!Jl(m,x)||!Jl(E,C)}function Oc(l,u,m){var x=!1,E=pr,C=u.contextType;return typeof C=="object"&&C!==null?C=wn(C):(E=Cr(u)?zs:Tr.current,C=(x=(x=u.contextTypes)!=null)?vi(l,E):pr),u=new u(m,C),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Va,l.stateNode=u,u._reactInternals=l,x&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=E,l.__reactInternalMemoizedMaskedChildContext=C),u}function Lc(l,u,m,x){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,x),u.state!==l&&Va.enqueueReplaceState(u,u.state,null)}function gh(l,u,m,x){var E=l.stateNode;E.props=m,E.state=l.memoizedState,E.refs=mh,fh(l);var C=u.contextType;typeof C=="object"&&C!==null?E.context=wn(C):(C=Cr(u)?zs:Tr.current,E.context=vi(l,C)),E.state=l.memoizedState,typeof(C=u.getDerivedStateFromProps)=="function"&&(tu(l,u,C,m),E.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(u=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),u!==E.state&&Va.enqueueReplaceState(E,E.state,null),Wa(l,m,E,x),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308)}function Do(l,u,m){if((l=m.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner){if(m.tag!==1)throw Error(a(309));var x=m.stateNode}if(!x)throw Error(a(147,l));var E=x,C=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===C?u.ref:(u=function(U){var $=E.refs;$===mh&&($=E.refs={}),U===null?delete $[C]:$[C]=U},u._stringRef=C,u)}if(typeof l!="string")throw Error(a(284));if(!m._owner)throw Error(a(290,l))}return l}function Xa(l,u){throw l=Object.prototype.toString.call(u),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function No(l){return(0,l._init)(l._payload)}function Fo(l){function u(ve,Z){if(l){var ue=ve.deletions;ue===null?(ve.deletions=[Z],ve.flags|=16):ue.push(Z)}}function m(ve,Z){if(!l)return null;for(;Z!==null;)u(ve,Z),Z=Z.sibling;return null}function x(ve,Z){for(ve=new Map;Z!==null;)Z.key!==null?ve.set(Z.key,Z):ve.set(Z.index,Z),Z=Z.sibling;return ve}function E(ve,Z){return(ve=Ni(ve,Z)).index=0,ve.sibling=null,ve}function C(ve,Z,ue){return ve.index=ue,l?(ue=ve.alternate)!==null?(ue=ue.index)<Z?(ve.flags|=2,Z):ue:(ve.flags|=2,Z):(ve.flags|=1048576,Z)}function U(ve){return l&&ve.alternate===null&&(ve.flags|=2),ve}function $(ve,Z,ue,Se){return Z===null||Z.tag!==6?((Z=Cu(ue,ve.mode,Se)).return=ve,Z):((Z=E(Z,ue)).return=ve,Z)}function re(ve,Z,ue,Se){var Qe=ue.type;return Qe===g?ye(ve,Z,ue.props.children,Se,ue.key):Z!==null&&(Z.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===F&&No(Qe)===Z.type)?((Se=E(Z,ue.props)).ref=Do(ve,Z,ue),Se.return=ve,Se):((Se=gl(ue.type,ue.key,ue.props,null,ve.mode,Se)).ref=Do(ve,Z,ue),Se.return=ve,Se)}function fe(ve,Z,ue,Se){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ue.containerInfo||Z.stateNode.implementation!==ue.implementation?((Z=Vh(ue,ve.mode,Se)).return=ve,Z):((Z=E(Z,ue.children||[])).return=ve,Z)}function ye(ve,Z,ue,Se,Qe){return Z===null||Z.tag!==7?((Z=ms(ue,ve.mode,Se,Qe)).return=ve,Z):((Z=E(Z,ue)).return=ve,Z)}function Me(ve,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return(Z=Cu(""+Z,ve.mode,ue)).return=ve,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case d:return(ue=gl(Z.type,Z.key,Z.props,null,ve.mode,ue)).ref=Do(ve,null,Z),ue.return=ve,ue;case p:return(Z=Vh(Z,ve.mode,ue)).return=ve,Z;case F:return Me(ve,(0,Z._init)(Z._payload),ue)}if(he(Z)||O(Z))return(Z=ms(Z,ve.mode,ue,null)).return=ve,Z;Xa(ve,Z)}return null}function ge(ve,Z,ue,Se){var Qe=Z!==null?Z.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Qe!==null?null:$(ve,Z,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case d:return ue.key===Qe?re(ve,Z,ue,Se):null;case p:return ue.key===Qe?fe(ve,Z,ue,Se):null;case F:return ge(ve,Z,(Qe=ue._init)(ue._payload),Se)}if(he(ue)||O(ue))return Qe!==null?null:ye(ve,Z,ue,Se,null);Xa(ve,ue)}return null}function Pe(ve,Z,ue,Se,Qe){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return $(Z,ve=ve.get(ue)||null,""+Se,Qe);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case d:return re(Z,ve=ve.get(Se.key===null?ue:Se.key)||null,Se,Qe);case p:return fe(Z,ve=ve.get(Se.key===null?ue:Se.key)||null,Se,Qe);case F:return Pe(ve,Z,ue,(0,Se._init)(Se._payload),Qe)}if(he(Se)||O(Se))return ye(Z,ve=ve.get(ue)||null,Se,Qe,null);Xa(Z,Se)}return null}function ze(ve,Z,ue,Se){for(var Qe=null,vt=null,He=Z,yt=Z=0,hr=null;He!==null&&yt<ue.length;yt++){He.index>yt?(hr=He,He=null):hr=He.sibling;var xt=ge(ve,He,ue[yt],Se);if(xt===null){He===null&&(He=hr);break}l&&He&&xt.alternate===null&&u(ve,He),Z=C(xt,Z,yt),vt===null?Qe=xt:vt.sibling=xt,vt=xt,He=hr}if(yt===ue.length)return m(ve,He),It&&es(ve,yt),Qe;if(He===null){for(;yt<ue.length;yt++)(He=Me(ve,ue[yt],Se))!==null&&(Z=C(He,Z,yt),vt===null?Qe=He:vt.sibling=He,vt=He);return It&&es(ve,yt),Qe}for(He=x(ve,He);yt<ue.length;yt++)(hr=Pe(He,ve,yt,ue[yt],Se))!==null&&(l&&hr.alternate!==null&&He.delete(hr.key===null?yt:hr.key),Z=C(hr,Z,yt),vt===null?Qe=hr:vt.sibling=hr,vt=hr);return l&&He.forEach(function(li){return u(ve,li)}),It&&es(ve,yt),Qe}function at(ve,Z,ue,Se){var Qe=O(ue);if(typeof Qe!="function")throw Error(a(150));if((ue=Qe.call(ue))==null)throw Error(a(151));for(var vt=Qe=null,He=Z,yt=Z=0,hr=null,xt=ue.next();He!==null&&!xt.done;yt++,xt=ue.next()){He.index>yt?(hr=He,He=null):hr=He.sibling;var li=ge(ve,He,xt.value,Se);if(li===null){He===null&&(He=hr);break}l&&He&&li.alternate===null&&u(ve,He),Z=C(li,Z,yt),vt===null?Qe=li:vt.sibling=li,vt=li,He=hr}if(xt.done)return m(ve,He),It&&es(ve,yt),Qe;if(He===null){for(;!xt.done;yt++,xt=ue.next())(xt=Me(ve,xt.value,Se))!==null&&(Z=C(xt,Z,yt),vt===null?Qe=xt:vt.sibling=xt,vt=xt);return It&&es(ve,yt),Qe}for(He=x(ve,He);!xt.done;yt++,xt=ue.next())(xt=Pe(He,ve,yt,xt.value,Se))!==null&&(l&&xt.alternate!==null&&He.delete(xt.key===null?yt:xt.key),Z=C(xt,Z,yt),vt===null?Qe=xt:vt.sibling=xt,vt=xt);return l&&He.forEach(function(Yc){return u(ve,Yc)}),It&&es(ve,yt),Qe}return function ve(Z,ue,Se,Qe){if(typeof Se=="object"&&Se!==null&&Se.type===g&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case d:e:{for(var vt=Se.key,He=ue;He!==null;){if(He.key===vt){if((vt=Se.type)===g){if(He.tag===7){m(Z,He.sibling),(ue=E(He,Se.props.children)).return=Z,Z=ue;break e}}else if(He.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===F&&No(vt)===He.type){m(Z,He.sibling),(ue=E(He,Se.props)).ref=Do(Z,He,Se),ue.return=Z,Z=ue;break e}m(Z,He);break}u(Z,He),He=He.sibling}Se.type===g?((ue=ms(Se.props.children,Z.mode,Qe,Se.key)).return=Z,Z=ue):((Qe=gl(Se.type,Se.key,Se.props,null,Z.mode,Qe)).ref=Do(Z,ue,Se),Qe.return=Z,Z=Qe)}return U(Z);case p:e:{for(He=Se.key;ue!==null;){if(ue.key===He){if(ue.tag===4&&ue.stateNode.containerInfo===Se.containerInfo&&ue.stateNode.implementation===Se.implementation){m(Z,ue.sibling),(ue=E(ue,Se.children||[])).return=Z,Z=ue;break e}m(Z,ue);break}u(Z,ue),ue=ue.sibling}(ue=Vh(Se,Z.mode,Qe)).return=Z,Z=ue}return U(Z);case F:return ve(Z,ue,(He=Se._init)(Se._payload),Qe)}if(he(Se))return ze(Z,ue,Se,Qe);if(O(Se))return at(Z,ue,Se,Qe);Xa(Z,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,ue!==null&&ue.tag===6?(m(Z,ue.sibling),(ue=E(ue,Se)).return=Z,Z=ue):(m(Z,ue),(ue=Cu(Se,Z.mode,Qe)).return=Z,Z=ue),U(Z)):m(Z,ue)}}var Bo=Fo(!0),$a=Fo(!1),Ya={},an=Gn(Ya),$s=Gn(Ya),is=Gn(Ya);function Wn(l){if(l===Ya)throw Error(a(174));return l}function ru(l,u){Pt(is,u),Pt($s,l),Pt(an,Ya),l=z(u),mt(an),Pt(an,l)}function Ys(){mt(an),mt($s),mt(is)}function Uc(l){var u=Wn(is.current),m=Wn(an.current);m!==(u=I(m,l.type,u))&&(Pt($s,l),Pt(an,u))}function yh(l){$s.current===l&&(mt(an),mt($s))}var Wt=Gn(0);function nu(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&((m=m.dehydrated)===null||Bs(m)||zn(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var vh=[];function ln(){for(var l=0;l<vh.length;l++){var u=vh[l];Ee?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}vh.length=0}var ss=c.ReactCurrentDispatcher,iu=c.ReactCurrentBatchConfig,os=0,Ut=null,ar=null,Jt=null,su=!1,qa=!1,ii=0,xh=0;function er(){throw Error(a(321))}function Qa(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!vn(l[m],u[m]))return!1;return!0}function ou(l,u,m,x,E,C){if(os=C,Ut=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ss.current=l===null||l.memoizedState===null?Ph:Ih,l=m(x,E),qa){C=0;do{if(qa=!1,ii=0,25<=C)throw Error(a(301));C+=1,Jt=ar=null,u.updateQueue=null,ss.current=Rh,l=m(x,E)}while(qa)}if(ss.current=jo,u=ar!==null&&ar.next!==null,os=0,Jt=ar=Ut=null,su=!1,u)throw Error(a(300));return l}function Oo(){var l=ii!==0;return ii=0,l}function Or(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ut.memoizedState=Jt=l:Jt=Jt.next=l,Jt}function Yr(){if(ar===null){var l=Ut.alternate;l=l!==null?l.memoizedState:null}else l=ar.next;var u=Jt===null?Ut.memoizedState:Jt.next;if(u!==null)Jt=u,ar=l;else{if(l===null)throw Error(a(310));l={memoizedState:(ar=l).memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},Jt===null?Ut.memoizedState=Jt=l:Jt=Jt.next=l}return Jt}function Lo(l,u){return typeof u=="function"?u(l):u}function Uo(l){var u=Yr(),m=u.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=l;var x=ar,E=x.baseQueue,C=m.pending;if(C!==null){if(E!==null){var U=E.next;E.next=C.next,C.next=U}x.baseQueue=E=C,m.pending=null}if(E!==null){C=E.next,x=x.baseState;var $=U=null,re=null,fe=C;do{var ye=fe.lane;if((os&ye)===ye)re!==null&&(re=re.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),x=fe.hasEagerState?fe.eagerState:l(x,fe.action);else{var Me={lane:ye,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};re===null?($=re=Me,U=x):re=re.next=Me,Ut.lanes|=ye,fs|=ye}fe=fe.next}while(fe!==null&&fe!==C);re===null?U=x:re.next=$,vn(x,u.memoizedState)||(Vt=!0),u.memoizedState=x,u.baseState=U,u.baseQueue=re,m.lastRenderedState=x}if((l=m.interleaved)!==null){E=l;do C=E.lane,Ut.lanes|=C,fs|=C,E=E.next;while(E!==l)}else E===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function au(l){var u=Yr(),m=u.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=l;var x=m.dispatch,E=m.pending,C=u.memoizedState;if(E!==null){m.pending=null;var U=E=E.next;do C=l(C,U.action),U=U.next;while(U!==E);vn(C,u.memoizedState)||(Vt=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),m.lastRenderedState=C}return[C,x]}function _h(){}function wh(l,u){var m=Ut,x=Yr(),E=u(),C=!vn(x.memoizedState,E);if(C&&(x.memoizedState=E,Vt=!0),x=x.queue,cu(Ah.bind(null,m,x,l),[l]),x.getSnapshot!==u||C||Jt!==null&&1&Jt.memoizedState.tag){if(m.flags|=2048,Ka(9,Sh.bind(null,m,x,E,u),void 0,null),rr===null)throw Error(a(349));30&os||Eh(m,u,E)}return E}function Eh(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},(u=Ut.updateQueue)===null?(u={lastEffect:null,stores:null},Ut.updateQueue=u,u.stores=[l]):(m=u.stores)===null?u.stores=[l]:m.push(l)}function Sh(l,u,m,x){u.value=m,u.getSnapshot=x,Ai(u)&&lu(l)}function Ah(l,u,m){return m(function(){Ai(u)&&lu(l)})}function Ai(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!vn(l,m)}catch{return!0}}function lu(l){var u=ri(l,1);u!==null&&Rr(u,l,1,-1)}function uu(l){var u=Or();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:l},u.queue=l,l=l.dispatch=Uf.bind(null,Ut,l),[u.memoizedState,l]}function Ka(l,u,m,x){return l={tag:l,create:u,destroy:m,deps:x,next:null},(u=Ut.updateQueue)===null?(u={lastEffect:null,stores:null},Ut.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect)===null?u.lastEffect=l.next=l:(x=m.next,m.next=l,l.next=x,u.lastEffect=l),l}function zc(){return Yr().memoizedState}function as(l,u,m,x){var E=Or();Ut.flags|=l,E.memoizedState=Ka(1|u,m,void 0,x===void 0?null:x)}function hu(l,u,m,x){var E=Yr();x=x===void 0?null:x;var C=void 0;if(ar!==null){var U=ar.memoizedState;if(C=U.destroy,x!==null&&Qa(x,U.deps))return void(E.memoizedState=Ka(u,m,C,x))}Ut.flags|=l,E.memoizedState=Ka(1|u,m,C,x)}function bh(l,u){return as(8390656,8,l,u)}function cu(l,u){return hu(2048,8,l,u)}function Rt(l,u){return hu(4,2,l,u)}function du(l,u){return hu(4,4,l,u)}function Za(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function zo(l,u,m){return m=m!=null?m.concat([l]):null,hu(4,4,Za.bind(null,u,l),m)}function fu(){}function pu(l,u){var m=Yr();u=u===void 0?null:u;var x=m.memoizedState;return x!==null&&u!==null&&Qa(u,x[1])?x[0]:(m.memoizedState=[l,u],l)}function Go(l,u){var m=Yr();u=u===void 0?null:u;var x=m.memoizedState;return x!==null&&u!==null&&Qa(u,x[1])?x[0]:(l=l(),m.memoizedState=[l,u],l)}function Ja(l,u,m){return 21&os?(vn(m,u)||(m=oh(),Ut.lanes|=m,fs|=m,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,Vt=!0),l.memoizedState=m)}function Ho(l,u){var m=ct;ct=m!==0&&4>m?m:4,l(!0);var x=iu.transition;iu.transition={};try{l(!1),u()}finally{ct=m,iu.transition=x}}function Th(){return Yr().memoizedState}function Lf(l,u,m){var x=Dn(l);m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},Ch(l)?el(u,m):(m=Nc(l,u,m,x))!==null&&(Rr(m,l,x,ur()),tl(m,u,x))}function Uf(l,u,m){var x=Dn(l),E={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(Ch(l))el(u,E);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer)!==null)try{var U=u.lastRenderedState,$=C(U,m);if(E.hasEagerState=!0,E.eagerState=$,vn($,U)){var re=u.interleaved;return re===null?(E.next=E,dh(u)):(E.next=re.next,re.next=E),void(u.interleaved=E)}}catch{}(m=Nc(l,u,E,x))!==null&&(Rr(m,l,x,E=ur()),tl(m,u,x))}}function Ch(l){var u=l.alternate;return l===Ut||u!==null&&u===Ut}function el(l,u){qa=su=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function tl(l,u,m){if(4194240&m){var x=u.lanes;m|=x&=l.pendingLanes,u.lanes=m,Ba(l,m)}}var jo={readContext:wn,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},Ph={readContext:wn,useCallback:function(l,u){return Or().memoizedState=[l,u===void 0?null:u],l},useContext:wn,useEffect:bh,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,as(4194308,4,Za.bind(null,u,l),m)},useLayoutEffect:function(l,u){return as(4194308,4,l,u)},useInsertionEffect:function(l,u){return as(4,2,l,u)},useMemo:function(l,u){var m=Or();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var x=Or();return u=m!==void 0?m(u):u,x.memoizedState=x.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},x.queue=l,l=l.dispatch=Lf.bind(null,Ut,l),[x.memoizedState,l]},useRef:function(l){return l={current:l},Or().memoizedState=l},useState:uu,useDebugValue:fu,useDeferredValue:function(l){return Or().memoizedState=l},useTransition:function(){var l=uu(!1),u=l[0];return l=Ho.bind(null,l[1]),Or().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var x=Ut,E=Or();if(It){if(m===void 0)throw Error(a(407));m=m()}else{if(m=u(),rr===null)throw Error(a(349));30&os||Eh(x,u,m)}E.memoizedState=m;var C={value:m,getSnapshot:u};return E.queue=C,bh(Ah.bind(null,x,C,l),[l]),x.flags|=2048,Ka(9,Sh.bind(null,x,C,m,u),void 0,null),m},useId:function(){var l=Or(),u=rr.identifierPrefix;if(It){var m=_n;u=":"+u+"R"+(m=(xn&~(1<<32-yn(xn)-1)).toString(32)+m),0<(m=ii++)&&(u+="H"+m.toString(32)),u+=":"}else u=":"+u+"r"+(m=xh++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},Ih={readContext:wn,useCallback:pu,useContext:wn,useEffect:cu,useImperativeHandle:zo,useInsertionEffect:Rt,useLayoutEffect:du,useMemo:Go,useReducer:Uo,useRef:zc,useState:function(){return Uo(Lo)},useDebugValue:fu,useDeferredValue:function(l){return Ja(Yr(),ar.memoizedState,l)},useTransition:function(){return[Uo(Lo)[0],Yr().memoizedState]},useMutableSource:_h,useSyncExternalStore:wh,useId:Th,unstable_isNewReconciler:!1},Rh={readContext:wn,useCallback:pu,useContext:wn,useEffect:cu,useImperativeHandle:zo,useInsertionEffect:Rt,useLayoutEffect:du,useMemo:Go,useReducer:au,useRef:zc,useState:function(){return au(Lo)},useDebugValue:fu,useDeferredValue:function(l){var u=Yr();return ar===null?u.memoizedState=l:Ja(u,ar.memoizedState,l)},useTransition:function(){return[au(Lo)[0],Yr().memoizedState]},useMutableSource:_h,useSyncExternalStore:wh,useId:Th,unstable_isNewReconciler:!1};function Wo(l,u){try{var m="",x=u;do m+=Of(x),x=x.return;while(x);var E=m}catch(C){E=`
Error generating stack: `+C.message+`
`+C.stack}return{value:l,source:u,stack:E,digest:null}}function mu(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function kh(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var zf=typeof WeakMap=="function"?WeakMap:Map;function gu(l,u,m){(m=Si(-1,m)).tag=3,m.payload={element:null};var x=u.value;return m.callback=function(){Mt||(Mt=!0,ea=x),kh(0,u)},m}function bi(l,u,m){(m=Si(-1,m)).tag=3;var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var E=u.value;m.payload=function(){return x(E)},m.callback=function(){kh(0,u)}}var C=l.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(m.callback=function(){kh(0,u),typeof x!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var U=u.stack;this.componentDidCatch(u.value,{componentStack:U!==null?U:""})}),m}function Mh(l,u,m){var x=l.pingCache;if(x===null){x=l.pingCache=new zf;var E=new Set;x.set(u,E)}else(E=x.get(u))===void 0&&(E=new Set,x.set(u,E));E.has(m)||(E.add(m),l=bu.bind(null,l,u,m),u.then(l,l))}function qs(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function Vn(l,u,m,x,E){return 1&l.mode?(l.flags|=65536,l.lanes=E,l):(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:((u=Si(-1,1)).tag=2,ni(m,u,1))),m.lanes|=1),l)}var rl=c.ReactCurrentOwner,Vt=!1;function Pr(l,u,m,x){u.child=l===null?$a(u,null,m,x):Bo(u,l.child,m,x)}function Gc(l,u,m,x,E){m=m.render;var C=u.ref;return Mo(u,E),x=ou(l,u,m,x,C,E),m=Oo(),l===null||Vt?(It&&m&&Po(u),u.flags|=1,Pr(l,u,x,E),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~E,An(l,u,E))}function Hc(l,u,m,x,E){if(l===null){var C=m.type;return typeof C!="function"||ml(C)||C.defaultProps!==void 0||m.compare!==null||m.defaultProps!==void 0?((l=gl(m.type,null,x,u,u.mode,E)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=C,ls(l,u,C,x,E))}if(C=l.child,(l.lanes&E)==0){var U=C.memoizedProps;if((m=(m=m.compare)!==null?m:Jl)(U,x)&&l.ref===u.ref)return An(l,u,E)}return u.flags|=1,(l=Ni(C,x)).ref=u.ref,l.return=u,u.child=l}function ls(l,u,m,x,E){if(l!==null){var C=l.memoizedProps;if(Jl(C,x)&&l.ref===u.ref){if(Vt=!1,u.pendingProps=x=C,(l.lanes&E)==0)return u.lanes=l.lanes,An(l,u,E);131072&l.flags&&(Vt=!0)}}return Xo(l,u,m,x,E)}function Vo(l,u,m){var x=u.pendingProps,E=x.children,C=l!==null?l.memoizedState:null;if(x.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Ri,nr),nr|=m;else{if(!(1073741824&m))return l=C!==null?C.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Pt(Ri,nr),nr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=C!==null?C.baseLanes:m,Pt(Ri,nr),nr|=x}else C!==null?(x=C.baseLanes|m,u.memoizedState=null):x=m,Pt(Ri,nr),nr|=x;return Pr(l,u,E,m),u.child}function Qs(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Xo(l,u,m,x,E){var C=Cr(m)?zs:Tr.current;return C=vi(u,C),Mo(u,E),m=ou(l,u,m,x,C,E),x=Oo(),l===null||Vt?(It&&x&&Po(u),u.flags|=1,Pr(l,u,m,E),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~E,An(l,u,E))}function yu(l,u,m,x,E){if(Cr(m)){var C=!0;Xl(u)}else C=!1;if(Mo(u,E),u.stateNode===null)Sn(l,u),Oc(u,m,x),gh(u,m,x,E),x=!0;else if(l===null){var U=u.stateNode,$=u.memoizedProps;U.props=$;var re=U.context,fe=m.contextType;typeof fe=="object"&&fe!==null?fe=wn(fe):fe=vi(u,fe=Cr(m)?zs:Tr.current);var ye=m.getDerivedStateFromProps,Me=typeof ye=="function"||typeof U.getSnapshotBeforeUpdate=="function";Me||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||($!==x||re!==fe)&&Lc(u,U,x,fe),rs=!1;var ge=u.memoizedState;U.state=ge,Wa(u,x,U,E),re=u.memoizedState,$!==x||ge!==re||Vr.current||rs?(typeof ye=="function"&&(tu(u,m,ye,x),re=u.memoizedState),($=rs||Xs(u,m,$,x,ge,re,fe))?(Me||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(u.flags|=4194308)):(typeof U.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=re),U.props=x,U.state=re,U.context=fe,x=$):(typeof U.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{U=u.stateNode,Fc(l,u),$=u.memoizedProps,fe=u.type===u.elementType?$:jn(u.type,$),U.props=fe,Me=u.pendingProps,ge=U.context,typeof(re=m.contextType)=="object"&&re!==null?re=wn(re):re=vi(u,re=Cr(m)?zs:Tr.current);var Pe=m.getDerivedStateFromProps;(ye=typeof Pe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||($!==Me||ge!==re)&&Lc(u,U,x,re),rs=!1,ge=u.memoizedState,U.state=ge,Wa(u,x,U,E);var ze=u.memoizedState;$!==Me||ge!==ze||Vr.current||rs?(typeof Pe=="function"&&(tu(u,m,Pe,x),ze=u.memoizedState),(fe=rs||Xs(u,m,fe,x,ge,ze,re)||!1)?(ye||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(x,ze,re),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(x,ze,re)),typeof U.componentDidUpdate=="function"&&(u.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof U.componentDidUpdate!="function"||$===l.memoizedProps&&ge===l.memoizedState||(u.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&ge===l.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=ze),U.props=x,U.state=ze,U.context=re,x=fe):(typeof U.componentDidUpdate!="function"||$===l.memoizedProps&&ge===l.memoizedState||(u.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&ge===l.memoizedState||(u.flags|=1024),x=!1)}return us(l,u,m,x,C,E)}function us(l,u,m,x,E,C){Qs(l,u);var U=(128&u.flags)!=0;if(!x&&!U)return E&&$l(u,m,!1),An(l,u,C);x=u.stateNode,rl.current=u;var $=U&&typeof m.getDerivedStateFromError!="function"?null:x.render();return u.flags|=1,l!==null&&U?(u.child=Bo(u,l.child,null,C),u.child=Bo(u,null,$,C)):Pr(l,u,$,C),u.memoizedState=x.state,E&&$l(u,m,!0),u.child}function Ti(l){var u=l.stateNode;u.pendingContext?ka(0,u.pendingContext,u.pendingContext!==u.context):u.context&&ka(0,u.context,!1),ru(l,u.containerInfo)}function kt(l,u,m,x,E){return Ro(),Ga(E),u.flags|=256,Pr(l,u,m,x),u.child}var Et,En,lr,vr,Ci={dehydrated:null,treeContext:null,retryLane:0};function hs(l){return{baseLanes:l,cachePool:null,transitions:null}}function Lr(l,u,m){var x,E=u.pendingProps,C=Wt.current,U=!1,$=(128&u.flags)!=0;if((x=$)||(x=(l===null||l.memoizedState!==null)&&(2&C)!=0),x?(U=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(C|=1),Pt(Wt,1&C),l===null)return Io(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&u.mode?zn(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):($=E.children,l=E.fallback,U?(E=u.mode,U=u.child,$={mode:"hidden",children:$},!(1&E)&&U!==null?(U.childLanes=0,U.pendingProps=$):U=Tu($,E,0,null),l=ms(l,E,m,null),U.return=u,l.return=u,U.sibling=l,u.child=U,u.child.memoizedState=hs(m),u.memoizedState=Ci,l):$o(u,$));if((C=l.memoizedState)!==null&&(x=C.dehydrated)!==null)return function(fe,ye,Me,ge,Pe,ze,at){if(Me)return 256&ye.flags?(ye.flags&=-257,nl(fe,ye,at,ge=mu(Error(a(422))))):ye.memoizedState!==null?(ye.child=fe.child,ye.flags|=128,null):(ze=ge.fallback,Pe=ye.mode,ge=Tu({mode:"visible",children:ge.children},Pe,0,null),(ze=ms(ze,Pe,at,null)).flags|=2,ge.return=ye,ze.return=ye,ge.sibling=ze,ye.child=ge,1&ye.mode&&Bo(ye,fe.child,null,at),ye.child.memoizedState=hs(at),ye.memoizedState=Ci,ze);if(!(1&ye.mode))return nl(fe,ye,at,null);if(zn(Pe))return ge=Ki(Pe).digest,ze=Error(a(419)),ge=mu(ze,ge,void 0),nl(fe,ye,at,ge);if(Me=(at&fe.childLanes)!=0,Vt||Me){if((ge=rr)!==null){switch(at&-at){case 4:Pe=2;break;case 16:Pe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Pe=32;break;case 536870912:Pe=268435456;break;default:Pe=0}(Pe=Pe&(ge.suspendedLanes|at)?0:Pe)!==0&&Pe!==ze.retryLane&&(ze.retryLane=Pe,ri(fe,Pe),Rr(ge,fe,Pe,-1))}return Au(),nl(fe,ye,at,ge=mu(Error(a(421))))}return Bs(Pe)?(ye.flags|=128,ye.child=fe.child,ye=jh.bind(null,fe),Os(Pe,ye),null):(fe=ze.treeContext,je&&(yr=Ca(Pe),Ft=ye,It=!0,Hn=null,Ei=!1,fe!==null&&(Xr[on++]=xn,Xr[on++]=_n,Xr[on++]=$r,xn=fe.id,_n=fe.overflow,$r=ye)),ye=$o(ye,ge.children),ye.flags|=4096,ye)}(l,u,$,E,x,C,m);if(U){U=E.fallback,$=u.mode,x=(C=l.child).sibling;var re={mode:"hidden",children:E.children};return!(1&$)&&u.child!==C?((E=u.child).childLanes=0,E.pendingProps=re,u.deletions=null):(E=Ni(C,re)).subtreeFlags=14680064&C.subtreeFlags,x!==null?U=Ni(x,U):(U=ms(U,$,m,null)).flags|=2,U.return=u,E.return=u,E.sibling=U,u.child=E,E=U,U=u.child,$=($=l.child.memoizedState)===null?hs(m):{baseLanes:$.baseLanes|m,cachePool:null,transitions:$.transitions},U.memoizedState=$,U.childLanes=l.childLanes&~m,u.memoizedState=Ci,E}return l=(U=l.child).sibling,E=Ni(U,{mode:"visible",children:E.children}),!(1&u.mode)&&(E.lanes=m),E.return=u,E.sibling=null,l!==null&&((m=u.deletions)===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=E,u.memoizedState=null,E}function $o(l,u){return(u=Tu({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function nl(l,u,m,x){return x!==null&&Ga(x),Bo(u,l.child,null,m),(l=$o(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function Dh(l,u,m){l.lanes|=u;var x=l.alternate;x!==null&&(x.lanes|=u),ch(l.return,u,m)}function Yo(l,u,m,x,E){var C=l.memoizedState;C===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:E}:(C.isBackwards=u,C.rendering=null,C.renderingStartTime=0,C.last=x,C.tail=m,C.tailMode=E)}function Nh(l,u,m){var x=u.pendingProps,E=x.revealOrder,C=x.tail;if(Pr(l,u,x.children,m),(2&(x=Wt.current))!=0)x=1&x|2,u.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Dh(l,m,u);else if(l.tag===19)Dh(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}x&=1}if(Pt(Wt,x),(1&u.mode)==0)u.memoizedState=null;else switch(E){case"forwards":for(m=u.child,E=null;m!==null;)(l=m.alternate)!==null&&nu(l)===null&&(E=m),m=m.sibling;(m=E)===null?(E=u.child,u.child=null):(E=m.sibling,m.sibling=null),Yo(u,!1,E,m,C);break;case"backwards":for(m=null,E=u.child,u.child=null;E!==null;){if((l=E.alternate)!==null&&nu(l)===null){u.child=E;break}l=E.sibling,E.sibling=m,m=E,E=l}Yo(u,!0,m,null,C);break;case"together":Yo(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Sn(l,u){!(1&u.mode)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function An(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),fs|=u.lanes,(m&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(a(153));if(u.child!==null){for(m=Ni(l=u.child,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,(m=m.sibling=Ni(l,l.pendingProps)).return=u;m.sibling=null}return u.child}function bn(l){l.flags|=4}function Fh(l,u){if(l!==null&&l.child===u.child)return!0;if(16&u.flags)return!1;for(l=u.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(Fe)Et=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)G(l,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},En=function(){},lr=function(l,u,m,x,E){if((l=l.memoizedProps)!==x){var C=u.stateNode,U=Wn(an.current);m=se(C,m,l,x,E,U),(u.updateQueue=m)&&bn(u)}},vr=function(l,u,m,x){m!==x&&bn(u)};else if(et){Et=function(l,u,m,x){for(var E=u.child;E!==null;){if(E.tag===5){var C=E.stateNode;m&&x&&(C=Fs(C,E.type,E.memoizedProps,E)),G(l,C)}else if(E.tag===6)C=E.stateNode,m&&x&&(C=wo(C,E.memoizedProps,E)),G(l,C);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)(C=E.child)!==null&&(C.return=E),Et(l,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===u)break;for(;E.sibling===null;){if(E.return===null||E.return===u)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var jc=function(l,u,m,x){for(var E=u.child;E!==null;){if(E.tag===5){var C=E.stateNode;m&&x&&(C=Fs(C,E.type,E.memoizedProps,E)),Ns(l,C)}else if(E.tag===6)C=E.stateNode,m&&x&&(C=wo(C,E.memoizedProps,E)),Ns(l,C);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)(C=E.child)!==null&&(C.return=E),jc(l,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===u)break;for(;E.sibling===null;){if(E.return===null||E.return===u)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};En=function(l,u){var m=u.stateNode;if(!Fh(l,u)){l=m.containerInfo;var x=gn(l);jc(x,u,!1,!1),m.pendingChildren=x,bn(u),pi(l,x)}},lr=function(l,u,m,x,E){var C=l.stateNode,U=l.memoizedProps;if((l=Fh(l,u))&&U===x)u.stateNode=C;else{var $=u.stateNode,re=Wn(an.current),fe=null;U!==x&&(fe=se($,m,U,x,E,re)),l&&fe===null?u.stateNode=C:(C=Ar(C,fe,m,U,x,u,l,$),Y(C,m,x,E,re)&&bn(u),u.stateNode=C,l?bn(u):Et(C,u,!1,!1))}},vr=function(l,u,m,x){m!==x?(l=Wn(is.current),m=Wn(an.current),u.stateNode=me(x,l,m,u),bn(u)):u.stateNode=l.stateNode}}else En=function(){},lr=function(){},vr=function(){};function Tn(l,u){if(!It)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function tr(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,x=0;if(u)for(var E=l.child;E!==null;)m|=E.lanes|E.childLanes,x|=14680064&E.subtreeFlags,x|=14680064&E.flags,E.return=l,E=E.sibling;else for(E=l.child;E!==null;)m|=E.lanes|E.childLanes,x|=E.subtreeFlags,x|=E.flags,E.return=l,E=E.sibling;return l.subtreeFlags|=x,l.childLanes=m,u}function qo(l,u,m){var x=u.pendingProps;switch(ql(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(u),null;case 1:case 17:return Cr(u.type)&&Gs(),tr(u),null;case 3:return m=u.stateNode,Ys(),mt(Vr),mt(Tr),ln(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),l!==null&&l.child!==null||(Zl(u)?bn(u):l===null||l.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,Hn!==null&&(fl(Hn),Hn=null))),En(l,u),tr(u),null;case 5:yh(u),m=Wn(is.current);var E=u.type;if(l!==null&&u.stateNode!=null)lr(l,u,E,x,m),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!x){if(u.stateNode===null)throw Error(a(166));return tr(u),null}if(l=Wn(an.current),Zl(u)){if(!je)throw Error(a(175));l=ei(u.stateNode,u.type,u.memoizedProps,m,l,u,!Ei),u.updateQueue=l,l!==null&&bn(u)}else{var C=k(E,x,m,l,u);Et(C,u,!1,!1),u.stateNode=C,Y(C,E,x,m,l)&&bn(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return tr(u),null;case 6:if(l&&u.stateNode!=null)vr(l,u,l.memoizedProps,x);else{if(typeof x!="string"&&u.stateNode===null)throw Error(a(166));if(l=Wn(is.current),m=Wn(an.current),Zl(u)){if(!je)throw Error(a(176));if(l=u.stateNode,m=u.memoizedProps,(x=Hl(l,m,u,!Ei))&&(E=Ft)!==null)switch(E.tag){case 3:Nf(E.stateNode.containerInfo,l,m,(1&E.mode)!=0);break;case 5:qt(E.type,E.memoizedProps,E.stateNode,l,m,(1&E.mode)!=0)}x&&bn(u)}else u.stateNode=me(x,l,m,u)}return tr(u),null;case 13:if(mt(Wt),x=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(It&&yr!==null&&1&u.mode&&!(128&u.flags))Mc(),Ro(),u.flags|=98560,E=!1;else if(E=Zl(u),x!==null&&x.dehydrated!==null){if(l===null){if(!E)throw Error(a(318));if(!je)throw Error(a(344));if(!(E=(E=u.memoizedState)!==null?E.dehydrated:null))throw Error(a(317));Eo(E,u)}else Ro(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;tr(u),E=!1}else Hn!==null&&(fl(Hn),Hn=null),E=!0;if(!E)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=m,u):((m=x!==null)!=(l!==null&&l.memoizedState!==null)&&m&&(u.child.flags|=8192,1&u.mode&&(l===null||1&Wt.current?ir===0&&(ir=3):Au())),u.updateQueue!==null&&(u.flags|=4),tr(u),null);case 4:return Ys(),En(l,u),l===null&&Xe(u.stateNode.containerInfo),tr(u),null;case 10:return ja(u.type._context),tr(u),null;case 19:if(mt(Wt),(E=u.memoizedState)===null)return tr(u),null;if(x=(128&u.flags)!=0,(C=E.rendering)===null)if(x)Tn(E,!1);else{if(ir!==0||l!==null&&128&l.flags)for(l=u.child;l!==null;){if((C=nu(l))!==null){for(u.flags|=128,Tn(E,!1),(l=C.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=m,m=u.child;m!==null;)E=l,(x=m).flags&=14680066,(C=x.alternate)===null?(x.childLanes=0,x.lanes=E,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=C.childLanes,x.lanes=C.lanes,x.child=C.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=C.memoizedProps,x.memoizedState=C.memoizedState,x.updateQueue=C.updateQueue,x.type=C.type,E=C.dependencies,x.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),m=m.sibling;return Pt(Wt,1&Wt.current|2),u.child}l=l.sibling}E.tail!==null&&Nt()>cl&&(u.flags|=128,x=!0,Tn(E,!1),u.lanes=4194304)}else{if(!x)if((l=nu(C))!==null){if(u.flags|=128,x=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),Tn(E,!0),E.tail===null&&E.tailMode==="hidden"&&!C.alternate&&!It)return tr(u),null}else 2*Nt()-E.renderingStartTime>cl&&m!==1073741824&&(u.flags|=128,x=!0,Tn(E,!1),u.lanes=4194304);E.isBackwards?(C.sibling=u.child,u.child=C):((l=E.last)!==null?l.sibling=C:u.child=C,E.last=C)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=Nt(),u.sibling=null,l=Wt.current,Pt(Wt,x?1&l|2:1&l),u):(tr(u),null);case 22:case 23:return so(),m=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==m&&(u.flags|=8192),m&&1&u.mode?1073741824&nr&&(tr(u),Fe&&6&u.subtreeFlags&&(u.flags|=8192)):tr(u),null;case 24:case 25:return null}throw Error(a(156,u.tag))}function vu(l,u){switch(ql(u),u.tag){case 1:return Cr(u.type)&&Gs(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return Ys(),mt(Vr),mt(Tr),ln(),65536&(l=u.flags)&&!(128&l)?(u.flags=-65537&l|128,u):null;case 5:return yh(u),null;case 13:if(mt(Wt),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(a(340));Ro()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return mt(Wt),null;case 4:return Ys(),null;case 10:return ja(u.type._context),null;case 22:case 23:return so(),null;default:return null}}var Ks=!1,Tt=!1,Cn=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function qr(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){Ct(l,u,x)}else m.current=null}function si(l,u,m){try{m()}catch(x){Ct(l,u,x)}}var cs=!1;function Qo(l,u,m){var x=u.updateQueue;if((x=x!==null?x.lastEffect:null)!==null){var E=x=x.next;do{if((E.tag&l)===l){var C=E.destroy;E.destroy=void 0,C!==void 0&&si(u,m,C)}E=E.next}while(E!==x)}}function Ko(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var m=u=u.next;do{if((m.tag&l)===l){var x=m.create;m.destroy=x()}m=m.next}while(m!==u)}}function il(l){var u=l.ref;if(u!==null){var m=l.stateNode;l.tag===5?l=N(m):l=m,typeof u=="function"?u(l):u.current=l}}function Qr(l){var u=l.alternate;u!==null&&(l.alternate=null,Qr(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&Dt(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Kr(l){return l.tag===5||l.tag===3||l.tag===4}function Bt(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Kr(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function un(l,u,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?Ds(m,l,u):xo(m,l);else if(x!==4&&(l=l.child)!==null)for(un(l,u,m),l=l.sibling;l!==null;)un(l,u,m),l=l.sibling}function xu(l,u,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?_o(m,l,u):Jn(m,l);else if(x!==4&&(l=l.child)!==null)for(xu(l,u,m),l=l.sibling;l!==null;)xu(l,u,m),l=l.sibling}var Ir=null,Pn=!1;function In(l,u,m){for(m=m.child;m!==null;)_u(l,u,m),m=m.sibling}function _u(l,u,m){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Ua,m)}catch{}switch(m.tag){case 5:Tt||qr(m,u);case 6:if(Fe){var x=Ir,E=Pn;Ir=null,In(l,u,m),Pn=E,(Ir=x)!==null&&(Pn?ae(Ir,m.stateNode):ne(Ir,m.stateNode))}else In(l,u,m);break;case 18:Fe&&Ir!==null&&(Pn?Pc(Ir,m.stateNode):Pa(Ir,m.stateNode));break;case 4:Fe?(x=Ir,E=Pn,Ir=m.stateNode.containerInfo,Pn=!0,In(l,u,m),Ir=x,Pn=E):(et&&(x=m.stateNode.containerInfo,E=gn(x),br(x,E)),In(l,u,m));break;case 0:case 11:case 14:case 15:if(!Tt&&(x=m.updateQueue)!==null&&(x=x.lastEffect)!==null){E=x=x.next;do{var C=E,U=C.destroy;C=C.tag,U!==void 0&&(2&C||4&C)&&si(m,u,U),E=E.next}while(E!==x)}In(l,u,m);break;case 1:if(!Tt&&(qr(m,u),typeof(x=m.stateNode).componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch($){Ct(m,u,$)}In(l,u,m);break;case 21:In(l,u,m);break;case 22:1&m.mode?(Tt=(x=Tt)||m.memoizedState!==null,In(l,u,m),Tt=x):In(l,u,m);break;default:In(l,u,m)}}function sl(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new Cn),u.forEach(function(x){var E=Xc.bind(null,l,x);m.has(x)||(m.add(x),x.then(E,E))})}}function Rn(l,u){var m=u.deletions;if(m!==null)for(var x=0;x<m.length;x++){var E=m[x];try{var C=l,U=u;if(Fe){var $=U;e:for(;$!==null;){switch($.tag){case 5:Ir=$.stateNode,Pn=!1;break e;case 3:case 4:Ir=$.stateNode.containerInfo,Pn=!0;break e}$=$.return}if(Ir===null)throw Error(a(160));_u(C,U,E),Ir=null,Pn=!1}else _u(C,U,E);var re=E.alternate;re!==null&&(re.return=null),E.return=null}catch(fe){Ct(E,u,fe)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)Zs(u,l),u=u.sibling}function Zs(l,u){var m=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Rn(u,l),kn(l),4&x){try{Qo(3,l,l.return),Ko(3,l)}catch(ge){Ct(l,l.return,ge)}try{Qo(5,l,l.return)}catch(ge){Ct(l,l.return,ge)}}break;case 1:Rn(u,l),kn(l),512&x&&m!==null&&qr(m,m.return);break;case 5:if(Rn(u,l),kn(l),512&x&&m!==null&&qr(m,m.return),Fe){if(32&l.flags){var E=l.stateNode;try{ut(E)}catch(ge){Ct(l,l.return,ge)}}if(4&x&&(E=l.stateNode)!=null){var C=l.memoizedProps;if(m=m!==null?m.memoizedProps:C,x=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{rh(E,u,x,m,C,l)}catch(ge){Ct(l,l.return,ge)}}}break;case 6:if(Rn(u,l),kn(l),4&x&&Fe){if(l.stateNode===null)throw Error(a(162));E=l.stateNode,C=l.memoizedProps,m=m!==null?m.memoizedProps:C;try{qi(E,m,C)}catch(ge){Ct(l,l.return,ge)}}break;case 3:if(Rn(u,l),kn(l),4&x){if(Fe&&je&&m!==null&&m.memoizedState.isDehydrated)try{Ls(u.containerInfo)}catch(ge){Ct(l,l.return,ge)}if(et){E=u.containerInfo,C=u.pendingChildren;try{br(E,C)}catch(ge){Ct(l,l.return,ge)}}}break;case 4:if(Rn(u,l),kn(l),4&x&&et){E=(C=l.stateNode).containerInfo,C=C.pendingChildren;try{br(E,C)}catch(ge){Ct(l,l.return,ge)}}break;case 13:Rn(u,l),kn(l),8192&(E=l.child).flags&&(C=E.memoizedState!==null,E.stateNode.isHidden=C,!C||E.alternate!==null&&E.alternate.memoizedState!==null||(Mi=Nt())),4&x&&sl(l);break;case 22:var U=m!==null&&m.memoizedState!==null;if(1&l.mode?(Tt=(m=Tt)||U,Rn(u,l),Tt=m):Rn(u,l),kn(l),8192&x){if(m=l.memoizedState!==null,(l.stateNode.isHidden=m)&&!U&&(1&l.mode)!=0)for(Ne=l,x=l.child;x!==null;){for(u=Ne=x;Ne!==null;){var $=(U=Ne).child;switch(U.tag){case 0:case 11:case 14:case 15:Qo(4,U,U.return);break;case 1:qr(U,U.return);var re=U.stateNode;if(typeof re.componentWillUnmount=="function"){var fe=U,ye=U.return;try{var Me=fe;re.props=Me.memoizedProps,re.state=Me.memoizedState,re.componentWillUnmount()}catch(ge){Ct(fe,ye,ge)}}break;case 5:qr(U,U.return);break;case 22:if(U.memoizedState!==null){Bh(u);continue}}$!==null?($.return=U,Ne=$):Bh(u)}x=x.sibling}if(Fe){e:if(x=null,Fe)for(u=l;;){if(u.tag===5){if(x===null){x=u;try{E=u.stateNode,m?wt(E):st(u.stateNode,u.memoizedProps)}catch(ge){Ct(l,l.return,ge)}}}else if(u.tag===6){if(x===null)try{C=u.stateNode,m?At(C):Br(C,u.memoizedProps)}catch(ge){Ct(l,l.return,ge)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;x===u&&(x=null),u=u.return}x===u&&(x=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Rn(u,l),kn(l),4&x&&sl(l);break;case 21:break;default:Rn(u,l),kn(l)}}function kn(l){var u=l.flags;if(2&u){try{if(Fe){e:{for(var m=l.return;m!==null;){if(Kr(m)){var x=m;break e}m=m.return}throw Error(a(160))}switch(x.tag){case 5:var E=x.stateNode;32&x.flags&&(ut(E),x.flags&=-33),xu(l,Bt(l),E);break;case 3:case 4:var C=x.stateNode.containerInfo;un(l,Bt(l),C);break;default:throw Error(a(161))}}}catch(U){Ct(l,l.return,U)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function Gf(l,u,m){Ne=l,Zo(l)}function Zo(l,u,m){for(var x=(1&l.mode)!=0;Ne!==null;){var E=Ne,C=E.child;if(E.tag===22&&x){var U=E.memoizedState!==null||Ks;if(!U){var $=E.alternate,re=$!==null&&$.memoizedState!==null||Tt;$=Ks;var fe=Tt;if(Ks=U,(Tt=re)&&!fe)for(Ne=E;Ne!==null;)re=(U=Ne).child,U.tag===22&&U.memoizedState!==null?Oh(E):re!==null?(re.return=U,Ne=re):Oh(E);for(;C!==null;)Ne=C,Zo(C),C=C.sibling;Ne=E,Ks=$,Tt=fe}ol(l)}else 8772&E.subtreeFlags&&C!==null?(C.return=E,Ne=C):ol(l)}}function ol(l){for(;Ne!==null;){var u=Ne;if(8772&u.flags){var m=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:Tt||Ko(5,u);break;case 1:var x=u.stateNode;if(4&u.flags&&!Tt)if(m===null)x.componentDidMount();else{var E=u.elementType===u.type?m.memoizedProps:jn(u.type,m.memoizedProps);x.componentDidUpdate(E,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var C=u.updateQueue;C!==null&&ph(u,C,x);break;case 3:var U=u.updateQueue;if(U!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=N(u.child.stateNode);break;case 1:m=u.child.stateNode}ph(u,U,m)}break;case 5:var $=u.stateNode;m===null&&4&u.flags&&Ms($,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(je&&u.memoizedState===null){var re=u.alternate;if(re!==null){var fe=re.memoizedState;if(fe!==null){var ye=fe.dehydrated;ye!==null&&jl(ye)}}}break;default:throw Error(a(163))}Tt||512&u.flags&&il(u)}catch(Me){Ct(u,u.return,Me)}}if(u===l){Ne=null;break}if((m=u.sibling)!==null){m.return=u.return,Ne=m;break}Ne=u.return}}function Bh(l){for(;Ne!==null;){var u=Ne;if(u===l){Ne=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Ne=m;break}Ne=u.return}}function Oh(l){for(;Ne!==null;){var u=Ne;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Ko(4,u)}catch(re){Ct(u,m,re)}break;case 1:var x=u.stateNode;if(typeof x.componentDidMount=="function"){var E=u.return;try{x.componentDidMount()}catch(re){Ct(u,E,re)}}var C=u.return;try{il(u)}catch(re){Ct(u,C,re)}break;case 5:var U=u.return;try{il(u)}catch(re){Ct(u,U,re)}}}catch(re){Ct(u,u.return,re)}if(u===l){Ne=null;break}var $=u.sibling;if($!==null){$.return=u.return,Ne=$;break}Ne=u.return}}var Pi=0,al=1,Js=2,eo=3,Ii=4;if(typeof Symbol=="function"&&Symbol.for){var to=Symbol.for;Pi=to("selector.component"),al=to("selector.has_pseudo_class"),Js=to("selector.role"),eo=to("selector.test_id"),Ii=to("selector.text")}function ll(l){var u=pt(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(a(364));return u}if((l=rn(l))===null)throw Error(a(362));return l.stateNode.current}function ul(l,u){switch(u.$$typeof){case Pi:if(l.type===u.value)return!0;break;case al:e:{u=u.value,l=[l,0];for(var m=0;m<l.length;){var x=l[m++],E=l[m++],C=u[E];if(x.tag!==5||!Yi(x)){for(;C!=null&&ul(x,C);)C=u[++E];if(E===u.length){u=!0;break e}for(x=x.child;x!==null;)l.push(x,E),x=x.sibling}}u=!1}return u;case Js:if(l.tag===5&&zl(l.stateNode,u.value))return!0;break;case Ii:if((l.tag===5||l.tag===6)&&(l=Ul(l))!==null&&0<=l.indexOf(u.value))return!0;break;case eo:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(a(365))}return!1}function hl(l){switch(l.$$typeof){case Pi:return"<"+(V(l.value)||"Unknown")+">";case al:return":has("+(hl(l)||"")+")";case Js:return'[role="'+l.value+'"]';case Ii:return'"'+l.value+'"';case eo:return'[data-testname="'+l.value+'"]';default:throw Error(a(365))}}function ro(l,u){var m=[];l=[l,0];for(var x=0;x<l.length;){var E=l[x++],C=l[x++],U=u[C];if(E.tag!==5||!Yi(E)){for(;U!=null&&ul(E,U);)U=u[++C];if(C===u.length)m.push(E);else for(E=E.child;E!==null;)l.push(E,C),E=E.sibling}}return m}function Zr(l,u){if(!Sr)throw Error(a(363));l=ro(l=ll(l),u),u=[],l=Array.from(l);for(var m=0;m<l.length;){var x=l[m++];if(x.tag===5)Yi(x)||u.push(x.stateNode);else for(x=x.child;x!==null;)l.push(x),x=x.sibling}return u}var no=Math.ceil,Jo=c.ReactCurrentDispatcher,wu=c.ReactCurrentOwner,bt=c.ReactCurrentBatchConfig,ot=0,rr=null,Qt=null,Ot=0,nr=0,Ri=Gn(0),ir=0,ds=null,fs=0,ps=0,Mn=0,ki=null,xr=null,Mi=0,cl=1/0,hn=null;function io(){cl=Nt()+500}var Eu,Mt=!1,ea=null,oi=null,ta=!1,Xn=null,ra=0,$n=0,Lt=null,Xt=-1,Kt=0;function ur(){return 6&ot?Nt():Xt!==-1?Xt:Xt=Nt()}function Dn(l){return 1&l.mode?2&ot&&Ot!==0?Ot&-Ot:Bf.transition!==null?(Kt===0&&(Kt=oh()),Kt):(l=ct)!==0?l:$e():1}function Rr(l,u,m,x){if(50<$n)throw $n=0,Lt=null,Error(a(185));So(l,m,x),2&ot&&l===rr||(l===rr&&(!(2&ot)&&(ps|=m),ir===4&&ai(l,Ot)),Jr(l,x),m===1&&ot===0&&!(1&u.mode)&&(io(),Ji&&sn()))}function Jr(l,u){var m=l.callbackNode;(function(E,C){for(var U=E.suspendedLanes,$=E.pingedLanes,re=E.expirationTimes,fe=E.pendingLanes;0<fe;){var ye=31-yn(fe),Me=1<<ye,ge=re[ye];ge===-1?Me&U&&!(Me&$)||(re[ye]=Rc(Me,C)):ge<=C&&(E.expiredLanes|=Me),fe&=~Me}})(l,u);var x=Na(l,l===rr?Ot:0);if(x===0)m!==null&&_i(m),l.callbackNode=null,l.callbackPriority=0;else if(u=x&-x,l.callbackPriority!==u){if(m!=null&&_i(m),u===1)l.tag===0?function(E){Ji=!0,js(E)}(Yn.bind(null,l)):js(Yn.bind(null,l)),Yt?Un(function(){!(6&ot)&&sn()}):ti(ah,sn),m=null;else{switch(xi(x)){case 1:m=ah;break;case 4:m=kc;break;case 16:default:m=Ao;break;case 536870912:m=Ff}m=Wh(m,_r.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function _r(l,u){if(Xt=-1,Kt=0,(6&ot)!=0)throw Error(a(327));var m=l.callbackNode;if(qn()&&l.callbackNode!==m)return null;var x=Na(l,l===rr?Ot:0);if(x===0)return null;if(30&x||x&l.expiredLanes||u)u=pl(l,x);else{u=x;var E=ot;ot|=2;var C=Lh();for(rr===l&&Ot===u||(hn=null,io(),Di(l,u));;)try{Vc();break}catch($){Su(l,$)}hh(),Jo.current=C,ot=E,Qt!==null?u=0:(rr=null,Ot=0,u=ir)}if(u!==0){if(u===2&&(E=Fa(l))!==0&&(x=E,u=dl(l,E)),u===1)throw m=ds,Di(l,0),ai(l,x),Jr(l,Nt()),m;if(u===6)ai(l,x);else{if(E=l.current.alternate,(30&x)==0&&!function($){for(var re=$;;){if(16384&re.flags){var fe=re.updateQueue;if(fe!==null&&(fe=fe.stores)!==null)for(var ye=0;ye<fe.length;ye++){var Me=fe[ye],ge=Me.getSnapshot;Me=Me.value;try{if(!vn(ge(),Me))return!1}catch{return!1}}}if(fe=re.child,16384&re.subtreeFlags&&fe!==null)fe.return=re,re=fe;else{if(re===$)break;for(;re.sibling===null;){if(re.return===null||re.return===$)return!0;re=re.return}re.sibling.return=re.return,re=re.sibling}}return!0}(E)&&((u=pl(l,x))===2&&(C=Fa(l))!==0&&(x=C,u=dl(l,C)),u===1))throw m=ds,Di(l,0),ai(l,x),Jr(l,Nt()),m;switch(l.finishedWork=E,l.finishedLanes=x,u){case 0:case 1:throw Error(a(345));case 2:case 5:oo(l,xr,hn);break;case 3:if(ai(l,x),(130023424&x)===x&&10<(u=Mi+500-Nt())){if(Na(l,0)!==0)break;if(((E=l.suspendedLanes)&x)!==x){ur(),l.pingedLanes|=l.suspendedLanes&E;break}l.timeoutHandle=pe(oo.bind(null,l,xr,hn),u);break}oo(l,xr,hn);break;case 4:if(ai(l,x),(4194240&x)===x)break;for(u=l.eventTimes,E=-1;0<x;){var U=31-yn(x);C=1<<U,(U=u[U])>E&&(E=U),x&=~C}if(x=E,10<(x=(120>(x=Nt()-x)?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*no(x/1960))-x)){l.timeoutHandle=pe(oo.bind(null,l,xr,hn),x);break}oo(l,xr,hn);break;default:throw Error(a(329))}}}return Jr(l,Nt()),l.callbackNode===m?_r.bind(null,l):null}function dl(l,u){var m=ki;return l.current.memoizedState.isDehydrated&&(Di(l,u).flags|=256),(l=pl(l,u))!==2&&(u=xr,xr=m,u!==null&&fl(u)),l}function fl(l){xr===null?xr=l:xr.push.apply(xr,l)}function ai(l,u){for(u&=~Mn,u&=~ps,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-yn(u),x=1<<m;l[m]=-1,u&=~x}}function Yn(l){if(6&ot)throw Error(a(327));qn();var u=Na(l,0);if(!(1&u))return Jr(l,Nt()),null;var m=pl(l,u);if(l.tag!==0&&m===2){var x=Fa(l);x!==0&&(u=x,m=dl(l,x))}if(m===1)throw m=ds,Di(l,0),ai(l,u),Jr(l,Nt()),m;if(m===6)throw Error(a(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,oo(l,xr,hn),Jr(l,Nt()),null}function cn(l){Xn!==null&&Xn.tag===0&&!(6&ot)&&qn();var u=ot;ot|=1;var m=bt.transition,x=ct;try{if(bt.transition=null,ct=1,l)return l()}finally{ct=x,bt.transition=m,!(6&(ot=u))&&sn()}}function so(){nr=Ri.current,mt(Ri)}function Di(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==Te&&(l.timeoutHandle=Te,xe(m)),Qt!==null)for(m=Qt.return;m!==null;){var x=m;switch(ql(x),x.tag){case 1:(x=x.type.childContextTypes)!=null&&Gs();break;case 3:Ys(),mt(Vr),mt(Tr),ln();break;case 5:yh(x);break;case 4:Ys();break;case 13:case 19:mt(Wt);break;case 10:ja(x.type._context);break;case 22:case 23:so()}m=m.return}if(rr=l,Qt=l=Ni(l.current,null),Ot=nr=u,ir=0,ds=null,Mn=ps=fs=0,xr=ki=null,ts!==null){for(u=0;u<ts.length;u++)if((x=(m=ts[u]).interleaved)!==null){m.interleaved=null;var E=x.next,C=m.pending;if(C!==null){var U=C.next;C.next=E,x.next=U}m.pending=x}ts=null}return l}function Su(l,u){for(;;){var m=Qt;try{if(hh(),ss.current=jo,su){for(var x=Ut.memoizedState;x!==null;){var E=x.queue;E!==null&&(E.pending=null),x=x.next}su=!1}if(os=0,Jt=ar=Ut=null,qa=!1,ii=0,wu.current=null,m===null||m.return===null){ir=1,ds=u,Qt=null;break}e:{var C=l,U=m.return,$=m,re=u;if(u=Ot,$.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var fe=re,ye=$,Me=ye.tag;if(!(1&ye.mode)&&(Me===0||Me===11||Me===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Pe=qs(U);if(Pe!==null){Pe.flags&=-257,Vn(Pe,U,$,0,u),1&Pe.mode&&Mh(C,fe,u),re=fe;var ze=(u=Pe).updateQueue;if(ze===null){var at=new Set;at.add(re),u.updateQueue=at}else ze.add(re);break e}if(!(1&u)){Mh(C,fe,u),Au();break e}re=Error(a(426))}else if(It&&1&$.mode){var ve=qs(U);if(ve!==null){!(65536&ve.flags)&&(ve.flags|=256),Vn(ve,U,$,0,u),Ga(Wo(re,$));break e}}C=re=Wo(re,$),ir!==4&&(ir=2),ki===null?ki=[C]:ki.push(C),C=U;do{switch(C.tag){case 3:C.flags|=65536,u&=-u,C.lanes|=u,Bc(C,gu(0,re,u));break e;case 1:$=re;var Z=C.type,ue=C.stateNode;if(!(128&C.flags)&&(typeof Z.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(oi===null||!oi.has(ue)))){C.flags|=65536,u&=-u,C.lanes|=u,Bc(C,bi(C,$,u));break e}}C=C.return}while(C!==null)}zh(m)}catch(Se){u=Se,Qt===m&&m!==null&&(Qt=m=m.return);continue}break}}function Lh(){var l=Jo.current;return Jo.current=jo,l===null?jo:l}function Au(){ir!==0&&ir!==3&&ir!==2||(ir=4),rr===null||!(268435455&fs)&&!(268435455&ps)||ai(rr,Ot)}function pl(l,u){var m=ot;ot|=2;var x=Lh();for(rr===l&&Ot===u||(hn=null,Di(l,u));;)try{Wc();break}catch(E){Su(l,E)}if(hh(),ot=m,Jo.current=x,Qt!==null)throw Error(a(261));return rr=null,Ot=0,ir}function Wc(){for(;Qt!==null;)Uh(Qt)}function Vc(){for(;Qt!==null&&!Oa();)Uh(Qt)}function Uh(l){var u=Eu(l.alternate,l,nr);l.memoizedProps=l.pendingProps,u===null?zh(l):Qt=u,wu.current=null}function zh(l){var u=l;do{var m=u.alternate;if(l=u.return,(32768&u.flags)==0){if((m=qo(m,u,nr))!==null)return void(Qt=m)}else{if((m=vu(m,u))!==null)return m.flags&=32767,void(Qt=m);if(l===null)return ir=6,void(Qt=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(Qt=u);Qt=u=l}while(u!==null);ir===0&&(ir=5)}function oo(l,u,m){var x=ct,E=bt.transition;try{bt.transition=null,ct=1,function(C,U,$,re){do qn();while(Xn!==null);if(6&ot)throw Error(a(327));$=C.finishedWork;var fe=C.finishedLanes;if($===null)return null;if(C.finishedWork=null,C.finishedLanes=0,$===C.current)throw Error(a(177));C.callbackNode=null,C.callbackPriority=0;var ye=$.lanes|$.childLanes;if(function(Pe,ze){var at=Pe.pendingLanes&~ze;Pe.pendingLanes=ze,Pe.suspendedLanes=0,Pe.pingedLanes=0,Pe.expiredLanes&=ze,Pe.mutableReadLanes&=ze,Pe.entangledLanes&=ze,ze=Pe.entanglements;var ve=Pe.eventTimes;for(Pe=Pe.expirationTimes;0<at;){var Z=31-yn(at),ue=1<<Z;ze[Z]=0,ve[Z]=-1,Pe[Z]=-1,at&=~ue}}(C,ye),C===rr&&(Qt=rr=null,Ot=0),!(2064&$.subtreeFlags)&&!(2064&$.flags)||ta||(ta=!0,Wh(Ao,function(){return qn(),null})),ye=(15990&$.flags)!=0,(15990&$.subtreeFlags)!=0||ye){ye=bt.transition,bt.transition=null;var Me=ct;ct=1;var ge=ot;ot|=4,wu.current=null,function(Pe,ze){for(j(Pe.containerInfo),Ne=ze;Ne!==null;)if(ze=(Pe=Ne).child,(1028&Pe.subtreeFlags)!=0&&ze!==null)ze.return=Pe,Ne=ze;else for(;Ne!==null;){Pe=Ne;try{var at=Pe.alternate;if(1024&Pe.flags)switch(Pe.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(at!==null){var ve=at.memoizedProps,Z=at.memoizedState,ue=Pe.stateNode,Se=ue.getSnapshotBeforeUpdate(Pe.elementType===Pe.type?ve:jn(Pe.type,ve),Z);ue.__reactInternalSnapshotBeforeUpdate=Se}break;case 3:Fe&&Wr(Pe.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(Qe){Ct(Pe,Pe.return,Qe)}if((ze=Pe.sibling)!==null){ze.return=Pe.return,Ne=ze;break}Ne=Pe.return}at=cs,cs=!1}(C,$),Zs($,C),B(C.containerInfo),C.current=$,Gf($),La(),ot=ge,ct=Me,bt.transition=ye}else C.current=$;if(ta&&(ta=!1,Xn=C,ra=fe),ye=C.pendingLanes,ye===0&&(oi=null),function(Pe){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Ua,Pe,void 0,(128&Pe.current.flags)==128)}catch{}}($.stateNode),Jr(C,Nt()),U!==null)for(re=C.onRecoverableError,$=0;$<U.length;$++)fe=U[$],re(fe.value,{componentStack:fe.stack,digest:fe.digest});if(Mt)throw Mt=!1,C=ea,ea=null,C;1&ra&&C.tag!==0&&qn(),ye=C.pendingLanes,1&ye?C===Lt?$n++:($n=0,Lt=C):$n=0,sn()}(l,u,m,x)}finally{bt.transition=E,ct=x}return null}function qn(){if(Xn!==null){var l=xi(ra),u=bt.transition,m=ct;try{if(bt.transition=null,ct=16>l?16:l,Xn===null)var x=!1;else{if(l=Xn,Xn=null,ra=0,(6&ot)!=0)throw Error(a(331));var E=ot;for(ot|=4,Ne=l.current;Ne!==null;){var C=Ne,U=C.child;if(16&Ne.flags){var $=C.deletions;if($!==null){for(var re=0;re<$.length;re++){var fe=$[re];for(Ne=fe;Ne!==null;){var ye=Ne;switch(ye.tag){case 0:case 11:case 15:Qo(8,ye,C)}var Me=ye.child;if(Me!==null)Me.return=ye,Ne=Me;else for(;Ne!==null;){var ge=(ye=Ne).sibling,Pe=ye.return;if(Qr(ye),ye===fe){Ne=null;break}if(ge!==null){ge.return=Pe,Ne=ge;break}Ne=Pe}}}var ze=C.alternate;if(ze!==null){var at=ze.child;if(at!==null){ze.child=null;do{var ve=at.sibling;at.sibling=null,at=ve}while(at!==null)}}Ne=C}}if(2064&C.subtreeFlags&&U!==null)U.return=C,Ne=U;else e:for(;Ne!==null;){if(2048&(C=Ne).flags)switch(C.tag){case 0:case 11:case 15:Qo(9,C,C.return)}var Z=C.sibling;if(Z!==null){Z.return=C.return,Ne=Z;break e}Ne=C.return}}var ue=l.current;for(Ne=ue;Ne!==null;){var Se=(U=Ne).child;if(2064&U.subtreeFlags&&Se!==null)Se.return=U,Ne=Se;else e:for(U=ue;Ne!==null;){if(2048&($=Ne).flags)try{switch($.tag){case 0:case 11:case 15:Ko(9,$)}}catch(vt){Ct($,$.return,vt)}if($===U){Ne=null;break e}var Qe=$.sibling;if(Qe!==null){Qe.return=$.return,Ne=Qe;break e}Ne=$.return}}if(ot=E,sn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Ua,l)}catch{}x=!0}return x}finally{ct=m,bt.transition=u}}return!1}function Gh(l,u,m){l=ni(l,u=gu(0,u=Wo(m,u),1),1),u=ur(),l!==null&&(So(l,1,u),Jr(l,u))}function Ct(l,u,m){if(l.tag===3)Gh(l,l,m);else for(;u!==null;){if(u.tag===3){Gh(u,l,m);break}if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(oi===null||!oi.has(x))){u=ni(u,l=bi(u,l=Wo(m,l),1),1),l=ur(),u!==null&&(So(u,1,l),Jr(u,l));break}}u=u.return}}function bu(l,u,m){var x=l.pingCache;x!==null&&x.delete(u),u=ur(),l.pingedLanes|=l.suspendedLanes&m,rr===l&&(Ot&m)===m&&(ir===4||ir===3&&(130023424&Ot)===Ot&&500>Nt()-Mi?Di(l,0):Mn|=m),Jr(l,u)}function Hh(l,u){u===0&&(1&l.mode?(u=Da,!(130023424&(Da<<=1))&&(Da=4194304)):u=1);var m=ur();(l=ri(l,u))!==null&&(So(l,u,m),Jr(l,m))}function jh(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),Hh(l,m)}function Xc(l,u){var m=0;switch(l.tag){case 13:var x=l.stateNode,E=l.memoizedState;E!==null&&(m=E.retryLane);break;case 19:x=l.stateNode;break;default:throw Error(a(314))}x!==null&&x.delete(u),Hh(l,m)}function Wh(l,u){return ti(l,u)}function $c(l,u,m,x){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(l,u,m,x){return new $c(l,u,m,x)}function ml(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Ni(l,u){var m=l.alternate;return m===null?((m=dn(l.tag,u,l.key,l.mode)).elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=14680064&l.flags,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function gl(l,u,m,x,E,C){var U=2;if(x=l,typeof l=="function")ml(l)&&(U=1);else if(typeof l=="string")U=5;else e:switch(l){case g:return ms(m.children,E,C,u);case y:U=8,E|=8;break;case w:return(l=dn(12,m,u,2|E)).elementType=w,l.lanes=C,l;case P:return(l=dn(13,m,u,E)).elementType=P,l.lanes=C,l;case T:return(l=dn(19,m,u,E)).elementType=T,l.lanes=C,l;case D:return Tu(m,E,C,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case _:U=10;break e;case A:U=9;break e;case b:U=11;break e;case R:U=14;break e;case F:U=16,x=null;break e}throw Error(a(130,l==null?l:typeof l,""))}return(u=dn(U,m,u,E)).elementType=l,u.type=x,u.lanes=C,u}function ms(l,u,m,x){return(l=dn(7,l,x,u)).lanes=m,l}function Tu(l,u,m,x){return(l=dn(22,l,x,u)).elementType=D,l.lanes=m,l.stateNode={isHidden:!1},l}function Cu(l,u,m){return(l=dn(6,l,null,u)).lanes=m,l}function Vh(l,u,m){return(u=dn(4,l.children!==null?l.children:[],l.key,u)).lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function Hf(l,u,m,x,E){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Te,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=x,this.onRecoverableError=E,je&&(this.mutableSourceEagerHydrationData=null)}function Xh(l,u,m,x,E,C,U,$,re){return l=new Hf(l,u,m,$,re),u===1?(u=1,C===!0&&(u|=8)):u=0,C=dn(3,null,null,u),l.current=C,C.stateNode=l,C.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},fh(C),l}function $h(l){if(!l)return pr;e:{if(J(l=l._reactInternals)!==l||l.tag!==1)throw Error(a(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Cr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(a(171))}if(l.tag===1){var m=l.type;if(Cr(m))return Ic(l,m,u)}return u}function Yh(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return(l=Ae(u))===null?null:l.stateNode}function yl(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Pu(l,u){yl(l,u),(l=l.alternate)&&yl(l,u)}function jf(l){return(l=Ae(l))===null?null:l.stateNode}function Wf(){return null}return Eu=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||Vr.current)Vt=!0;else{if(!(l.lanes&m)&&!(128&u.flags))return Vt=!1,function(Me,ge,Pe){switch(ge.tag){case 3:Ti(ge),Ro();break;case 5:Uc(ge);break;case 1:Cr(ge.type)&&Xl(ge);break;case 4:ru(ge,ge.stateNode.containerInfo);break;case 10:Dc(0,ge.type._context,ge.memoizedProps.value);break;case 13:var ze=ge.memoizedState;if(ze!==null)return ze.dehydrated!==null?(Pt(Wt,1&Wt.current),ge.flags|=128,null):Pe&ge.child.childLanes?Lr(Me,ge,Pe):(Pt(Wt,1&Wt.current),(Me=An(Me,ge,Pe))!==null?Me.sibling:null);Pt(Wt,1&Wt.current);break;case 19:if(ze=(Pe&ge.childLanes)!=0,(128&Me.flags)!=0){if(ze)return Nh(Me,ge,Pe);ge.flags|=128}var at=ge.memoizedState;if(at!==null&&(at.rendering=null,at.tail=null,at.lastEffect=null),Pt(Wt,Wt.current),ze)break;return null;case 22:case 23:return ge.lanes=0,Vo(Me,ge,Pe)}return An(Me,ge,Pe)}(l,u,m);Vt=(131072&l.flags)!=0}else Vt=!1,It&&1048576&u.flags&&za(u,Ws,u.index);switch(u.lanes=0,u.tag){case 2:var x=u.type;Sn(l,u),l=u.pendingProps;var E=vi(u,Tr.current);Mo(u,m),E=ou(null,u,x,l,E,m);var C=Oo();return u.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Cr(x)?(C=!0,Xl(u)):C=!1,u.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,fh(u),E.updater=Va,u.stateNode=E,E._reactInternals=u,gh(u,x,l,m),u=us(null,u,x,!0,C,m)):(u.tag=0,It&&C&&Po(u),Pr(null,u,E,m),u=u.child),u;case 16:x=u.elementType;e:{switch(Sn(l,u),l=u.pendingProps,x=(E=x._init)(x._payload),u.type=x,E=u.tag=function(Me){if(typeof Me=="function")return ml(Me)?1:0;if(Me!=null){if((Me=Me.$$typeof)===b)return 11;if(Me===R)return 14}return 2}(x),l=jn(x,l),E){case 0:u=Xo(null,u,x,l,m);break e;case 1:u=yu(null,u,x,l,m);break e;case 11:u=Gc(null,u,x,l,m);break e;case 14:u=Hc(null,u,x,jn(x.type,l),m);break e}throw Error(a(306,x,""))}return u;case 0:return x=u.type,E=u.pendingProps,Xo(l,u,x,E=u.elementType===x?E:jn(x,E),m);case 1:return x=u.type,E=u.pendingProps,yu(l,u,x,E=u.elementType===x?E:jn(x,E),m);case 3:e:{if(Ti(u),l===null)throw Error(a(387));x=u.pendingProps,E=(C=u.memoizedState).element,Fc(l,u),Wa(u,x,null,m);var U=u.memoizedState;if(x=U.element,je&&C.isDehydrated){if(C={element:x,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},u.updateQueue.baseState=C,u.memoizedState=C,256&u.flags){u=kt(l,u,x,m,E=Wo(Error(a(423)),u));break e}if(x!==E){u=kt(l,u,x,m,E=Wo(Error(a(424)),u));break e}for(je&&(yr=Gl(u.stateNode.containerInfo),Ft=u,It=!0,Hn=null,Ei=!1),m=$a(u,null,x,m),u.child=m;m;)m.flags=-3&m.flags|4096,m=m.sibling}else{if(Ro(),x===E){u=An(l,u,m);break e}Pr(l,u,x,m)}u=u.child}return u;case 5:return Uc(u),l===null&&Io(u),x=u.type,E=u.pendingProps,C=l!==null?l.memoizedProps:null,U=E.children,de(x,E)?U=null:C!==null&&de(x,C)&&(u.flags|=32),Qs(l,u),Pr(l,u,U,m),u.child;case 6:return l===null&&Io(u),null;case 13:return Lr(l,u,m);case 4:return ru(u,u.stateNode.containerInfo),x=u.pendingProps,l===null?u.child=Bo(u,null,x,m):Pr(l,u,x,m),u.child;case 11:return x=u.type,E=u.pendingProps,Gc(l,u,x,E=u.elementType===x?E:jn(x,E),m);case 7:return Pr(l,u,u.pendingProps,m),u.child;case 8:case 12:return Pr(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(x=u.type._context,E=u.pendingProps,C=u.memoizedProps,Dc(0,x,U=E.value),C!==null)if(vn(C.value,U)){if(C.children===E.children&&!Vr.current){u=An(l,u,m);break e}}else for((C=u.child)!==null&&(C.return=u);C!==null;){var $=C.dependencies;if($!==null){U=C.child;for(var re=$.firstContext;re!==null;){if(re.context===x){if(C.tag===1){(re=Si(-1,m&-m)).tag=2;var fe=C.updateQueue;if(fe!==null){var ye=(fe=fe.shared).pending;ye===null?re.next=re:(re.next=ye.next,ye.next=re),fe.pending=re}}C.lanes|=m,(re=C.alternate)!==null&&(re.lanes|=m),ch(C.return,m,u),$.lanes|=m;break}re=re.next}}else if(C.tag===10)U=C.type===u.type?null:C.child;else if(C.tag===18){if((U=C.return)===null)throw Error(a(341));U.lanes|=m,($=U.alternate)!==null&&($.lanes|=m),ch(U,m,u),U=C.sibling}else U=C.child;if(U!==null)U.return=C;else for(U=C;U!==null;){if(U===u){U=null;break}if((C=U.sibling)!==null){C.return=U.return,U=C;break}U=U.return}C=U}Pr(l,u,E.children,m),u=u.child}return u;case 9:return E=u.type,x=u.pendingProps.children,Mo(u,m),x=x(E=wn(E)),u.flags|=1,Pr(l,u,x,m),u.child;case 14:return E=jn(x=u.type,u.pendingProps),Hc(l,u,x,E=jn(x.type,E),m);case 15:return ls(l,u,u.type,u.pendingProps,m);case 17:return x=u.type,E=u.pendingProps,E=u.elementType===x?E:jn(x,E),Sn(l,u),u.tag=1,Cr(x)?(l=!0,Xl(u)):l=!1,Mo(u,m),Oc(u,x,E),gh(u,x,E,m),us(null,u,x,!0,l,m);case 19:return Nh(l,u,m);case 22:return Vo(l,u,m)}throw Error(a(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=ri(l,134217728);u!==null&&Rr(u,l,134217728,ur()),Pu(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=ri(l,1);u!==null&&Rr(u,l,1,ur()),Pu(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=Dn(l),m=ri(l,u);m!==null&&Rr(m,l,u,ur()),Pu(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=gt(u.pendingLanes);m!==0&&(Ba(u,1|m),Jr(u,Nt()),!(6&ot)&&(io(),sn()))}break;case 13:cn(function(){var x=ri(l,1);if(x!==null){var E=ur();Rr(x,l,1,E)}}),Pu(l,1)}},e.batchedUpdates=function(l,u){var m=ot;ot|=1;try{return l(u)}finally{(ot=m)===0&&(io(),Ji&&sn())}},e.createComponentSelector=function(l){return{$$typeof:Pi,value:l}},e.createContainer=function(l,u,m,x,E,C,U){return Xh(l,u,!1,null,0,x,0,C,U)},e.createHasPseudoClassSelector=function(l){return{$$typeof:al,value:l}},e.createHydrationContainer=function(l,u,m,x,E,C,U,$,re){return(l=Xh(m,x,!0,l,0,C,0,$,re)).context=$h(null),m=l.current,(C=Si(x=ur(),E=Dn(m))).callback=u??null,ni(m,C,E),l.current.lanes=E,So(l,E,x),Jr(l,x),l},e.createPortal=function(l,u,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:x==null?null:""+x,children:l,containerInfo:u,implementation:m}},e.createRoleSelector=function(l){return{$$typeof:Js,value:l}},e.createTestNameSelector=function(l){return{$$typeof:eo,value:l}},e.createTextSelector=function(l){return{$$typeof:Ii,value:l}},e.deferredUpdates=function(l){var u=ct,m=bt.transition;try{return bt.transition=null,ct=16,l()}finally{ct=u,bt.transition=m}},e.discreteUpdates=function(l,u,m,x,E){var C=ct,U=bt.transition;try{return bt.transition=null,ct=1,l(u,m,x,E)}finally{ct=C,bt.transition=U,ot===0&&io()}},e.findAllNodes=Zr,e.findBoundingRects=function(l,u){if(!Sr)throw Error(a(363));u=Zr(l,u),l=[];for(var m=0;m<u.length;m++)l.push(Sa(u[m]));for(u=l.length-1;0<u;u--)for(var x=(m=l[u]).x,E=x+m.width,C=m.y,U=C+m.height,$=u-1;0<=$;$--)if(u!==$){var re=l[$],fe=re.x,ye=fe+re.width,Me=re.y,ge=Me+re.height;if(x>=fe&&C>=Me&&E<=ye&&U<=ge){l.splice(u,1);break}if(!(x!==fe||m.width!==re.width||ge<C||Me>U)){Me>C&&(re.height+=Me-C,re.y=C),ge<U&&(re.height=U-Me),l.splice(u,1);break}if(!(C!==Me||m.height!==re.height||ye<x||fe>E)){fe>x&&(re.width+=fe-x,re.x=x),ye<E&&(re.width=E-fe),l.splice(u,1);break}}return l},e.findHostInstance=Yh,e.findHostInstanceWithNoPortals=function(l){return(l=(l=ce(l))!==null?q(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return Yh(l)},e.flushControlled=function(l){var u=ot;ot|=1;var m=bt.transition,x=ct;try{bt.transition=null,ct=1,l()}finally{ct=x,bt.transition=m,(ot=u)===0&&(io(),sn())}},e.flushPassiveEffects=qn,e.flushSync=cn,e.focusWithin=function(l,u){if(!Sr)throw Error(a(363));for(u=ro(l=ll(l),u),u=Array.from(u),l=0;l<u.length;){var m=u[l++];if(!Yi(m)){if(m.tag===5&&Aa(m.stateNode))return!0;for(m=m.child;m!==null;)u.push(m),m=m.sibling}}return!1},e.getCurrentUpdatePriority=function(){return ct},e.getFindAllNodesFailureDescription=function(l,u){if(!Sr)throw Error(a(363));var m=0,x=[];l=[ll(l),0];for(var E=0;E<l.length;){var C=l[E++],U=l[E++],$=u[U];if((C.tag!==5||!Yi(C))&&(ul(C,$)&&(x.push(hl($)),++U>m&&(m=U)),U<u.length))for(C=C.child;C!==null;)l.push(C,U),C=C.sibling}if(m<u.length){for(l=[];m<u.length;m++)l.push(hl(u[m]));return`findAllNodes was able to match part of the selector:
  `+x.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?N(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:jf,findFiberByHostInstance:l.findFiberByHostInstance||Wf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{Ua=u.inject(l),nn=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,m,x){if(!Sr)throw Error(a(363));l=Zr(l,u);var E=ba(l,m,x).disconnect;return{disconnect:function(){E()}}},e.registerMutableSourceForHydration=function(l,u){var m=u._getVersion;m=m(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,m]:l.mutableSourceEagerHydrationData.push(u,m)},e.runWithPriority=function(l,u){var m=ct;try{return ct=l,u()}finally{ct=m}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,m,x){var E=u.current,C=ur(),U=Dn(E);return m=$h(m),u.context===null?u.context=m:u.pendingContext=m,(u=Si(C,U)).payload={element:l},(x=x===void 0?null:x)!==null&&(u.callback=x),(l=ni(E,u,U))!==null&&(Rr(l,E,U,C),ns(l,E,U)),U},e}),Mv}({get exports(){return w0},set exports(i){w0=i}}).exports=eb();var tb=CA(w0),Sx={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},S0={},Dd={get exports(){return S0},set exports(i){S0=i}};(function(){var i,e,t,r,s,a;typeof performance<"u"&&performance!==null&&performance.now?Dd.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Dd.exports=function(){return(i()-s)/1e6},e=process.hrtime,r=(i=function(){var c;return 1e9*(c=e())[0]+c[1]})(),a=1e9*process.uptime(),s=r-a):Date.now?(Dd.exports=function(){return Date.now()-t},t=Date.now()):(Dd.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(TA);var Fv,Xu={},Tl={};({get exports(){return Xu},set exports(i){Xu=i}}).exports=(Fv||(Fv=1,Tl.ConcurrentRoot=1,Tl.ContinuousEventPriority=4,Tl.DefaultEventPriority=16,Tl.DiscreteEventPriority=1,Tl.IdleEventPriority=536870912,Tl.LegacyRoot=0),Tl);var rb={};function Um(i,e){i.addChild&&(i.addChild(e),typeof e.didMount=="function"&&e.didMount(e,i))}function Ax(i,e){var t,r,s;(t=i.willUnmount)===null||t===void 0||t.call(i,i,e),((r=i.config)===null||r===void 0?void 0:r.destroyChildren)!==!1&&(s=i.children)!==null&&s!==void 0&&s.length&&vo(i.children).forEach(function(a){Ax(a,i)})}function Bv(i,e){var t;Ax(e,i),i.removeChild(e);var r=(t=e.config)!==null&&t!==void 0?t:{},s=r.destroy,a=s===void 0||s,c=r.destroyChildren,d=c===void 0||c,p=r.destroyTexture,g=p!==void 0&&p,y=r.destroyBaseTexture,w=y!==void 0&&y;a&&e.destroy({children:d,texture:g,baseTexture:w})}function Ov(i,e,t){var r,s;or(e!==t,"Cannot insert node before itself"),i.children.indexOf(e)!==-1&&i.removeChild(e);var a=i.getChildIndex(t);i.addChildAt(e,a),(r=i.__reactpixi)===null||r===void 0||(s=r.root)===null||s===void 0||s.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var Lv=null,Wi=tb({getRootHostContext:function(){return rb},getChildHostContext:function(i){return i},getChildHostContextForEventComponent:function(i){return i},getPublicInstance:function(i){return i},getCurrentEventPriority:function(){return function(){var i,e;if(typeof window>"u")return Xu.DefaultEventPriority;switch((i=window)===null||i===void 0||(e=i.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Xu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Xu.ContinuousEventPriority;default:return Xu.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(i){var e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=QA[i];if(typeof a=="function"&&(e=a(s,r)),!e){var c=Ex[i];c&&((e=c.create(r,{root:s})).didMount=c.didMount?c.didMount.bind(e):void 0,e.willUnmount=c.willUnmount?c.willUnmount.bind(e):void 0,e.applyProps=c.applyProps?c.applyProps.bind(e):void 0,e.config=c.config)}return e&&(e.__reactpixi={root:s},(typeof((t=e)===null||t===void 0?void 0:t.applyProps)=="function"?e.applyProps:Is)(e,{},r)),e},hideInstance:function(i){i.visible=!1},unhideInstance:function(i,e){var t=e==null||!e.hasOwnProperty("visible")||e.visible;i.visible=t},finalizeInitialChildren:function(i,e,t){return!1},prepareUpdate:function(i,e,t,r,s,a){return Lv=function(c,d,p,g){var y=null;for(var w in p)!g.hasOwnProperty(w)&&p.hasOwnProperty(w)&&p[w]!==null&&(w===x0||(y||(y=[]),y.push(w,null)));for(var _ in g){var A=g[_],b=p!==null?p[_]:void 0;!g.hasOwnProperty(_)||A===b||A===null&&b===null||_===x0||(y||(y=[]),y.push(_,A))}return y}(0,0,t,r)},shouldSetTextContent:function(i,e){return!1},shouldDeprioritizeSubtree:function(i,e){var t=e.alpha===void 0||e.alpha>0,r=e.renderable===void 0||e.renderable===!0,s=e.visible===void 0||e.visible===!0;return!(t&&r&&s)},createTextInstance:function(i,e,t){or(!1,'Error trying to add text node "'.concat(i,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(i,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:S0,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=Um.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),a},appendChild:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=Um.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),a},appendChildToContainer:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=Um.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),a},removeChild:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=Bv.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),a},removeChildFromContainer:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=Bv.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),a},insertBefore:Ov,insertInContainerBefore:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=Ov.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),a},commitUpdate:function(i,e,t,r,s){var a,c,d=i&&i.applyProps;typeof d!="function"&&(d=Is),(d(i,r,s)||Lv)&&((a=i.__reactpixi)===null||a===void 0||(c=a.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(i,e,t,r,s){},commitTextUpdate:function(i,e,t){},resetTextContent:function(i){},clearContainer:function(i){},getFundamentalComponentInstance:function(i){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(i){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(i){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(i){throw new Error("Not yet implemented.")},getInstanceFromNode:function(i){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(i){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(i){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(i){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(i){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(i){}}),nb=Sx.dependencies["react-dom"].replace(/[^0-9.]/g,""),ib=Sx.name;Wi.injectIntoDevTools({bundleType:0,version:nb,rendererPackageName:ib,findHostInstanceByFiber:Wi.findHostInstance});var ya=new Map;function bx(i){if(or(mn.prototype.isPrototypeOf(i),"Invalid argument `container`, expected instance of `Container`."),ya.has(i)){var e=ya.get(i).pixiFiberContainer;Wi.updateContainer(null,e,void 0,function(){ya.delete(i)})}}function Tx(i){or(mn.prototype.isPrototypeOf(i),"Invalid argument `container`, expected instance of `Container`.");var e=ya.get(i);if(or(!e,"createRoot should only be called once"),!e){var t=Wi.createContainer(i);e={pixiFiberContainer:t,reactRoot:{render:function(r){return Wi.updateContainer(r,t,void 0),Wi.getPublicRootInstance(t)},unmount:function(){bx(i),ya.delete(i)}}},ya.set(i,e)}return e.reactRoot}function sb(i,e,t){var r;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),t!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),ya.has(e)?r=ya.get(e).reactRoot:r=Tx(e),r.render(i)}function ob(i){bx(i)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Sc.apply(this,arguments)}function ab(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function lb(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,xx(r.key),r)}}function co(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function pf(i,e){return pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},pf(i,e)}function ub(i,e){if(e&&(Zn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return co(i)}function mf(i){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mf(i)}var Mf=As.createContext(null),Cx=Mf.Provider,Px=Mf.Consumer,hb=function(i){var e=As.forwardRef(function(t,r){return As.createElement(Px,null,function(s){return As.createElement(i,Sc({},t,{ref:r,app:s}))})});return e.displayName="withPIXIApp(".concat(i.displayName||i.name,")"),e};function cb(i){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=mf(i);if(e){var s=mf(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return ub(this,t)}}function Uv(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function Nd(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Uv(Object(t),!0).forEach(function(r){dr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Uv(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var zv=function(){},Ix={width:Gt.number,height:Gt.number,onMount:Gt.func,onUnmount:Gt.func,raf:Gt.bool,renderOnComponentChange:Gt.bool,children:Gt.node,options:Gt.shape({autoStart:Gt.bool,width:Gt.number,height:Gt.number,useContextAlpha:Gt.bool,backgroundAlpha:Gt.number,autoDensity:Gt.bool,antialias:Gt.bool,preserveDrawingBuffer:Gt.bool,resolution:Gt.number,forceCanvas:Gt.bool,backgroundColor:Gt.number,clearBeforeRender:Gt.bool,powerPreference:Gt.string,sharedTicker:Gt.bool,sharedLoader:Gt.bool,resizeTo:function(i,e){var t=i[e];t&&or(t===window||t instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Zn(t),", expect `window` or an `HTMLElement`."))},view:function(i,e,t){var r=i[e];r&&or(r instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Zn(r),", supplied to ").concat(t,", expected `<canvas> Element`"))}})},db={width:800,height:600,onMount:zv,onUnmount:zv,raf:!0,renderOnComponentChange:!0},A0=function(i){(function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),c&&pf(a,c)})(s,As.Component);var e,t,r=cb(s);function s(){var a;ab(this,s);for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];return dr(co(a=r.call.apply(r,[this].concat(d))),"_canvas",null),dr(co(a),"_mediaQuery",null),dr(co(a),"_ticker",null),dr(co(a),"_needsUpdate",!0),dr(co(a),"app",null),dr(co(a),"updateSize",function(){var g=a.props,y=g.width,w=g.height,_=g.options;_!=null&&_.resolution||(a.app.renderer.resolution=window.devicePixelRatio,a.resetInteractionManager()),a.app.renderer.resize(y,w)}),dr(co(a),"needsRenderUpdate",function(){a._needsUpdate=!0}),dr(co(a),"renderStage",function(){var g=a.props,y=g.renderOnComponentChange;!g.raf&&y&&a._needsUpdate&&(a._needsUpdate=!1,a.app.renderer.render(a.app.stage))}),a}return e=s,(t=[{key:"componentDidMount",value:function(){var a=this.props,c=a.onMount,d=a.width,p=a.height,g=a.options,y=a.raf,w=a.renderOnComponentChange;this.app=new kf(Nd(Nd({width:d,height:p,view:this._canvas},g),{},{autoDensity:(g==null?void 0:g.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[y?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Wi.createContainer(this.app.stage),Wi.updateContainer(this.getChildren(),this.mountNode,this),c(this.app),g!=null&&g.autoDensity&&window.matchMedia&&(g==null?void 0:g.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),w&&!y&&(this._ticker=new Nr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(a,c,d){var p,g=this.props,y=g.width,w=g.height,_=g.raf,A=g.renderOnComponentChange,b=g.options;(b==null?void 0:b.resolution)!==void 0&&(a==null?void 0:a.options.resolution)!==(b==null?void 0:b.resolution)&&(this.app.renderer.resolution=b.resolution,this.resetInteractionManager()),a.height===w&&a.width===y&&((p=a.options)===null||p===void 0?void 0:p.resolution)===(b==null?void 0:b.resolution)||this.updateSize(),a.raf!==_&&this.app.ticker[_?"start":"stop"](),Wi.updateContainer(this.getChildren(),this.mountNode,this),a.width===y&&a.height===w&&a.raf===_&&a.renderOnComponentChange===A&&a.options===b||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var a=this.app.renderer.plugins.interaction;a!=null&&a.resolution&&(a.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var a=this.props.children;return As.createElement(Cx,{value:this.app},a)}},{key:"componentDidCatch",value:function(a,c){console.error("Error occurred in `Stage`."),console.error(a),console.error(c)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Wi.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var a,c,d=this,p=this.props.options;return p&&p.view?(or(p.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):As.createElement("canvas",Sc({},(a=this.props,c=[].concat(vo(Object.keys(Ix)),vo(Object.keys(_0))),Object.keys(a).filter(function(g){return!c.includes(g)}).reduce(function(g,y){return Nd(Nd({},g),{},dr({},y,a[y]))},{})),{ref:function(g){return d._canvas=g}}))}}])&&lb(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),s}();A0.propTypes=Ix,A0.defaultProps=db;var fb=A0;function Rx(){var i=Ce.useContext(Mf);return or(i instanceof kf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),i}function pb(i){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=Rx();or(typeof i=="function","`useTick` needs a callback function."),or(t instanceof kf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var r=Ce.useRef(null);Ce.useEffect(function(){r.current=i},[i]),Ce.useEffect(function(){if(e){var s=function(a){return r.current.apply(t.ticker,[a,t.ticker])};return t.ticker.add(s),function(){t.ticker&&t.ticker.remove(s)}}},[e])}function mb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b0(i,e,t){return b0=mb()?Reflect.construct.bind():function(r,s,a){var c=[null];c.push.apply(c,s);var d=new(Function.bind.apply(r,c));return a&&pf(d,a.prototype),d},b0.apply(null,arguments)}var gb=["children","apply"];function Gv(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function Fd(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gv(Object(t),!0).forEach(function(r){dr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Gv(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var yb=function(i,e){or(Zn(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var t=Object.keys(e),r=function(s){var a=s.children,c=s.apply,d=Ea(s,gb),p=Ce.useRef(Ce.useMemo(function(){return t.map(function(w){var _,A=(d==null||(_=d[w])===null||_===void 0?void 0:_.construct)||[];return b0(e[w],vo(A))})},[t])),g=Ce.useMemo(function(){return t.reduce(function(w,_,A){return Fd(Fd({},w),{},dr({},_,p.current[A]))},{})},[t]),y=Ce.useMemo(function(){return Object.keys(d).filter(wx(_x(t))).reduce(function(w,_){return Fd(Fd({},w),{},dr({},_,d[_]))},{})},[d,t]);return t.forEach(function(w,_){return Object.assign(p.current[_],d[w])}),c&&function(){for(var w=arguments.length,_=new Array(w),A=0;A<w;A++)_[A]=arguments[A];return _.every(function(b){return typeof b=="function"})}(c)&&c.call(i,g),As.createElement(i,Sc({},y,{filters:p.current}),a)};return r.displayName="FilterWrapper",r.propTypes={children:Gt.node,apply:Gt.func},r},vb=Ln.BitmapText,xb=Ln.Container,_b=Ln.Graphics,wb=Ln.NineSlicePlane,Eb=Ln.ParticleContainer,Sb=Ln.Sprite,Ab=Ln.AnimatedSprite,bb=Ln.Text,Tb=Ln.TilingSprite,Cb=Ln.SimpleMesh,Pb=Ln.SimpleRope;const Ib=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:Ab,AppConsumer:Px,AppContext:Mf,AppProvider:Cx,BitmapText:vb,Container:xb,Graphics:_b,NineSlicePlane:wb,ParticleContainer:Eb,PixiComponent:KA,PixiFiber:Wi,SimpleMesh:Cb,SimpleRope:Pb,Sprite:Sb,Stage:fb,TYPES:Ln,Text:bb,TilingSprite:Tb,applyDefaultProps:Is,createRoot:Tx,eventHandlers:ff,render:sb,unmountComponentAtNode:ob,useApp:Rx,useTick:pb,withFilters:yb,withPixiApp:hb},Symbol.toStringTag,{value:"Module"})),Rb=n1(Ib);var Hv;function kb(){return Hv||(Hv=1,gc.exports=Rb),gc.exports}var jt=kb();let kx=2.5;const Kd=960*kx,Zd=480*kx,Mb="/assets/map-CoMBwYfU.png",Mx=new Ht;$t.prototype._cacheAsBitmap=!1;$t.prototype._cacheData=null;$t.prototype._cacheAsBitmapResolution=null;$t.prototype._cacheAsBitmapMultisample=null;class Db{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties($t.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(i){i!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=i,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(i){i!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=i,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(i){if(this._cacheAsBitmap===i)return;this._cacheAsBitmap=i;let e;i?(this._cacheData||(this._cacheData=new Db),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});$t.prototype._renderCached=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(i),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(i))};$t.prototype._initCachedDisplayObject=function(i){var _,A;if((_=this._cacheData)!=null&&_.sprite)return;const e=this.alpha;this.alpha=1,i.batch.flush();const t=this.getLocalBounds(new rt,!0);if((A=this.filters)!=null&&A.length){const b=this.filters[0].padding;t.pad(b)}const r=this.cacheAsBitmapResolution||i.resolution;t.ceil(r),t.width=Math.max(t.width,1/r),t.height=Math.max(t.height,1/r);const s=i.renderTexture.current,a=i.renderTexture.sourceFrame.clone(),c=i.renderTexture.destinationFrame.clone(),d=i.projection.transform,p=Ll.create({width:t.width,height:t.height,resolution:r,multisample:this.cacheAsBitmapMultisample??i.multisample}),g=`cacheAsBitmap_${Bl()}`;this._cacheData.textureCacheId=g,it.addToCache(p.baseTexture,g),ke.addToCache(p,g);const y=this.transform.localTransform.copyTo(Mx).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,i.render(this,{renderTexture:p,clear:!0,transform:y,skipUpdateTransform:!1}),i.framebuffer.blit(),i.projection.transform=d,i.renderTexture.bind(s,a,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const w=new ks(p);w.transform.worldTransform=this.transform.worldTransform,w.anchor.x=-(t.x/t.width),w.anchor.y=-(t.y/t.height),w.alpha=e,w._bounds=this._bounds,this._cacheData.sprite=w,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=w.containsPoint.bind(w)};$t.prototype._renderCachedCanvas=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(i),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(i))};$t.prototype._initCachedDisplayObjectCanvas=function(i){var y;if((y=this._cacheData)!=null&&y.sprite)return;const e=this.getLocalBounds(new rt,!0),t=this.alpha;this.alpha=1;const r=i.canvasContext.activeContext,s=i._projTransform,a=this.cacheAsBitmapResolution||i.resolution;e.ceil(a),e.width=Math.max(e.width,1/a),e.height=Math.max(e.height,1/a);const c=Ll.create({width:e.width,height:e.height,resolution:a}),d=`cacheAsBitmap_${Bl()}`;this._cacheData.textureCacheId=d,it.addToCache(c.baseTexture,d),ke.addToCache(c,d);const p=Mx;this.transform.localTransform.copyTo(p),p.invert(),p.tx-=e.x,p.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,i.render(this,{renderTexture:c,clear:!0,transform:p,skipUpdateTransform:!1}),i.canvasContext.activeContext=r,i._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const g=new ks(c);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(e.x/e.width),g.anchor.y=-(e.y/e.height),g.alpha=t,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=i._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=g.containsPoint.bind(g)};$t.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};$t.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};$t.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,it.removeFromCache(this._cacheData.textureCacheId),ke.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};$t.prototype._cacheAsBitmapDestroy=function(i){this.cacheAsBitmap=!1,this.destroy(i)};$t.prototype.name=null;mn.prototype.getChildByName=function(i,e){for(let t=0,r=this.children.length;t<r;t++)if(this.children[t].name===i)return this.children[t];if(e)for(let t=0,r=this.children.length;t<r;t++){const s=this.children[t];if(!s.getChildByName)continue;const a=s.getChildByName(i,!0);if(a)return a}return null};$t.prototype.getGlobalPosition=function(i=new ft,e=!1){return this.parent?this.parent.toGlobal(this.position,i,e):(i.x=this.position.x,i.y=this.position.y),i};var Nb=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class Fb extends pn{constructor(e=1){super(VE,Nb,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const Bb={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Ob=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function Lb(i){const e=Bb[i],t=e.length;let r=Ob,s="";const a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let c;for(let d=0;d<i;d++){let p=a.replace("%index%",d.toString());c=d,d>=t&&(c=i-d-1),p=p.replace("%value%",e[c].toString()),s+=p,s+=`
`}return r=r.replace("%blur%",s),r=r.replace("%size%",i.toString()),r}const Ub=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function zb(i,e){const t=Math.ceil(i/2);let r=Ub,s="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let c=0;c<i;c++){let d=a.replace("%index%",c.toString());d=d.replace("%sampleIndex%",`${c-(t-1)}.0`),s+=d,s+=`
`}return r=r.replace("%blur%",s),r=r.replace("%size%",i.toString()),r}class T0 extends pn{constructor(e,t=8,r=4,s=pn.defaultResolution,a=5){const c=zb(a,e),d=Lb(a);super(c,d),this.horizontal=e,this.resolution=s,this._quality=0,this.quality=r,this.blur=t}apply(e,t,r,s){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,r,s);else{const a=e.getFilterTexture(),c=e.renderer;let d=t,p=a;this.state.blend=!1,e.applyFilter(this,d,p,Es.CLEAR);for(let g=1;g<this.passes-1;g++){e.bindAndClear(d,Es.BLIT),this.uniforms.uSampler=p;const y=p;p=d,d=y,c.shader.bind(this),c.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,p,r,s),e.returnFilterTexture(a)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class Gb extends pn{constructor(e=8,t=4,r=pn.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new T0(!0,e,t,r,s),this.blurYFilter=new T0(!1,e,t,r,s),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,r,s){const a=Math.abs(this.blurXFilter.strength),c=Math.abs(this.blurYFilter.strength);if(a&&c){const d=e.getFilterTexture();this.blurXFilter.apply(e,t,d,Es.CLEAR),this.blurYFilter.apply(e,d,r,s),e.returnFilterTexture(d)}else c?this.blurYFilter.apply(e,t,r,s):this.blurXFilter.apply(e,t,r,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var Hb=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class C0 extends pn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Y1,Hb,e),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}tint(e,t){const[r,s,a]=zt.shared.setValue(e).toArray(),c=[r,0,0,0,0,0,s,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(c,t)}greyscale(e,t){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const r=Math.cos(e),s=Math.sin(e),a=Math.sqrt,c=1/3,d=a(c),p=r+(1-r)*c,g=c*(1-r)-d*s,y=c*(1-r)+d*s,w=c*(1-r)+d*s,_=r+c*(1-r),A=c*(1-r)-d*s,b=c*(1-r)-d*s,P=c*(1-r)+d*s,T=r+c*(1-r),R=[p,g,y,0,0,w,_,A,0,0,b,P,T,0,0,0,0,0,1,0];this._loadMatrix(R,t)}contrast(e,t){const r=(e||0)+1,s=-.5*(r-1),a=[r,0,0,0,s,0,r,0,0,s,0,0,r,0,s,0,0,0,1,0];this._loadMatrix(a,t)}saturate(e=0,t){const r=e*2/3+1,s=(r-1)*-.5,a=[r,s,s,0,0,s,r,s,0,0,s,s,r,0,0,0,0,0,1,0];this._loadMatrix(a,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,r,s,a){e=e||.2,t=t||.15,r=r||16770432,s=s||3375104;const c=zt.shared,[d,p,g]=c.setValue(r).toArray(),[y,w,_]=c.setValue(s).toArray(),A=[.3,.59,.11,0,0,d,p,g,e,0,y,w,_,t,0,d-y,p-w,g-_,0,0];this._loadMatrix(A,a)}night(e,t){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}C0.prototype.grayscale=C0.prototype.greyscale;var jb=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,Wb=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class Vb extends pn{constructor(e,t){const r=new Ht;e.renderable=!1,super(Wb,jb,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,t==null&&(t=20),this.scale=new ft(t,t)}apply(e,t,r,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const a=this.maskSprite.worldTransform,c=Math.sqrt(a.a*a.a+a.b*a.b),d=Math.sqrt(a.c*a.c+a.d*a.d);c!==0&&d!==0&&(this.uniforms.rotation[0]=a.a/c,this.uniforms.rotation[1]=a.b/c,this.uniforms.rotation[2]=a.c/d,this.uniforms.rotation[3]=a.d/d),e.applyFilter(this,t,r,s)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var Xb=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,$b=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class Yb extends pn{constructor(){super($b,Xb)}}var qb=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class Qb extends pn{constructor(e=.5,t=Math.random()){super(Y1,qb,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const jv={AlphaFilter:Fb,BlurFilter:Gb,BlurFilterPass:T0,ColorMatrixFilter:C0,DisplacementFilter:Vb,FXAAFilter:Yb,NoiseFilter:Qb};Object.entries(jv).forEach(([i,e])=>{Object.defineProperty(jv,i,{get(){return dt("7.1.0",`filters.${i} has moved to ${i}`),e}})});class Kb{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Nr.system.add(this.tickerUpdate,this,xa.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Nr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const pa=new Kb;class Cc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Cc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ft,this.page=new ft,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,s,a){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class gf extends Cc{constructor(){super(...arguments),this.client=new ft,this.movement=new ft,this.offset=new ft,this.global=new ft,this.screen=new ft}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,s,a,c,d,p,g,y,w,_,A,b,P){throw new Error("Method not implemented.")}}class Gi extends gf{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Zu extends gf{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Zu.DOM_DELTA_PIXEL=0,Zu.DOM_DELTA_LINE=1,Zu.DOM_DELTA_PAGE=2;const Zb=2048,Jb=new ft,zm=new ft;class eT{constructor(e){this.dispatch=new bc,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((r,s)=>r.priority-s.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let r=0,s=t.length;r<s;r++)t[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){pa.pauseUpdate=!0;const r=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[r](this.rootTarget,this.rootTarget.eventMode,Jb.set(e,t),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,t){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let s=0,a=r.length-1;s<a;s++)if(e.currentTarget=r[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let s=r.length-2;s>=0;s--)if(e.currentTarget=r[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,r=this._allInteractiveElements){if(r.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const s=Array.isArray(t)?t:[t];for(let a=r.length-1;a>=0;a--)s.forEach(c=>{e.currentTarget=r[a],this.notifyTarget(e,c)})}propagationPath(e){const t=[e];for(let r=0;r<Zb&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,r,s,a,c=!1){let d=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(pa.pauseUpdate=!1),e.interactiveChildren&&e.children){const y=e.children;for(let w=y.length-1;w>=0;w--){const _=y[w],A=this.hitTestMoveRecursive(_,this._isInteractive(t)?t:_.eventMode,r,s,a,c||a(e,r));if(A){if(A.length>0&&!A[A.length-1].parent)continue;const b=e.isInteractive();(A.length>0||b)&&(b&&this._allInteractiveElements.push(e),A.push(e)),this._hitElements.length===0&&(this._hitElements=A),d=!0}}}const p=this._isInteractive(t),g=e.isInteractive();return p&&g&&this._allInteractiveElements.push(e),c||this._hitElements.length>0?null:d?this._hitElements:p&&!a(e,r)&&s(e,r)?g?[e]:[]:null}hitTestRecursive(e,t,r,s,a){if(this._interactivePrune(e)||a(e,r))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(pa.pauseUpdate=!1),e.interactiveChildren&&e.children){const p=e.children;for(let g=p.length-1;g>=0;g--){const y=p[g],w=this.hitTestRecursive(y,this._isInteractive(t)?t:y.eventMode,r,s,a);if(w){if(w.length>0&&!w[w.length-1].parent)continue;const _=e.isInteractive();return(w.length>0||_)&&w.push(e),w}}}const c=this._isInteractive(t),d=e.isInteractive();return c&&s(e,r)?d?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){var r;if(e.hitArea&&(e.worldTransform.applyInverse(t,zm),!e.hitArea.contains(zm.x,zm.y)))return!0;if(e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;if(s&&!((r=s.containsPoint)!=null&&r.call(s,t)))return!0}return!1}hitTestFn(e,t){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){var a,c;t=t??e.type;const r=`on${t}`;(c=(a=e.currentTarget)[r])==null||c.call(a,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof Gi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const s=t.button===2;this.dispatchEvent(t,s?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var p,g;if(!(e instanceof Gi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const r=t.pointerType==="mouse"||t.pointerType==="pen",s=this.trackingData(e.pointerId),a=this.findMountedTarget(s.overTargets);if(((p=s.overTargets)==null?void 0:p.length)>0&&a!==t.target){const y=e.type==="mousemove"?"mouseout":"pointerout",w=this.createPointerEvent(e,y,a);if(this.dispatchEvent(w,"pointerout"),r&&this.dispatchEvent(w,"mouseout"),!t.composedPath().includes(a)){const _=this.createPointerEvent(e,"pointerleave",a);for(_.eventPhase=_.AT_TARGET;_.target&&!t.composedPath().includes(_.target);)_.currentTarget=_.target,this.notifyTarget(_),r&&this.notifyTarget(_,"mouseleave"),_.target=_.target.parent;this.freeEvent(_)}this.freeEvent(w)}if(a!==t.target){const y=e.type==="mousemove"?"mouseover":"pointerover",w=this.clonePointerEvent(t,y);this.dispatchEvent(w,"pointerover"),r&&this.dispatchEvent(w,"mouseover");let _=a==null?void 0:a.parent;for(;_&&_!==this.rootTarget.parent&&_!==t.target;)_=_.parent;if(!_||_===this.rootTarget.parent){const A=this.clonePointerEvent(t,"pointerenter");for(A.eventPhase=A.AT_TARGET;A.target&&A.target!==a&&A.target!==this.rootTarget.parent;)A.currentTarget=A.target,this.notifyTarget(A),r&&this.notifyTarget(A,"mouseenter"),A.target=A.target.parent;this.freeEvent(A)}this.freeEvent(w)}const c=[],d=this.enableGlobalMoveEvents??!0;this.moveOnAll?c.push("pointermove"):this.dispatchEvent(t,"pointermove"),d&&c.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?c.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),d&&c.push("globaltouchmove")),r&&(this.moveOnAll?c.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),d&&c.push("globalmousemove"),this.cursor=(g=t.target)==null?void 0:g.cursor),c.length>0&&this.all(t,c),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var c;if(!(e instanceof Gi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.createPointerEvent(e),s=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),s&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(c=r.target)==null?void 0:c.cursor);const a=this.clonePointerEvent(r,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),s&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;t.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(a)}mapPointerOut(e){if(!(e instanceof Gi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",s=this.findMountedTarget(t.overTargets),a=this.createPointerEvent(e,"pointerout",s);this.dispatchEvent(a),r&&this.dispatchEvent(a,"mouseout");const c=this.createPointerEvent(e,"pointerleave",s);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==this.rootTarget.parent;)c.currentTarget=c.target,this.notifyTarget(c),r&&this.notifyTarget(c,"mouseleave"),c.target=c.target.parent;t.overTargets=null,this.freeEvent(a),this.freeEvent(c)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Gi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const d=r.button===2;this.dispatchEvent(r,d?"rightup":"mouseup")}const s=this.trackingData(e.pointerId),a=this.findMountedTarget(s.pressTargetsByButton[e.button]);let c=a;if(a&&!r.composedPath().includes(a)){let d=a;for(;d&&!r.composedPath().includes(d);){if(r.currentTarget=d,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const p=r.button===2;this.notifyTarget(r,p?"rightupoutside":"mouseupoutside")}d=d.parent}delete s.pressTargetsByButton[e.button],c=d}if(c){const d=this.clonePointerEvent(r,"click");d.target=c,d.path=null,s.clicksByButton[e.button]||(s.clicksByButton[e.button]={clickCount:0,target:d.target,timeStamp:t});const p=s.clicksByButton[e.button];if(p.target===d.target&&t-p.timeStamp<200?++p.clickCount:p.clickCount=1,p.target=d.target,p.timeStamp=t,d.detail=p.clickCount,d.pointerType==="mouse"){const g=d.button===2;this.dispatchEvent(d,g?"rightclick":"click")}else d.pointerType==="touch"&&this.dispatchEvent(d,"tap");this.dispatchEvent(d,"pointertap"),this.freeEvent(d)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof Gi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),s=this.createPointerEvent(e);if(r){let a=r;for(;a;)s.currentTarget=a,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),a=a.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(s)}mapWheel(e){if(!(e instanceof Zu)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){const s=this.allocateEvent(Gi);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=r??this.hitTest(s.global.x,s.global.y)??this._hitElements[0],typeof t=="string"&&(s.type=t),s}createWheelEvent(e){const t=this.allocateEvent(Zu);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const r=this.allocateEvent(Gi);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof Gi&&t instanceof Gi&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof gf&&t instanceof gf&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const r=e.currentTarget._events[t];if(r&&e.currentTarget.isInteractive())if("fn"in r)r.once&&e.currentTarget.removeListener(t,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let s=0,a=r.length;s<a&&!e.propagationImmediatelyStopped;s++)r[s].once&&e.currentTarget.removeListener(t,r[s].fn,void 0,!0),r[s].fn.call(r[s].context,e)}}const tT=1,rT={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},P0=class I0{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new eT(null),pa.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Gi(null),this.rootWheelEvent=new Zu(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...I0.defaultEventFeatures},{set:(t,r,s)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),t[r]=s,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:r}=this.renderer;this.setTargetElement(t),this.resolution=r,I0._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,s=t.length;r<s;r++){const a=t[r],c=this.bootstrapEvent(this.rootPointerEvent,a);this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,pa.pointerMoved();const t=this.normalizeToPointerData(e);for(let r=0,s=t.length;r<s;r++){const a=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const r=t!==this.domElement?"outside":"",s=this.normalizeToPointerData(e);for(let a=0,c=s.length;a<c;a++){const d=this.bootstrapEvent(this.rootPointerEvent,s[a]);d.type+=r,this.rootBoundary.mapEvent(d)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let r=0,s=t.length;r<s;r++){const a=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,pa.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;pa.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;pa.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},a=1/this.resolution;e.x=(t-s.left)*(this.domElement.width/s.width)*a,e.y=(r-s.top)*(this.domElement.height/s.height)*a}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,s=e.changedTouches.length;r<s;r++){const a=e.changedTouches[r];typeof a.button>"u"&&(a.button=0),typeof a.buttons>"u"&&(a.buttons=1),typeof a.isPrimary>"u"&&(a.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,a.type=e.type,t.push(a)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=tT),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=rT[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};P0.extension={name:"events",type:[De.RendererSystem,De.CanvasRendererSystem]},P0.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let R0=P0;Ve.add(R0);function Wv(i){return i==="dynamic"||i==="static"}const nT={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??Wv(R0.defaultEventMode)},set interactive(i){dt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=i,this.eventMode=i?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??R0.defaultEventMode},set eventMode(i){this._internalInteractive=Wv(i),this._internalEventMode=i},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(i,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,s=typeof t=="object"?t.signal:void 0,a=typeof t=="object"?t.once===!0:!1,c=typeof e=="function"?void 0:e;i=r?`${i}capture`:i;const d=typeof e=="function"?e:e.handleEvent,p=this;s&&s.addEventListener("abort",()=>{p.off(i,d,c)}),a?p.once(i,d,c):p.on(i,d,c)},removeEventListener(i,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,s=typeof e=="function"?void 0:e;i=r?`${i}capture`:i,e=typeof e=="function"?e:e.handleEvent,this.off(i,e,s)},dispatchEvent(i){if(!(i instanceof Cc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return i.defaultPrevented=!1,i.path=null,i.target=this,i.manager.dispatchEvent(i),!i.defaultPrevented}};$t.mixin(nT);const iT={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};$t.mixin(iT);const sT=9,Bd=100,oT=0,aT=0,Vv=2,Xv=1,lT=-1e3,uT=-1e3,hT=2;class Dx{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(fo.tablet||fo.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${Bd}px`,t.style.height=`${Bd}px`,t.style.position="absolute",t.style.top=`${oT}px`,t.style.left=`${aT}px`,t.style.zIndex=Vv.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${Xv}px`,e.style.height=`${Xv}px`,e.style.position="absolute",e.style.top=`${lT}px`,e.style.left=`${uT}px`,e.style.zIndex=hT.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}update(){const e=performance.now();if(fo.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:r,width:s,height:a}=this.renderer.view.getBoundingClientRect(),{width:c,height:d,resolution:p}=this.renderer,g=s/c*p,y=a/d*p;let w=this.div;w.style.left=`${t}px`,w.style.top=`${r}px`,w.style.width=`${c}px`,w.style.height=`${d}px`;for(let _=0;_<this.children.length;_++){const A=this.children[_];if(A.renderId!==this.renderId)A._accessibleActive=!1,Yu(this.children,_,1),this.div.removeChild(A._accessibleDiv),this.pool.push(A._accessibleDiv),A._accessibleDiv=null,_--;else{w=A._accessibleDiv;let b=A.hitArea;const P=A.worldTransform;A.hitArea?(w.style.left=`${(P.tx+b.x*P.a)*g}px`,w.style.top=`${(P.ty+b.y*P.d)*y}px`,w.style.width=`${b.width*P.a*g}px`,w.style.height=`${b.height*P.d*y}px`):(b=A.getBounds(),this.capHitArea(b),w.style.left=`${b.x*g}px`,w.style.top=`${b.y*y}px`,w.style.width=`${b.width*g}px`,w.style.height=`${b.height*y}px`,w.title!==A.accessibleTitle&&A.accessibleTitle!==null&&(w.title=A.accessibleTitle),w.getAttribute("aria-label")!==A.accessibleHint&&A.accessibleHint!==null&&w.setAttribute("aria-label",A.accessibleHint)),(A.accessibleTitle!==w.title||A.tabIndex!==w.tabIndex)&&(w.title=A.accessibleTitle,w.tabIndex=A.tabIndex,this.debug&&this.updateDebugHTML(w))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${Bd}px`,t.style.height=`${Bd}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=Vv.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:r}=e.target,s=this.renderer.events.rootBoundary,a=Object.assign(new Cc(s),{target:r});s.rootTarget=this.renderer.lastObjectRendered,t.forEach(c=>s.dispatchEvent(a,c))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===sT&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Dx.extension={name:"accessibility",type:[De.RendererPlugin,De.CanvasRendererPlugin]};Ve.add(Dx);var Gr=(i=>(i[i.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",i[i.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",i[i.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",i[i.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",i[i.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",i[i.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",i[i.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",i[i.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",i[i.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",i[i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",i[i.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",i[i.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",i[i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",i[i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",i[i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",i[i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",i[i.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",i[i.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",i[i.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",i[i.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",i[i.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",i[i.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",i[i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",i[i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",i[i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",i))(Gr||{});const yf={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let ws,Hu;function $v(){Hu={bptc:ws.getExtension("EXT_texture_compression_bptc"),astc:ws.getExtension("WEBGL_compressed_texture_astc"),etc:ws.getExtension("WEBGL_compressed_texture_etc"),s3tc:ws.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ws.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:ws.getExtension("WEBGL_compressed_texture_pvrtc")||ws.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:ws.getExtension("WEBGL_compressed_texture_etc1"),atc:ws.getExtension("WEBGL_compressed_texture_atc")}}const cT={extension:{type:De.DetectionParser,priority:2},test:async()=>{const i=Le.ADAPTER.createCanvas().getContext("webgl");return i?(ws=i,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async i=>{Hu||$v();const e=[];for(const t in Hu)Hu[t]&&e.push(t);return[...e,...i]},remove:async i=>(Hu||$v(),i.filter(e=>!(e in Hu)))};Ve.add(cT);class dT extends _f{constructor(e,t={width:1,height:1,autoLoad:!0}){let r,s;typeof e=="string"?(r=e,s=new Uint8Array):(r=null,s=e),super(s,t),this.origin=r,this.buffer=s?new qm(s):null,this._load=null,this.loaded=!1,this.origin!==null&&t.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new qm(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Fl extends dT{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=Fl._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||Fl._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,r){const s=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let a=0,c=this.levels;a<c;a++){const{levelID:d,levelWidth:p,levelHeight:g,levelBuffer:y}=this._levelBuffers[a];s.compressedTexImage2D(s.TEXTURE_2D,d,this.format,p,g,0,y)}return!0}onBlobLoaded(){this._levelBuffers=Fl._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,r,s,a,c,d){const p=new Array(r);let g=e.byteOffset,y=c,w=d,_=y+s-1&~(s-1),A=w+a-1&~(a-1),b=_*A*yf[t];for(let P=0;P<r;P++)p[P]={levelID:P,levelWidth:r>1?y:_,levelHeight:r>1?w:A,levelBuffer:new Uint8Array(e.buffer,g,b)},g+=b,y=y>>1||1,w=w>>1||1,_=y+s-1&~(s-1),A=w+a-1&~(a-1),b=_*A*yf[t];return p}}const Gm=4,Od=124,fT=32,Yv=20,pT=542327876,Ld={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},mT={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Ud={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},gT=1,yT=2,vT=4,xT=64,_T=512,wT=131072,ET=827611204,ST=861165636,AT=894720068,bT=808540228,TT=4,CT={[ET]:Gr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[ST]:Gr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[AT]:Gr.COMPRESSED_RGBA_S3TC_DXT5_EXT},PT={70:Gr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Gr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Gr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Gr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Gr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Gr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Gr.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Gr.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Gr.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Gr.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function IT(i){const e=new Uint32Array(i);if(e[0]!==pT)throw new Error("Invalid DDS file magic word");const t=new Uint32Array(i,0,Od/Uint32Array.BYTES_PER_ELEMENT),r=t[Ld.HEIGHT],s=t[Ld.WIDTH],a=t[Ld.MIPMAP_COUNT],c=new Uint32Array(i,Ld.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,fT/Uint32Array.BYTES_PER_ELEMENT),d=c[gT];if(d&vT){const p=c[mT.FOURCC];if(p!==bT){const F=CT[p],D=Gm+Od,H=new Uint8Array(i,D);return[new Fl(H,{format:F,width:s,height:r,levels:a})]}const g=Gm+Od,y=new Uint32Array(e.buffer,g,Yv/Uint32Array.BYTES_PER_ELEMENT),w=y[Ud.DXGI_FORMAT],_=y[Ud.RESOURCE_DIMENSION],A=y[Ud.MISC_FLAG],b=y[Ud.ARRAY_SIZE],P=PT[w];if(P===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${w}`);if(A===TT)throw new Error("DDSParser does not support cubemap textures");if(_===6)throw new Error("DDSParser does not supported 3D texture data");const T=new Array,R=Gm+Od+Yv;if(b===1)T.push(new Uint8Array(i,R));else{const F=yf[P];let D=0,H=s,O=r;for(let L=0;L<a;L++){const J=Math.max(1,H+3&-4),oe=Math.max(1,O+3&-4),ce=J*oe*F;D+=ce,H=H>>>1,O=O>>>1}let V=R;for(let L=0;L<b;L++)T.push(new Uint8Array(i,V,D)),V+=D}return T.map(F=>new Fl(F,{format:P,width:s,height:r,levels:a}))}throw d&xT?new Error("DDSParser does not support uncompressed texture data."):d&_T?new Error("DDSParser does not supported YUV uncompressed texture data."):d&wT?new Error("DDSParser does not support single-channel (lumninance) texture data!"):d&yT?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const qv=[171,75,84,88,32,49,49,187,13,10,26,10],RT=67305985,Ui={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},k0=64,Qv={[Ke.UNSIGNED_BYTE]:1,[Ke.UNSIGNED_SHORT]:2,[Ke.INT]:4,[Ke.UNSIGNED_INT]:4,[Ke.FLOAT]:4,[Ke.HALF_FLOAT]:8},kT={[Ie.RGBA]:4,[Ie.RGB]:3,[Ie.RG]:2,[Ie.RED]:1,[Ie.LUMINANCE]:1,[Ie.LUMINANCE_ALPHA]:2,[Ie.ALPHA]:1},MT={[Ke.UNSIGNED_SHORT_4_4_4_4]:2,[Ke.UNSIGNED_SHORT_5_5_5_1]:2,[Ke.UNSIGNED_SHORT_5_6_5]:2};function DT(i,e,t=!1){const r=new DataView(e);if(!NT(i,r))return null;const s=r.getUint32(Ui.ENDIANNESS,!0)===RT,a=r.getUint32(Ui.GL_TYPE,s),c=r.getUint32(Ui.GL_FORMAT,s),d=r.getUint32(Ui.GL_INTERNAL_FORMAT,s),p=r.getUint32(Ui.PIXEL_WIDTH,s),g=r.getUint32(Ui.PIXEL_HEIGHT,s)||1,y=r.getUint32(Ui.PIXEL_DEPTH,s)||1,w=r.getUint32(Ui.NUMBER_OF_ARRAY_ELEMENTS,s)||1,_=r.getUint32(Ui.NUMBER_OF_FACES,s),A=r.getUint32(Ui.NUMBER_OF_MIPMAP_LEVELS,s),b=r.getUint32(Ui.BYTES_OF_KEY_VALUE_DATA,s);if(g===0||y!==1)throw new Error("Only 2D textures are supported");if(_!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(w!==1)throw new Error("WebGL does not support array textures");const P=4,T=4,R=p+3&-4,F=g+3&-4,D=new Array(w);let H=p*g;a===0&&(H=R*F);let O;if(a!==0?Qv[a]?O=Qv[a]*kT[c]:O=MT[a]:O=yf[d],O===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const V=t?BT(r,b,s):null;let L=H*O,J=p,oe=g,ce=R,Ae=F,Q=k0+b;for(let q=0;q<A;q++){const te=r.getUint32(Q,s);let he=Q+4;for(let N=0;N<w;N++){let z=D[N];z||(z=D[N]=new Array(A)),z[q]={levelID:q,levelWidth:A>1||a!==0?J:ce,levelHeight:A>1||a!==0?oe:Ae,levelBuffer:new Uint8Array(e,he,L)},he+=L}Q+=te+4,Q=Q%4!==0?Q+4-Q%4:Q,J=J>>1||1,oe=oe>>1||1,ce=J+P-1&~(P-1),Ae=oe+T-1&~(T-1),L=ce*Ae*O}return a!==0?{uncompressed:D.map(q=>{let te=q[0].levelBuffer,he=!1;return a===Ke.FLOAT?te=new Float32Array(q[0].levelBuffer.buffer,q[0].levelBuffer.byteOffset,q[0].levelBuffer.byteLength/4):a===Ke.UNSIGNED_INT?(he=!0,te=new Uint32Array(q[0].levelBuffer.buffer,q[0].levelBuffer.byteOffset,q[0].levelBuffer.byteLength/4)):a===Ke.INT&&(he=!0,te=new Int32Array(q[0].levelBuffer.buffer,q[0].levelBuffer.byteOffset,q[0].levelBuffer.byteLength/4)),{resource:new _f(te,{width:q[0].levelWidth,height:q[0].levelHeight}),type:a,format:he?FT(c):c}}),kvData:V}:{compressed:D.map(q=>new Fl(null,{format:d,width:p,height:g,levels:A,levelBuffers:q})),kvData:V}}function NT(i,e){for(let t=0;t<qv.length;t++)if(e.getUint8(t)!==qv[t])return console.error(`${i} is not a valid *.ktx file!`),!1;return!0}function FT(i){switch(i){case Ie.RGBA:return Ie.RGBA_INTEGER;case Ie.RGB:return Ie.RGB_INTEGER;case Ie.RG:return Ie.RG_INTEGER;case Ie.RED:return Ie.RED_INTEGER;default:return i}}function BT(i,e,t){const r=new Map;let s=0;for(;s<e;){const a=i.getUint32(k0+s,t),c=k0+s+4,d=3-(a+3)%4;if(a===0||a>e-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let p=0;for(;p<a&&i.getUint8(c+p)!==0;p++);if(p===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const g=new TextDecoder().decode(new Uint8Array(i.buffer,c,p)),y=new DataView(i.buffer,c+p+1,a-p-1);r.set(g,y),s+=4+a+d}return r}const OT={extension:{type:De.LoadParser,priority:$i.High},name:"loadDDS",test(i){return wa(i,".dds")},async load(i,e,t){const r=await(await Le.ADAPTER.fetch(i)).arrayBuffer(),s=IT(r).map(a=>{const c=new it(a,{mipmap:Cs.OFF,alphaMode:On.NO_PREMULTIPLIED_ALPHA,resolution:go(i),...e.data});return Tc(c,t,i)});return s.length===1?s[0]:s},unload(i){Array.isArray(i)?i.forEach(e=>e.destroy(!0)):i.destroy(!0)}};Ve.add(OT);const LT={extension:{type:De.LoadParser,priority:$i.High},name:"loadKTX",test(i){return wa(i,".ktx")},async load(i,e,t){const r=await(await Le.ADAPTER.fetch(i)).arrayBuffer(),{compressed:s,uncompressed:a,kvData:c}=DT(i,r),d=s??a,p={mipmap:Cs.OFF,alphaMode:On.NO_PREMULTIPLIED_ALPHA,resolution:go(i),...e.data},g=d.map(y=>{d===a&&Object.assign(p,{type:y.type,format:y.format});const w=y.resource??y,_=new it(w,p);return _.ktxKeyValueData=c,Tc(_,t,i)});return g.length===1?g[0]:g},unload(i){Array.isArray(i)?i.forEach(e=>e.destroy(!0)):i.destroy(!0)}};Ve.add(LT);const UT=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],zT={extension:De.ResolveParser,test:i=>{const e=Fr.extname(i).slice(1);return["basis","ktx","dds"].includes(e)},parse:i=>{var r,s;const e=i.split("."),t=e.pop();if(["ktx","dds"].includes(t)){const a=e.pop();if(UT.includes(a))return{resolution:parseFloat(((r=Le.RETINA_PREFIX.exec(i))==null?void 0:r[1])??"1"),format:a,src:i}}return{resolution:parseFloat(((s=Le.RETINA_PREFIX.exec(i))==null?void 0:s[1])??"1"),format:t,src:i}}};Ve.add(zT);const zd=new rt,GT=4,Nx=class pc{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,r,s){const a=new Image;return a.src=await this.base64(e,t,r,s),a}async base64(e,t,r,s){const a=this.canvas(e,s);if(a.toBlob!==void 0)return new Promise((c,d)=>{a.toBlob(p=>{if(!p){d(new Error("ICanvas.toBlob failed!"));return}const g=new FileReader;g.onload=()=>c(g.result),g.onerror=d,g.readAsDataURL(p)},t,r)});if(a.toDataURL!==void 0)return a.toDataURL(t,r);if(a.convertToBlob!==void 0){const c=await a.convertToBlob({type:t,quality:r});return new Promise((d,p)=>{const g=new FileReader;g.onload=()=>d(g.result),g.onerror=p,g.readAsDataURL(c)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:r,width:s,height:a,flipY:c,premultipliedAlpha:d}=this._rawPixels(e,t);c&&pc._flipY(r,s,a),d&&pc._unpremultiplyAlpha(r);const p=new Rw(s,a,1),g=new ImageData(new Uint8ClampedArray(r.buffer),s,a);return p.context.putImageData(g,0,0),p.canvas}pixels(e,t){const{pixels:r,width:s,height:a,flipY:c,premultipliedAlpha:d}=this._rawPixels(e,t);return c&&pc._flipY(r,s,a),d&&pc._unpremultiplyAlpha(r),r}_rawPixels(e,t){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let s,a=!1,c=!1,d,p=!1;e&&(e instanceof Ll?d=e:(d=r.generateTexture(e,{region:t,resolution:r.resolution,multisample:r.multisample}),p=!0,t&&(zd.width=t.width,zd.height=t.height,t=zd)));const g=r.gl;if(d){if(s=d.baseTexture.resolution,t=t??d.frame,a=!1,c=d.baseTexture.alphaMode>0&&d.baseTexture.format===Ie.RGBA,!p){r.renderTexture.bind(d);const A=d.framebuffer.glFramebuffers[r.CONTEXT_UID];A.blitFramebuffer&&r.framebuffer.bind(A.blitFramebuffer)}}else s=r.resolution,t||(t=zd,t.width=r.width/s,t.height=r.height/s),a=!0,c=this._rendererPremultipliedAlpha,r.renderTexture.bind();const y=Math.max(Math.round(t.width*s),1),w=Math.max(Math.round(t.height*s),1),_=new Uint8Array(GT*y*w);return g.readPixels(Math.round(t.x*s),Math.round(t.y*s),y,w,g.RGBA,g.UNSIGNED_BYTE,_),p&&(d==null||d.destroy(!0)),{pixels:_,width:y,height:w,flipY:a,premultipliedAlpha:c}}destroy(){this.renderer=null}static _flipY(e,t,r){const s=t<<2,a=r>>1,c=new Uint8Array(s);for(let d=0;d<a;d++){const p=d*s,g=(r-d-1)*s;c.set(e.subarray(p,p+s)),e.copyWithin(p,g,g+s),e.set(c,g)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let r=0;r<t;r+=4){const s=e[r+3];if(s!==0){const a=255.001/s;e[r]=e[r]*a+.5,e[r+1]=e[r+1]*a+.5,e[r+2]=e[r+2]*a+.5}}}};Nx.extension={name:"extract",type:De.RendererSystem};let HT=Nx;Ve.add(HT);class jT{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function WT(i,e){var r;let t=!1;if((r=i==null?void 0:i._textures)!=null&&r.length){for(let s=0;s<i._textures.length;s++)if(i._textures[s]instanceof ke){const a=i._textures[s].baseTexture;e.includes(a)||(e.push(a),t=!0)}}return t}function VT(i,e){if(i.baseTexture instanceof it){const t=i.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function XT(i,e){if(i._texture&&i._texture instanceof ke){const t=i._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function $T(i,e){return e instanceof Cf?(e.updateText(!0),!0):!1}function YT(i,e){if(e instanceof _a){const t=e.toFontString();return fa.measureFont(t),!0}return!1}function qT(i,e){if(i instanceof Cf){e.includes(i.style)||e.push(i.style),e.includes(i)||e.push(i);const t=i._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function QT(i,e){return i instanceof _a?(e.includes(i)||e.push(i),!0):!1}const Fx=class Bx{constructor(e){this.limiter=new jT(Bx.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(qT),this.registerFindHook(QT),this.registerFindHook(WT),this.registerFindHook(VT),this.registerFindHook(XT),this.registerUploadHook($T),this.registerUploadHook(YT)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,Nr.system.addOnce(this.tick,this,xa.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed){for(let r=0,s=this.uploadHooks.length;r<s;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)Nr.system.addOnce(this.tick,this,xa.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,r=e.length;t<r;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof mn)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&Nr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};Fx.uploadsPerFrame=4;let M0=Fx;Object.defineProperties(Le,{UPLOADS_PER_FRAME:{get(){return M0.uploadsPerFrame},set(i){dt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),M0.uploadsPerFrame=i}}});function Ox(i,e){return e instanceof it?(e._glTextures[i.CONTEXT_UID]||i.texture.bind(e),!0):!1}function KT(i,e){if(!(e instanceof vc))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:r}=t;for(let s=0;s<r.length;s++){const{texture:a}=r[s].style;a&&Ox(i,a.baseTexture)}return t.batchable||i.geometry.bind(t,e._resolveDirectShader(i)),!0}function ZT(i,e){return i instanceof vc?(e.push(i),!0):!1}class Lx extends M0{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(ZT),this.registerUploadHook(Ox),this.registerUploadHook(KT)}}Lx.extension={name:"prepare",type:De.RendererSystem};Ve.add(Lx);const Ux=class mc{constructor(e,t,r){this.linkedSheets=[],(e instanceof it||e instanceof ke)&&(e={texture:e,data:t,resolutionFilename:r});const{texture:s,data:a,resolutionFilename:c=null,cachePrefix:d=""}=e;this.cachePrefix=d,this._texture=s instanceof ke?s:null,this.baseTexture=s instanceof it?s:this._texture.baseTexture,this.textures={},this.animations={},this.data=a;const p=this.baseTexture.resource;this.resolution=this._updateResolution(c||(p?p.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let r=go(e,null);return r===null&&(r=typeof t=="number"?t:parseFloat(t??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=mc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const r=mc.BATCH_SIZE;for(;t-e<r&&t<this._frameKeys.length;){const s=this._frameKeys[t],a=this._frames[s],c=a.frame;if(c){let d=null,p=null;const g=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,y=new rt(0,0,Math.floor(g.w)/this.resolution,Math.floor(g.h)/this.resolution);a.rotated?d=new rt(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):d=new rt(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(p=new rt(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[s]=new ke(this.baseTexture,d,y,p,a.rotated?2:0,a.anchor,a.borders),ke.addToCache(this.textures[s],this.cachePrefix+s.toString())}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){const s=e[t][r];this.animations[t].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*mc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*mc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)==null||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};Ux.BATCH_SIZE=1e3;let Kv=Ux;const JT=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function zx(i,e,t){const r={};if(i.forEach(s=>{r[s]=e}),Object.keys(e.textures).forEach(s=>{r[`${e.cachePrefix}${s}`]=e.textures[s]}),!t){const s=Fr.dirname(i[0]);e.linkedSheets.forEach((a,c)=>{Object.assign(r,zx([`${s}/${e.data.meta.related_multi_packs[c]}`],a,!0))})}return r}const e2={extension:De.Asset,cache:{test:i=>i instanceof Kv,getCacheableAssets:(i,e)=>zx(i,e,!1)},resolver:{test:i=>{const e=i.split("?")[0].split("."),t=e.pop(),r=e.pop();return t==="json"&&JT.includes(r)},parse:i=>{var t;const e=i.split(".");return{resolution:parseFloat(((t=Le.RETINA_PREFIX.exec(i))==null?void 0:t[1])??"1"),format:e[e.length-2],src:i}}},loader:{name:"spritesheetLoader",extension:{type:De.LoadParser,priority:$i.Normal},async testParse(i,e){return Fr.extname(e.src).toLowerCase()===".json"&&!!i.frames},async parse(i,e,t){var y,w;const{texture:r,imageFilename:s,cachePrefix:a}=(e==null?void 0:e.data)??{};let c=Fr.dirname(e.src);c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");let d;if(r&&r.baseTexture)d=r;else{const _=m0(c+(s??i.meta.image),e.src);d=(await t.load([_]))[_]}const p=new Kv({texture:d.baseTexture,data:i,resolutionFilename:e.src,cachePrefix:a});await p.parse();const g=(y=i==null?void 0:i.meta)==null?void 0:y.related_multi_packs;if(Array.isArray(g)){const _=[];for(const b of g){if(typeof b!="string")continue;let P=c+b;(w=e.data)!=null&&w.ignoreMultiPack||(P=m0(P,e.src),_.push(t.load({src:P,data:{ignoreMultiPack:!0}})))}const A=await Promise.all(_);p.linkedSheets=A,A.forEach(b=>{b.linkedSheets=[p].concat(p.linkedSheets.filter(P=>P!==b))})}return p},unload(i){i.destroy(!0)}}};Ve.add(e2);const D0=class ju extends _a{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new ju(Object.keys(ju.defaultOptions).reduce((t,r)=>({...t,[r]:e[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete ju.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:r}=ju;if(r[e]){const s=r[e];return this._fonts.push(s),s.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Le.ADAPTER.fetch(e).then(s=>s.blob()).then(async s=>new Promise((a,c)=>{const d=URL.createObjectURL(s),p=new FileReader;p.onload=()=>a([d,p.result]),p.onerror=c,p.readAsDataURL(s)})).then(async([s,a])=>{const c=Object.assign({family:Fr.basename(e,Fr.extname(e)),weight:"normal",style:"normal",display:"auto",src:s,dataSrc:a,refs:1,originalUrl:e,fontFace:null},t);r[e]=c,this._fonts.push(c),this.styleID++;const d=new FontFace(c.family,`url(${c.src})`,{weight:c.weight,style:c.style,display:c.display});c.fontFace=d,await d.load(),document.fonts.add(d),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(r=>!this._overrides.includes(r));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(r=>this._overrides.includes(r));t.length>0&&(this._overrides=this._overrides.filter(r=>!t.includes(r)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Tw(e)),typeof e=="number"?bw(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(t*255|0).toString(16).padStart(2,"0"));const a=`${r}px ${s}px`;return this.dropShadowBlur>0?`text-shadow: ${a} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${a} ${e}`}reset(){Object.assign(this,ju.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Le.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};D0.availableFonts={},D0.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Hm=D0;const Gd=class Wu extends ks{constructor(e="",t={}){super(ke.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const r=new Image,s=ke.from(r,{scaleMode:Le.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new rt,s.trim=new rt,this.texture=s;const a="http://www.w3.org/2000/svg",c="http://www.w3.org/1999/xhtml",d=document.createElementNS(a,"svg"),p=document.createElementNS(a,"foreignObject"),g=document.createElementNS(c,"div"),y=document.createElementNS(c,"style");p.setAttribute("width","10000"),p.setAttribute("height","10000"),p.style.overflow="hidden",d.appendChild(p),this.maxWidth=Wu.defaultMaxWidth,this.maxHeight=Wu.defaultMaxHeight,this._domElement=g,this._styleElement=y,this._svgRoot=d,this._foreignObject=p,this._foreignObject.appendChild(y),this._foreignObject.appendChild(g),this._image=r,this._loadImage=new Image,this._autoResolution=Wu.defaultAutoResolution,this._resolution=Wu.defaultResolution??Le.RESOLUTION,this.text=e,this.style=t}measureText(e){var y,w;const{text:t,style:r,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:r.toCSS(s)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const a=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:c,height:d}=a;(c>this.maxWidth||d>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const p=Math.min(this.maxWidth,Math.ceil(c)),g=Math.min(this.maxHeight,Math.ceil(d));return this._svgRoot.setAttribute("width",p.toString()),this._svgRoot.setAttribute("height",g.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(y=this._style)==null?void 0:y.toCSS(s)}),this._styleElement.textContent=(w=this._style)==null?void 0:w.toGlobalCSS()),{width:p+r.padding*2,height:g+r.padding*2}}async updateText(e=!0){const{style:t,_image:r,_loadImage:s}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:a,height:c}=this.measureText();r.width=s.width=Math.ceil(Math.max(1,a)),r.height=s.height=Math.ceil(Math.max(1,c)),this._updateID++;const d=this._updateID;await new Promise(p=>{s.onload=async()=>{if(d<this._updateID){p();return}await t.onBeforeDraw(),r.src=s.src,s.onload=null,s.src="",this.updateTexture(),p()};const g=new XMLSerializer().serializeToString(this._svgRoot);s.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(g)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:r,resolution:s}=this,{padding:a}=e,{baseTexture:c}=t;t.trim.width=t._frame.width=r.width/s,t.trim.height=t._frame.height=r.height/s,t.trim.x=-a,t.trim.y=-a,t.orig.width=t._frame.width-a*2,t.orig.height=t._frame.height-a*2,this._onTextureUpdate(),c.setRealSize(r.width,r.height,s),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var r,s,a,c,d;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Wu.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=t,(s=this._svgRoot)==null||s.remove(),this._svgRoot=t,(a=this._domElement)==null||a.remove(),this._domElement=t,(c=this._foreignObject)==null||c.remove(),this._foreignObject=t,(d=this._styleElement)==null||d.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=ma(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=ma(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Hm?(this.ownsStyle=!1,this._style=e):e instanceof _a?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Hm.from(e)):(this.ownsStyle=!0,this._style=new Hm(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Gd.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Gd.defaultMaxWidth=2024,Gd.defaultMaxHeight=2024,Gd.defaultAutoResolution=!0;const t2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAAAXNSR0IArs4c6QAAB+VJREFUeJzt3TFrG0kYxvFH4VKEVIEggsD2N3BxpE2fwugTbH+nIipCijPBGBOMU4QUSmGu308gXFwZSJ9C38A2CCMCgQsmRYq9Qh5ptFrJSm5md17z/4HA8TrSM6/e3dnVCkYCAAAAAAAAAAAAAAAAAAAAAADWtEI+WdYdFO7nfNhvbbotBX4+qTqjpTFYq7/UTP5gT5R1B8Vpvjv7dy8bzYKu25aCqnxVrI3BSv2l5vL/FuJJnOtPXyRJD589lrR8VHXbU+RnP813NbncXtje3rpY+LsUWa6/1Ez+oDuA7+hkr/Sbi1gvhQrW619X/qA7gNtzb93+9zjky/5v0+l0cZpd5eGzx0meQkh26+80kf9esGcyrDzVStNTHv+xyf+BPUF2AOsN5B/NV10Al7elNANYr3+T+YPsAHepgdadBvnbUmog6/VvMn/wGcB0A43vTx+reNtTaiDr9W8yf5CL4HzYb2XdQTFrns6P6j/0miulBpLmF8KS1Nl5Uvk34/Mr72/TYb3+TeaPcifYWgP5su6gcPlfvfqsB4+e683riaRp/lSz+0dEq/XftH+kcGMI9jFo1h0URyd7am9dzBqm3EDeDaYixTfBH4Mkff8qff/6jw6On0uSJpdPpUSzS9PPztfV35pV/XO4fxbsNaLcCDs4bktabiBrHjyyk/tmpyxO89019W8newAqH3yk6v453D8LOoMF2wHcGyDNL1bKDTS9ik/zJpK02ERVQhc/tHzYbymb39Dz69/LRmsvMFPislb1T+j6B50B3MWM+x6Nm6rmt7XTbX7fuvwWlPM77gCUKj+v/5FnzPoHPwXyZwKv2cv/TtYdzZ+8W7KaGw8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJiLskqktLyYwbptKSivO1uV0dIYrNVfaiZ/sCfKuoOFtbX89ZzWbUtBVb4q1sZgpf5Sc/mjrBLppLQa+c/wlnOd8VcvtMJq/Z068kfbAeYLmzm2Gshiw/us17+u/NF2AEsNVF5e9DYpnkKUWap/lbry36vlVRL3K1Ot9dMLTAXZAaw30K8czVOaAazXv8n8QXYAGqhZ1uvfZH5mANlvIOv1bzJ/kIvgfNhv/WyglBpIml8IS1Jn50nl34zPr+Z/mxDr9W8yf5Q7wdYayJd1B8W6/Klnl26vv5Tee+DvAHX2T7CPQbPuoDg62VN760JvXk8kzQO7AXk3mIrU3gBpcQzS/I6w+3h0cvlUSjR7lVX1P9w/azLWSrf1TwxR7gMcHLfVy0azxvF/tsJa/qqdtyr/4f5Zckd/aXZUL07z3TX90w5+AI1yCrSqWdwRNcU3wCl/78SX8g0wfwdYtcOmnN9ZVX83JjeDJfldIHcx475H46ba+W3t9N8ASVqXP2X+qY3/hT4r+Z1y/Z3pmMKOIfgpkJvKvJ9V8e9kWc1/S7bk8zsr6g8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAyLugCBv/Kf1cUOLI/BcnbJeP6sOyi+/ftx9khpYebbZN1B4R6Wx2A1u1Rf/iirRPphrz99kXSzcF42SH6J0apF2iyOwf1sLbtUb/7gO8C6VRYRn/X6150/ygzge/jsceyXiM6NwcIyo2XW6x87/72oz27MJueZ1s6lsV7QHeAuNJC/OnmVlGcA6/VvIn/wGcByA/lWnYem3ECS/frXnT/aKZDVBlowvj99eFJvIMd6/evKH/ci2DVP58fsVyk3UD7st5QNis7Ok6Vt4/OrpLNXMlb/JTXkD16MrGu7gSbnfxXv3v2+8LuD47Yml9s63D9LfgzW6193/uAzwPsPY717tziAaQM9lSQTN2LG51crp+DUWa+/yz8+v9LRyZ7aWxeSpF52FeX1opwCWW6g9s7bVtV5poWjv2O5/tI0f12CXwS3d95WNomlBrLs5YvOUvP3spGZ+r980ZE0vQg+3D+b/f40341yAR/lU6B82G/1spEml9uaXG6bu4NqPb+fe9XHialzuf33wRz3jcqmc/wqq/n93BbHUM5scQwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAu2qon/oIGllZXkWxnd6yPwXT+rDsovv37cfawtLpHVXZrK5RYrr9Ub/7ga4Rl3UFxmu/q+tMXXX/6svD70K8VWlX203x39rA6Bvf7BmNtrO78cVeKvzFbtTAbJL9O7V1kvf4x80fbAR4+exzrqaPJh/2WsukRyDqL9ffVlT/KMqlWbTLNWjmVwGaC7gDWG2jV9OrWrE19ZrBe/ybyB90B7moDpZ7bsV7/JvLXMgOkXnhn6Q0Y358+jLBe/ybyB70Izof91sIgXPN0foR8majchXBn58nStvH5VdI3ZazXv4n8Ud7MrGuzgaRp9qOTPbW3LvTm9WRh26tXn9XeeZt0fsl2/aV680e5EXZ0sqeD4/bStvcfxqFfLqqD4/bsMT6/ajrORu5K/V3d//jz6az2MfJHvRHmvwnuQiZ1N0eYynsBFo7+Pov1XyXWASj4DnCXGsgiV39p8eLxNN9VL2sq1ebcVyGcw/2zm+wjvXzRCf56UW6E5cN+q5eNNLnc1uRyW71sZOLc07Ge3+llI/njsMKvu2R49rL2Lcoyy/n97NbGUc5rLT8AAAAAAAAAAAAAAAAAAAAAAIjrP5IRY8wNP2TPAAAAAElFTkSuQmCC",r2=5,n2=({onMove:i,checkCollision:e})=>{const[t,r]=Ce.useState({x:window.innerWidth/2,y:window.innerHeight/2}),[s,a]=Ce.useState(!1),[c,d]=Ce.useState({x:0,y:0}),[p,g]=Ce.useState("down"),[y,w]=Ce.useState(!1),[_,A]=Ce.useState(0),b=Ce.useMemo(()=>{const T=it.from(t2);return T.scaleMode=jr.NEAREST,{down:[0,1,2,3].map(R=>new ke(T,new rt(R*48,0,48,48))),up:[0,1,2,3].map(R=>new ke(T,new rt(R*48,48,48,48))),left:[0,1,2,3].map(R=>new ke(T,new rt(R*48,96,48,48))),right:[0,1,2,3].map(R=>new ke(T,new rt(R*48,144,48,48)))}},[]),P=Ce.useCallback(()=>{if(s)w(!0);else{w(!1);return}const T=c.x-window.innerWidth/2,R=c.y-window.innerHeight/2,F=Math.sqrt(T*T+R*R),D=T/F,H=R/F;let O=p;Math.abs(D)>Math.abs(H)?O=D>0?"right":"left":O=H>0?"down":"up",O!==p&&(g(O),A(oe=>oe+1));const V=r2;let L=t.x+D*V,J=t.y+H*V;L=Math.max(32,Math.min(Kd*2.5-32,L)),J=Math.max(32,Math.min(Zd*2.5-32,J)),e(L,J)||(r({x:L,y:J}),i(L,J))},[t,s,c,i,p,e]);return Ce.useEffect(()=>{let T;const R=()=>{P(),T=requestAnimationFrame(R)};return T=requestAnimationFrame(R),()=>cancelAnimationFrame(T)},[P]),Ce.useEffect(()=>{const T=D=>{D.button===0&&a(!0)},R=D=>{D.button===0&&a(!1)},F=D=>{d({x:D.clientX,y:D.clientY})};return window.addEventListener("mousedown",T),window.addEventListener("mouseup",R),window.addEventListener("mousemove",F),()=>{window.removeEventListener("mousedown",T),window.removeEventListener("mouseup",R),window.removeEventListener("mousemove",F)}},[]),lt.jsx(jt.Container,{position:[t.x,t.y],children:lt.jsx(jt.AnimatedSprite,{scale:2.5,anchor:.5,textures:b[p],isPlaying:y,animationSpeed:.15,loop:!0,width:48*2,height:48*2},_)})},i2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAdCAYAAACaCl3kAAAA2klEQVR42mNgQAPxVZX/sWEGXACmYPruvv/rrsxEwSAxrAagazj0YBYY4zKAKI3IbBSNyJpgipBtQxeDayakEaetIALdL/j8itVGYjD1NCJrxsZHFscIWXSbYWLoGKtGdIzNEIJOJWhb3rQavIqRMUgt3EaKNMIwsgJsfJw2wtjICtHlsdqIz3YUG5EDiBiMkR/J0oivrCG67JmQFPt/VWUkCgaJMRACIEVHZuWANcBokjQiY7wafazr5UAYl0aYPNGa8GqGCcAwuiZ0eay2ImtGF8PQhM8AXBoAe7hmrvyc8pYAAAAtdEVYdFNvZnR3YXJlAGJ5LmJsb29kZHkuY3J5cHRvLmltYWdlLlBORzI0RW5jb2RlcqgGf+4AAAAASUVORK5CYII=",Gx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAfCAYAAAD9cg1AAAABHElEQVR42sWWvQ3CMBBGPQmLsAILUCCk1Ig+CImaBlGByAgUlDR0iBEYgE2CrjjrsD+ff+IISw8Un/ke51gQYyJjuWn7GKZk8IfPj0N/e18gVCOyJKHg56ezyGsWJXWjfWNNkNSNDA+FyUBt2zwJhyNBKDw0DzuhC21bYlsm8QSxk5IC6sZKagjUeyH33xWhOVSXa+TcqALvHqQig0IyeIpiXZRQ3EWWgF7Wp231cMr8ETBclFK3jsIQ/xEgYqFo3jtF2uISgoJawJ/s0cLdv8vS0OSHgJQniSpPFjSOzaK/tnMI1czQQSH3feOF09xgwWy6m7AAQTVaUxTMsODVrew7wwKmKFwGIrIlcjERE7jrs7tAslB90L3Q0DK+SNXeaiuXmvcAAAAtdEVYdFNvZnR3YXJlAGJ5LmJsb29kZHkuY3J5cHRvLmltYWdlLlBORzI0RW5jb2RlcqgGf+4AAAAASUVORK5CYII=",Zv=i=>{const e=ke.from(i);return e.baseTexture.scaleMode=jr.NEAREST,e},Jv={tree1:Zv(i2),tree2:Zv(Gx)},s2=({id:i,type:e="tree1",position:t,scale:r=[2,2],health:s=100,dropItems:a=["wood"],canInteract:c,onInteract:d})=>{const p=Ce.useCallback(y=>{y.stopPropagation(),c&&d(i,a)},[c,i,a,d]),g=Ce.useMemo(()=>Jv[e]||Jv.tree1,[e]);return lt.jsx(jt.Container,{position:[t.x,t.y],interactive:c,cursor:c?"pointer":"default",pointerdown:p,children:lt.jsx(jt.Sprite,{texture:g,anchor:.5,scale:r})})},o2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAChUlEQVRYhcVWvWtTURT/2c98vLw0+kJoiOnQdghKBxF5ThLIKOLkJhEXV12kyaSLli76FwgiOLjo4BgookMGOzhEh+KQkFpC00jCayzB8hza+3Lzcu679yVRf3B59553Pn7n3E/gP+OMX4N8sWDLdF4+earsd8ZvYDMbR2IxTOo09g5PewVblYRUSRTY0PqmTct2xk3LRmPvEOWtfQDyakypBAfgOFRBYjEMMxuHmY1Lp0xIgBkur4WxvHaSOcvSnT37sj4jwYh4kSAJMINoahrN1tHAPyo4k7PmhhcJchHePDgGALwDkKv+AmDhYiFDBqbAk2h4agLTbsHbew/tqzeuQNeCOPf9AIYRRiQyj8rrXQSuGej2aEfdXr+F5voEpuZnoUXmEDNmYZy/9OjLx0+PebuhClhWD+3dFuo7deh6QMKfhqxCngRKS0Hgw1ckkzo6nSPoegDblQ5WNjPOPpefA30dXqZEAACsO2lsP6udjnpY2cxQar5Q3tonzwThSRh5kHb67ixEmfKVkWXOQJ5S+WLBNrPxoSB+HFOgqqB0F4wTVIahgyhfLNjR1NDuHBvfdlqkXFgBZpBZPTvQdztjMpVgFDwvo38B6Rrgs3FXQqTH/2fydv2Y3IbCXcDWAeVsFIgI+KrA34DwtTLJ3SDK3pMAIwGcvAtGCcrg9SxTejiqvITdmNij1I3nd2/bycRv8t+Pxgzuv3jly+dI54C2EFSSTZzA9dyGc0VqC8GBRumoQOkyopzqsRA6P7vQYyFO2h7Qf19ar7nt3JDOFx88l65UL5tRT/3P5TZKtQtLbCwj4WsKeMfj6PBQWrGieV2/Va8CwMabFBl0IlOgQmSUwAx/AHc6DNfbKFKQAAAAAElFTkSuQmCC",a2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACeklEQVRYhcVWz2sTQRT+answTZq00hIqYSO0HoJSPEhJj4UcRXvyIEiKF6/2It38AVp6UfAuiODBiwoeA8FbKOaYeqgFE1KXJTGyYVdLsawHO+ns7Jvd2XTVD0J23rw33zdvfj3gP2MsakC5orthPi8ePVYedyIqcXF1Dtn5JOljGs7Jl+6qigh1khHPpk5De7Y7bPdsF6bhoF7rAgjPRmCnmO5bdy4pCQBOs8GEyMScCyNfWEpiYSnpIRXJ2T/7BoDsfBL1WtcTT4EUwMgzuXH0+oeePoqc2dkPAN69+kLGiyA34dq3YwDAWwCl1k8ANq7qBZKYwtizfawJ8fv5BO0rGt7cf+iu3FyGddDHbuMz0unzAIBGc4DF7YJvAIpcFt+8lvDtA98S2PYRrIM+OnudYXAURI33CajmE9j5sAsAGAwOh+oXtwswDYc7636YhgN7XSPjpzY0MobcA/a6hsaT9knrSCn1QfFTGxrqtS55DKU3Ia9YnDXfZpeTaTjeG1IyYxHkRVSu6G5xdc5HQomJAioLSm/BWUjD4NuE5YruZnLjsRN92uuTdmkGWEDh8gXPtzgYs6mQUZC+Bf8KoXuAn42YCZkf38/sVueYPIbSU8D2ATXYKJAJiJSBvwFpQRLnaZDNPlAAEwH8qQtGIWUIKsuUCkeVSlhEbEWpiKf37roXs7/Ivq/mBB48fxlpzJHugdS0v7qhbLELuFHaGj5xqemE50f5qEDpMaIGTc9MYvD9B9Izk5zV8vi/r262xTgRoevFk5e0Zut6MRPo/7Fuodq+kmftMBGRloAf+Cw+PJR2rGxdN293WgCw9TpHksayBCpCRiFm+A048jN5R4n2kAAAAABJRU5ErkJggg==",l2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACwElEQVRYhcVWz2sTQRT+YiqYJt20tSW2hI3QqoRK8SASj4WcRLQnD0JJ8dJrewlN/gAtuRjwLojowUsrSE+BoKcgBkRIPbQBE1LDkhhJ2NUSDOvBzHZ/vMnuplU/WHZ+vDffmzdv5j3gP8PjViGRTql2Ms8ePnK87ohb4tjSNEIzflJGqiv9Vkp1aoStEI94KnCs2pRVrd+UVUh1BYV8A4C9NwZOmt199/5FRwYAx95ghvCMOWNHPrfox9yi30BqJmd/1gaA0IwfhXzDoE+BNICRB8NeNFtHhjmKnI2zDwBev/xC6ptBBuHytx4AYAdAvPITgIyrqShJTMHzpIxlk3454qNlzQPba0n15p0baB+2sFc8gCCcAwAUSx3MZ6KWBShynn7pms8SB5YjkOUu2oct1PZrmrIbuNW3GJCL+PD+7R4AoNM50qyfz0Qh1RXdXbdCqiuQV0VSf2xDJHXIGJBXRRQfV/u9riPXD9If2xBRyDfIa8h9CfUWm3et77PHSaorxheSs2MzyIcokU6psaVpCwlljBtQXnCUC05CagdLECbSKTUY9p460ef9FjnO9QBTiF6aNLTNi7ExJ2QUuLngX8E2BvS7MXuCJ6efZ+PtWo+8htxbwOKAWmwY8Ayw9YA+n/+N4OQWJPp6AADKn5ShDeDtHrDxAMvnU5Puk1K71tPag8oycmJ7LakCwM55bz+f/0lSbuC0KLV4QF8PoHgAYVYAACx87CC5m/VkH6yos6Ff5GJfpRGsP33uqtQfqh4IjFu9QY0NZcDKi6yHyufJ3azndnxLS3GBcZ/hY9DLOAHXXZlb61rh9657IcLacbFUuXzlLISJUXS+/4AwMarpfCi0kasuaLJvcptV2MD2vPQ7ioulyvVYcKC8WyNc5QL9wieR0cNRxPLOdfNerQIAW6/CJOmpHIETQ4YhZvgNCMRh/qK70H0AAAAASUVORK5CYII=",Hd=i=>{const e=ke.from(i);return e.baseTexture.scaleMode=jr.NEAREST,e},e1={0:Hd(Gx),1:Hd(o2),2:Hd(a2),3:Hd(l2)},u2=({id:i,position:e,scale:t=[2.5,2.5],initialFruits:r=3,canInteract:s,onInteract:a,onFruitsChange:c})=>{const[d,p]=Ce.useState(r),g=Ce.useCallback(w=>{w.stopPropagation(),!(!s||d<=0)&&(p(_=>{const A=Math.max(0,_-1);return c==null||c(i,A),A}),a(i,["apple"]))},[s,d,i,a,c]),y=Ce.useMemo(()=>e1[d]||e1[0],[d]);return lt.jsx(jt.Container,{position:[e.x,e.y],interactive:s&&d>0,cursor:s&&d>0?"pointer":"default",pointerdown:g,children:lt.jsx(jt.Sprite,{texture:y,anchor:.5,scale:2})})},h2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAMCAYAAABr5z2BAAAAjUlEQVR42mNgwAGySwr+wzADqQCk6eCJnXBMkkHomkk2CKSgsbsZRePcFbPgGGYQTs0gRSADQBhZI0wzDIdERv7HqhmGkQ3A5h0UA0AcdNtwaQRhkOFwA3ys6+VAHGQb8QUkzHsoBoAwTAJbICJrRDYApA/FEBCGGUAIw9SjBCS6a/BpxNCMbgg+jKweAMsvTj48eQptAAAALXRFWHRTb2Z0d2FyZQBieS5ibG9vZGR5LmNyeXB0by5pbWFnZS5QTkcyNEVuY29kZXKoBn/uAAAAAElFTkSuQmCC",c2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAAX0lEQVR42mNgQALZJQX/G7ub/zPgAyBFG3auBmO8ikMiI//PXTELrhikEa9CGAYpBolhKAKZgKwQ5l64Yh/rejkQByQIkoRhEB+mEKQGrBCEYRLICmFyYIUwU3FhmPMAKNVvl/PUc4QAAAAtdEVYdFNvZnR3YXJlAGJ5LmJsb29kZHkuY3J5cHRvLmltYWdlLlBORzI0RW5jb2RlcqgGf+4AAAAASUVORK5CYII=",jm={large:{image:h2,width:32,height:32},small:{image:c2,width:16,height:16}},d2=({id:i,position:e,type:t="small",maxHealth:r,currentHealth:s,canInteract:a,onInteract:c,onClick:d})=>{const[p,g]=Ce.useState(s),[y,w]=Ce.useState(!1),_=Ce.useMemo(()=>{const b=ke.from(jm[t].image);return b.baseTexture.scaleMode=jr.NEAREST,b},[t]),A=Ce.useCallback(b=>{if(b.stopPropagation(),!a||y)return;const P=p-1;g(P),d&&d(b,{action:"hit",health:P}),P<=0&&(w(!0),c&&c(i))},[a,p,i,d,c,y]);return y?null:lt.jsxs(jt.Container,{position:[e.x,e.y],interactive:a,cursor:a?"pointer":"default",pointerdown:A,children:[lt.jsx(jt.Sprite,{texture:_,anchor:[.5,.5],width:jm[t].width,height:jm[t].height}),a&&p<r&&lt.jsx(jt.Graphics,{draw:b=>{b.clear(),b.beginFill(0,.3),b.drawRect(-15,-20,30,5),b.endFill(),b.beginFill(16711680,.5),b.drawRect(-15,-20,p/r*30,5),b.endFill()}})]})},f2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAgCAYAAADtwH1UAAAAAXNSR0IArs4c6QAACH5JREFUaIHtWmtMVFce/12X1GlhQJ4FZ8LqSqzbCtmODeImQpMiZMlusN1KSWRkIySkjw80pkhs7IfdiILblA9GQ7JsyiuKphV3oS2smy6Q6CCBbGBI1fKcDIwwzAw4l6ebnP2A53runfsa0S7Z8EtuuOfx/58zv//jnHsOHDahiJaLbxEAmHQa8GFFG/c8xgh5Hko3Cr5vfpcAwLzHh8Mf/FOTQJZwk3kZmcesAIBFz10AICbzMmh7sAbx8y5C341hCYKsyADfVB4nkAE/tyQq5529/Fy8Yb1gCY+IjsQbv/kIAMBtGUcLQCKiI0HbpQZpufgWYQm/VjOI8b4exO2IwMz4vKxB9BrBz7tIfUWxqEyNIBiAkn+w4A+qyr69cAnVx62k9K8NP4kRGruKSEF6reZY3ze/S1jCb9Y3YMn3HV6K3oNFz11Zg7BGmHQaRIQDEN7jdkSgsz2wXQ8o+RnZiYjbEQEAqK8oFoywhe1sycpEd+OXWJhxyj7djV/C8ubrugd/GjR2FRH2PSUxJqBOTm7e48OS7ztwW8aphwrkvxS9R7ZdCpZwp9MgvM+Mz8PpNIja9YCSX3jqiFBHdVGIUlBonBmWrEz0d9yUVbj7V3t0Dfy0YAmnXu/lVzDtW1VsZ8ESPmKaBN/fjcOWg2jp78a0aTsymXagN2B8Su6ttl7sTwM625eRkZ2I4aH72J8GXKsZxJGSZF0RwHr+oucu3A/ccD9wB/QTDMDmeUtWpqJifsapOfh6wBI+7VuFOUq5ncWIaTt+/Zjc3rZWWADM26fQAsDkmocJwM36BmQes2LRcxcjpu0ieerht9p6RbleWqZGYL1YCtbzx/t6AACx8bEAgKbaGZy6eAEBa4Aafrj/NQDgl7vf0dNdgN78TSFHuNPrV22ncM89QseEGybbsCjX97a1Qro28Ht3wD33SCR/tv4rDvg9MZvFuV5ubfji9I+P+wdCzfM72oiIfADYIqeExQ/3v8ZraUla3QAE5m9zlFFX/mZBCZf2pWXWICzOFV7h7GMLAbleLvd3d67gXOEVRceQ5vpgcz8bHbHxsYiNj5UlH9CIAEr+kG1Y0/tZwtOWXoEN99A34gEADLdXEduL92COMuLzG1ZyIle8gxpuryIAcGN5ENO+Vbwc+QJSEmMwgFnZMiuTlF3G0fe/POgHIF4LgN6AspJ8bdNaumAXX7myVF6ODy3Pp9CMAD3k08n0jXgEgtKWXkGuIRm5hmShH2sQVp7+CLYvzfW0js39tI7K0b/F8RaMmLYLnj7e1wNbaKxAPs39n6SmyMoXHd0PQDsCaD8p+X7eRSo++Aj70+bQ0UaER4l8QCUCbLdrkXagSKlZBMGLHkee7cV7YHM/jQraLuc1bN3nN6wE8Av1bPlEbgN3QmEOVLZjwo2sn8fi39yawTom3Mh6/Nc99whJherjAyBHSpJxrWaQfvGKyxVtAeOz5PfYtuHUxQtCmxL5gCQCpu024V2OfLUdUFJ2GZeUXcbRVENzNk1NN5YHhT6KShAYHVplKXINyejuXEHHhBv2sQUUx1tgH1tAx4Qb3Z0rKI63qIk/1fhy5BvDEjj6qI0nGCDv7GWutXkQ/IxT8QGA1uZByH0FD7dXEWkqYsvSPmo/PteQLEo/0rKSDrZeulVly3rkpXt9ufwvBUu+XLscAjpWH7eqepjaEYSWdwLKi5ZePRtRXumgbROb2IQWNsPlOUMrPf1f3QesF+V1+Yq5X+3LWQl+3kXOfPUxAMDnCBHdA1AIBaX7gAXJ1rPr6t8xNR2iuhj/ryElUg955XX5RNqPPQ6xjy0EZQRK/t6doQDWdmH3Bwj+/PF55Rsxeh+gdBra33ETljdfx1TzoN55/ORgiaQEltflE0qE3OGgEvkpiTHw8iuq/eTAkk+3vz2tP5Ptu6HuA9YLShAlniXQHGUE8MQoek5pBxyzQc/Bz7vIpbxK+A6EYHrbE/LfmNyG96+eVD6M2yj3AWzYF6TXctdLysjbNVWctF5LDyXf6fUjtCkazqMemKOMMEcZFU9UWeMUpNdyVTmlZN9r4QAA1+8msXdnqKoB/byLtJRUIvfwqwCA0623hLaESOBSXmXAOqB5GNfk+BbVA3/T6vZMkZIYg5TEGFwvKSPh4QZcLykjtE4vBhyzAvnh4YY1I3j9quTTKAGAqpxSQokEAFJjFOYmPWYHnpCfmvFEpmRbovAAa0b47FClaGekehxd/+kdeN97BJ8jBEjR/dufCbz8CkZzPPjFNwkYzXEhko9GVNhWVZlzhVe48rp80SVQw9FSAgA8vwqrRuQ4vX7V6CI1RgyUzII1lKKuH/VlCsUIqP/0DnIPv4pD9t3YdVu/560XBem1HPXefbuiMZrjwr5da9474JhVJKixq4g0dhWRvTtDUV6XT+hOyNpUzfH8KqxN1ark28cWAnRTEqemHuqau8snltMD1QgIRpEU/7KXEupR7LseWdqvsauIvBz5gqZnsjsWp9ePc4VXuJI/FRC6KGuR73OEIDLxP6LtqxcP0Ne8ljYo+keBfVCPFDnO1AyoGAHHzqSib+gh+oYe4tiZVLX5y4K9WlTKu1ooSK/l5DxTDjRqaN+a042czxGi+nFFcTBjK3yOkIBn5MAs+kchPF/cruboAi3VYQxL4N6/ehJ9Q2KyWfL7R4E//uOk8nfAtN2GsDizUJYSH8wOiE5S7955PVAzkM+h778vD2ZsFfTQ09DzdwawmLO2Ff0kNQUfQv0a0hiWwPl5F/nsUKXsGFLyAcYAeWcvc9XTIeS376lPVOk+QAr2nlbr/lRJViofrI7zdwYC9CnJs/fZenRrGUGpTVr3TO8D5CZK3/USpyQfjA6tewmpHroFdXr90GOAYOaihQ17nvMsEIwB2Q+s9V7oBIP/ArlT6/56LHOwAAAAAElFTkSuQmCC",p2=()=>{const i=it.from(f2);i.scaleMode=jr.NEAREST;const e={type1:{},type2:{}};for(let t=0;t<2;t++){const r=`type${t+1}`;for(let s=0;s<5;s++)e[r][`stage_${s}`]=[new ke(i,new rt((s+1)*16,t*16,16,16))]}return e},t1=p2(),m2=({id:i,position:e,type:t="type1",growthStage:r=0,maxStage:s=4,growthTime:a,plantedTime:c,watered:d,needsWater:p,withered:g,harvestable:y,canInteract:w,onInteract:_,onClick:A})=>{const[b,P]=Ce.useState(r),[T,R]=Ce.useState(d),[F,D]=Ce.useState(0),H=Ce.useMemo(()=>{var V;return((V=t1[t])==null?void 0:V[`stage_${b}`])||t1.type1.stage_0},[t,b]);Ce.useEffect(()=>{if(!T||g)return;const V=Date.now(),L=a/5,J=setInterval(()=>{const ce=(Date.now()-V)/L;if(ce>=1){const Ae=b+1;Ae<=s&&(P(Ae),R(!1),_&&_(i,Ae)),clearInterval(J)}else D(ce)},100);return()=>clearInterval(J)},[T,b,s,a,g,i,_]);const O=Ce.useCallback(V=>{V.stopPropagation(),w&&(!T&&!g?(R(!0),D(0),A&&A(V,{action:"water"})):y&&A&&A(V,{action:"harvest"}))},[w,T,g,y,A]);return lt.jsxs(jt.Container,{position:[e.x,e.y],interactive:w,cursor:w?"pointer":"default",pointerdown:O,children:[H&&lt.jsx(jt.AnimatedSprite,{anchor:[.5,.5],textures:H,isPlaying:!1,animationSpeed:.1,scale:2}),lt.jsx(jt.Graphics,{draw:V=>{if(V.clear(),T&&(V.beginFill(49151,.7),V.drawCircle(0,15,5),V.endFill()),b<s){V.beginFill(0,.3),V.drawRect(-15,-30,30,5),V.endFill(),V.beginFill(65280,.5);const L=(b+F)/s*30;V.drawRect(-15,-30,L,5),V.endFill()}}})]})},g2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABACAYAAADlNHIOAAAAAXNSR0IArs4c6QAABEVJREFUeJztmzFPFEEUx/9nRAuMgIgECAJ2JwexPAqS+wAWdFbXnCFUJtQmUEhCfQkVIVxDdYWJBR/gEgspiQeYWNypRA0iCkQKq7Xg5pybnZnb252dWcL7JSR7k5n5z7z39u0umQcQBEEQBEEQBEEQBEEQ14WUqYmKhbwHAIulrZTsd9y40i8W8piYnEB9v+41mpieBwATkxOp+n4di6Ut6fgbhhbhPV+Z97U/X5lvGiJObOsXC/nmHwDU9+tKfeYY1lfkZoRFSCNMt2GTUelKX4z43oHe1OnxKd/Fp98/fB9dt7qk+qEcIEScBwBHezt4+mzK17fRz+OuAcCLaARr+rLI5SN+c2mjrT7rI9MP5ABdVLFJj/Z2lOMbiwgilRh9Zvj+gW6cHF/Epq91ANs479nBTBabSxu42P0BAOh+8qBFfH3tAAsvHmMwkwUAvFooYXm9AADNMUEJo8/3EwmqXyzkMTTag++HZ97J8UWs+1c6oFjIe7JbChA8+hq+W0+2eX5Mu9u/EX0d66+vHQBAc8PApQEu2/6PGR0Zlurz6eb74ZmV/SsNIXOAbOJO2FzaCGp8QOIAE/po7Fn2WsjuuDt3b6f+nP+1sn/pHSDm3E6FO001nG7z1o9TX/VODlxG83a5am3/vu8APvIHM1mp+NHeTkve4x8wTPzs669mG3+tgxnfoX5qu1yFTf0WBzDjb5erygG8MLuWPeV7Ru5Jr3Uw4zvUbzrBlr70I2axtJVSfV3ywmJ0tHvVC5D/W3Kwaf3RkeHU4ddv2hTEP4Ns7N/YQ5iPjO1yNdTXpvDRE0kfir3pjC+sw7i+TLujL2Hdx4YJFktbmMutYrzvGON9PyPpfzvvxcefQwCAN5WXgcfN5Vbx6bc9fWmUzOVWHwJA7tGHzywKxLwoa+fbKrX0WEP8S9BFz+VW2aUxfQBfGutIpL7vLYgZX0allh7jJm5pV43RzafAqL5uviToa1NQpZYeQ7n6WRSRtav6RuE66GtTkAmipCBDhE5BtvUJgiAIgiAIgiAIgiAIgiCIxFMs5D3+PJP4O6kYqQ8A3BrAdX1CFK5sgYbKwTrHJ/GuuJIFGq7rE0wSuj7ApgFc1yfESej6AEacBnBdn2CDUPUBAGI3gMv6BJt09AxgG3NlAH5e1bnN5fWs8LvQ8jtJxgci1AfEaQBX9QkuMFIfIHKx+0P6FwSX9QkuMFIfYMoArusTXOBLQexouerVbzCT9Z2PZwbg01JYA4TR59egI2n5HzBcH6CLXKAzA7ioT3CB8iEsewVsdz6epY+4Nh93fYILfIYSjd8uqhnimDD1Afwapmen8P5tVTq3SpPBxlZq6bEw+jbR/jOOGZIZc3p2CtOzl5sW21SO6vSkNd+faYlzi8e/eYezMWH1beNLQdoz8ZCciefbDJ3Pr9TSM0D1XctcAc7jC+uZibIGWySqPiAp+gRB2OIfYiBKAv6VzlQAAAAASUVORK5CYII=",Ou={frameWidth:32,frameHeight:32,animations:{idle:{frames:[0,1,2],speed:.1},move:{frames:[3,4],speed:.15}}},y2=()=>Ce.useMemo(()=>{const i=ke.from(g2);i.baseTexture.scaleMode=jr.NEAREST;const e={},t=r=>r<3?{x:r*Ou.frameWidth,y:0}:{x:(r-3)*Ou.frameWidth,y:Ou.frameHeight};return Object.entries(Ou.animations).forEach(([r,s])=>{e[r]=s.frames.map(a=>{const c=t(a);return new ke(i,new rt(c.x,c.y,Ou.frameWidth,Ou.frameHeight))})}),e},[]),v2=({id:i,position:e,direction:t,product:r,productionTime:s,lastProduced:a,canInteract:c,onInteract:d,onClick:p,checkCollision:g})=>{const y=y2(),[w]=Ce.useState(e),[_,A]=Ce.useState(e),[b,P]=Ce.useState(e),[T,R]=Ce.useState("right"),[F,D]=Ce.useState("idle"),[H,O]=Ce.useState(!1),[V,L]=Ce.useState(!0),J=Ce.useMemo(()=>(y==null?void 0:y[F])||(y==null?void 0:y.idle)||[],[y,F]);Ce.useEffect(()=>{if(!a)return;const q=()=>{const he=Date.now();L(he-a>=s)},te=setInterval(q,1e3);return q(),()=>clearInterval(te)},[a,s]),Ce.useCallback(()=>{!c||H||!V||(O(!0),D("eat"),d&&(d(i,r),L(!1)))},[i,r,d,H,c,V]);const oe=Ce.useCallback(q=>{!c||H||!V||(O(!0),D("move"),L(!1),p&&p(q),setTimeout(()=>{L(!0)},s))},[c,H,V,s,p]),ce={checkInterval:2e3,moveChance:.7,maxDistance:200,moveDuration:4e3,moveSpeed:.5},Ae=(q,te)=>{const he=q-w.x,N=te-w.y;return Math.sqrt(he*he+N*N)<=ce.maxDistance},Q=Ce.useCallback((q,te,he,N)=>{for(let j=0;j<=20;j++){const B=j/20,k=q+(he-q)*B,G=te+(N-te)*B;for(let Y=-16/2;Y<=16/2;Y+=16/2)for(let se=-16/2;se<=16/2;se+=16/2)if(g(k+Y,G+se))return!0}return!1},[g]);return Ce.useEffect(()=>{const q=setInterval(()=>{if(Math.random()<ce.moveChance&&!H){const te=["left","right","up","down"],he=te[Math.floor(Math.random()*te.length)];let N=_.x,z=_.y;const I=40+Math.random()*40;switch(he){case"left":N-=I;break;case"right":N+=I;break;case"up":z-=I;break;case"down":z+=I;break}Ae(N,z)&&!Q(_.x,_.y,N,z)&&(R(he==="left"?"left":"right"),O(!0),D("move"),P({x:N,y:z}),setTimeout(()=>{O(!1),D("idle")},ce.moveDuration))}},ce.checkInterval);return()=>clearInterval(q)},[_,H,Q,w]),Ce.useEffect(()=>{const q=Math.random()*1e3;setTimeout(()=>{if(!H){const te=["left","right","up","down"],he=te[Math.floor(Math.random()*te.length)];let N=_.x,z=_.y;const I=40+Math.random()*40;switch(he){case"left":N-=I;break;case"right":N+=I;break;case"up":z-=I;break;case"down":z+=I;break}Ae(N,z)&&!Q(_.x,_.y,N,z)&&(R(he==="left"?"left":"right"),O(!0),D("move"),P({x:N,y:z}),setTimeout(()=>{O(!1),D("idle")},ce.moveDuration))}},q)},[]),Ce.useEffect(()=>{if(_.x===b.x&&_.y===b.y)return;const te=setInterval(()=>{A(he=>{const N=b.x-he.x,z=b.y-he.y;if(Math.abs(N)<ce.moveSpeed&&Math.abs(z)<ce.moveSpeed)return b;const I=he.x+(Math.abs(N)<ce.moveSpeed?0:N>0?ce.moveSpeed:-ce.moveSpeed),j=he.y+(Math.abs(z)<ce.moveSpeed?0:z>0?ce.moveSpeed:-ce.moveSpeed);return Q(he.x,he.y,I,j)?(O(!1),D("idle"),he):{x:I,y:j}})},16);return()=>clearInterval(te)},[_,b,Q]),lt.jsxs(jt.Container,{position:[_.x,_.y],interactive:c,cursor:c&&V?"pointer":"default",pointerdown:oe,children:[J.length>0&&lt.jsx(jt.AnimatedSprite,{anchor:.5,textures:J,isPlaying:H,animationSpeed:.1,loop:!0,onComplete:()=>{O(!1),D("idle")},scale:{x:T==="left"?-2:2,y:2}}),c&&!V&&lt.jsx(jt.Graphics,{draw:q=>{q.beginFill(16711680,.5),q.drawCircle(0,-30,5),q.endFill()}})]})},x2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAYAAACinX6EAAAAAXNSR0IArs4c6QAAAmtJREFUaIHtWL9rGzEYfXaylBbSuYMNqaFkaQjUUDx56OghQyEhcMSc/wEvXjJ06JBZ4DmhJlBc6NDNSwZPJeBAyOQlLTiQDBnzYyzXwf1USSfdj+jOGnIPDN/p0/ueJIs73gcUKPCkUTIlmO8FFHcPj4zz8uIvCtqFMd8L6pU1/jy5nKbahC1/kVhWB5jvBR3WkcbeogEAQZJN2PKdgvlecHc7Du5ux0Gv1Q7F4rWO4vda7RC/12rH8l0gdAMIn762AQCzs2/Y7T1LVZS4Ir+6sYWD7sGjFpkn+AHori4AVDe2EhWy5btCGTAvPils+S5RpuDh17WUOB9+l57VvApbvivwtzLzveDd+xWeqNUb0sRhfxT5KbPluwJ/B4x/r1WB6ezD7gsA8wVTfDy4/5c3w5bvCiUA2GzuV2iguTqdAfMNiTHlf4z3LtUitnyX4FdS3IQJUYu35RcoUMAJcvssubbDSfVz6QdkYYcXpa81Q2oB5nuJrWwWdtipvmiJxV8SK2trp13ol9UC4ul93vnC46ubJaTx84+x06Qv6lLcYZ1c9I39AF2R48G9cW6Wdtjm8NLqx/YDpCIDfUMjCzusq2Hbi0iCTPoBgGx3VSus5lW41F8WJzx//Uoqsr79MbYA4WLyE5jM41q9EZofZ4dJX9XNW58fgFjAVMSE7uFRieH/C6pWl/NJegGkn0bXpH96IltxmqPj8gN4+eaPRDg9GfFJVCwKkt/vj2ZqL2CzuV+JcoOkP+yPQrk0+s3VeU+C9kHjJv0S2ViddyeoObWQzgqb6pm4WepH1VK5oYZIHEz/ok0/wLX+k8Zf1e1c1zwdq78AAAAASUVORK5CYII=",Lu={frameWidth:16,frameHeight:16,animations:{idle:{frames:[0,1],speed:.1},move:{frames:[2,3,4,5],speed:.15}}},_2=()=>Ce.useMemo(()=>{const i=ke.from(x2);i.baseTexture.scaleMode=jr.NEAREST;const e={},t=r=>r<2?{x:r*Lu.frameWidth,y:0}:{x:(r-2)*Lu.frameWidth,y:Lu.frameHeight};return Object.entries(Lu.animations).forEach(([r,s])=>{e[r]=s.frames.map(a=>{const c=t(a);return new ke(i,new rt(c.x,c.y,Lu.frameWidth,Lu.frameHeight))})}),e},[]),w2=({id:i,position:e,direction:t,product:r,productionTime:s,lastProduced:a,canInteract:c,onInteract:d,onClick:p,checkCollision:g})=>{const[y,w]=Ce.useState("idle"),[_,A]=Ce.useState(!1),[b,P]=Ce.useState(!0),[T,R]=Ce.useState(e),[F,D]=Ce.useState(t),[H,O]=Ce.useState(e),V=_2(),L=Ce.useMemo(()=>!V||!V[y]?(V==null?void 0:V.idle)||[]:V[y],[V,y]),J=Ce.useCallback(Q=>{L.length>0&&w(Q)},[L]);Ce.useEffect(()=>{if(!a)return;const Q=()=>{const te=Date.now();P(te-a>=s)},q=setInterval(Q,1e3);return Q(),()=>clearInterval(q)},[a,s]);const oe={checkInterval:1e3,moveChance:.7,moveDistance:200,moveDuration:3e3,moveSpeed:2},ce=Ce.useCallback((Q,q,te,he)=>{if(g(Q,q)||g(te,he))return!0;for(let I=0;I<=20;I++){const j=I/20,B=Q+(te-Q)*j,k=q+(he-q)*j;for(let G=-16/2;G<=16/2;G+=16/2)for(let Y=-16/2;Y<=16/2;Y+=16/2)if(g(B+G,k+Y))return!0}return!1},[g]);Ce.useEffect(()=>{if(T.x===H.x&&T.y===H.y)return;const q=setInterval(()=>{R(te=>{const he=H.x-te.x,N=H.y-te.y;if(Math.abs(he)<oe.moveSpeed&&Math.abs(N)<oe.moveSpeed)return H;const z=te.x+(Math.abs(he)<oe.moveSpeed?0:he>0?oe.moveSpeed:-oe.moveSpeed),I=te.y+(Math.abs(N)<oe.moveSpeed?0:N>0?oe.moveSpeed:-oe.moveSpeed);return ce(te.x,te.y,z,I)?(A(!1),w("idle"),te):{x:z,y:I}})},16);return()=>clearInterval(q)},[T,H,ce]),Ce.useEffect(()=>{const Q=setInterval(()=>{if(Math.random()<oe.moveChance&&!_){const q=["left","right","up","down"],te=q[Math.floor(Math.random()*q.length)];let he=T.x,N=T.y;switch(te){case"left":he-=oe.moveDistance;break;case"right":he+=oe.moveDistance;break;case"up":N-=oe.moveDistance;break;case"down":N+=oe.moveDistance;break}ce(T.x,T.y,he,N)||(D(te==="left"?"left":"right"),A(!0),w("move"),O({x:he,y:N}),setTimeout(()=>{A(!1),w("idle")},oe.moveDuration))}},oe.checkInterval);return()=>clearInterval(Q)},[T,_,g]);const Ae=Ce.useCallback(Q=>{!c||_||!b||(A(!0),J("move"),P(!1),p&&p(Q),setTimeout(()=>{P(!0)},s))},[c,_,b,s,p,J]);return lt.jsxs(jt.Container,{position:[T.x,T.y],interactive:c,cursor:c&&b?"pointer":"default",pointerdown:Ae,children:[L.length>0&&lt.jsx(jt.AnimatedSprite,{anchor:.5,textures:L,isPlaying:_,animationSpeed:.1,loop:!0,onComplete:()=>{_&&(A(!1),J("idle"))},scale:{x:F==="left"?-2:2,y:2}}),c&&!b&&lt.jsx(jt.Graphics,{draw:Q=>{Q.beginFill(16711680,.5),Q.drawCircle(0,-20,5),Q.endFill()}})]})},E2=[{id:"tree_01",position:{x:402,y:220},type:"tree1",health:100,dropItems:["wood","stick"]},{id:"tree_02",position:{x:401,y:268},type:"tree2",health:100,dropItems:["wood","stick"]},{id:"tree_03",position:{x:408,y:343},type:"tree1",health:100,dropItems:["wood","stick"]},{id:"tree_04",position:{x:415,y:433},type:"tree2",health:100,dropItems:["wood","stick"]},{id:"tree_05",position:{x:458,y:249},type:"tree1",health:100,dropItems:["wood","stick"]},{id:"tree_06",position:{x:463,y:323},type:"tree2",health:100,dropItems:["wood","stick"]},{id:"tree_07",position:{x:463,y:374},type:"tree1",health:100,dropItems:["wood","stick"]},{id:"tree_08",position:{x:529,y:437},type:"tree2",health:100,dropItems:["wood","stick"]},{id:"tree_09",position:{x:548,y:200},type:"tree1",health:100,dropItems:["wood","stick"]},{id:"tree_10",position:{x:553,y:270},type:"tree2",health:100,dropItems:["wood","stick"]},{id:"tree_11",position:{x:619,y:200},type:"tree1",health:100,dropItems:["wood","stick"]},{id:"tree_12",position:{x:616,y:259},type:"tree2",health:100,dropItems:["wood","stick"]},{id:"tree_13",position:{x:731,y:320},type:"tree1",health:100,dropItems:["wood","stick"]},{id:"tree_14",position:{x:1654,y:729},type:"tree2",health:100,dropItems:["wood","stick"]},{id:"tree_15",position:{x:1604,y:802},type:"tree1",health:100,dropItems:["wood","stick"]},{id:"tree_16",position:{x:1695,y:797},type:"tree2",health:100,dropItems:["wood","stick"]},{id:"tree_17",position:{x:1770,y:793},type:"tree1",health:100,dropItems:["wood","stick"]},{id:"tree_18",position:{x:1270,y:115},type:"tree2",health:100,dropItems:["wood","stick"]},{id:"tree_19",position:{x:1264,y:321},type:"tree1",health:100,dropItems:["wood","stick"]},{id:"tree_20",position:{x:1357,y:163},type:"tree2",health:100,dropItems:["wood","stick"]},{id:"tree_21",position:{x:1469,y:145},type:"tree1",health:100,dropItems:["wood","stick"]},{id:"tree_22",position:{x:1470,y:80},type:"tree2",health:100,dropItems:["wood","stick"]},{id:"tree_23",position:{x:1553,y:157},type:"tree1",health:100,dropItems:["wood","stick"]}],S2={trees:E2},A2=[{id:"fruitTree_01",type:"apple",position:{x:1260,y:191},scale:1.2,fruitType:"apple",fruitGrowthTime:3e5,maxFruits:3,currentFruits:3,season:["spring","summer","fall"],lastDropped:null},{id:"fruitTree_02",type:"orange",position:{x:747,y:167},scale:1.1,fruitType:"orange",fruitGrowthTime:24e4,maxFruits:4,currentFruits:4,season:["summer","fall"],lastDropped:null},{id:"fruitTree_03",type:"peach",position:{x:737,y:273},scale:1.15,fruitType:"peach",fruitGrowthTime:27e4,maxFruits:3,currentFruits:3,season:["summer"],lastDropped:null}],Hx={fruitTrees:A2},b2=[{id:"rock_1",type:"large",position:{x:1134.0849838586194,y:403.3843100369525},maxHealth:5,currentHealth:5,dropItems:["stone","iron"]},{id:"rock_2",type:"small",position:{x:994.0849838586194,y:418.3843100369525},maxHealth:2,currentHealth:2,dropItems:["stone"]},{id:"rock_3",type:"large",position:{x:1282.0849838586194,y:251.3843100369525},maxHealth:5,currentHealth:5,dropItems:["stone","iron"]},{id:"rock_4",type:"small",position:{x:1439.0849838586194,y:321.3843100369525},maxHealth:2,currentHealth:2,dropItems:["stone"]},{id:"rock_5",type:"large",position:{x:1274.706160598678,y:1009.7375491919507},maxHealth:5,currentHealth:5,dropItems:["stone","iron"]},{id:"rock_6",type:"small",position:{x:1446.706160598678,y:1056.7375491919506},maxHealth:2,currentHealth:2,dropItems:["stone"]},{id:"rock_7",type:"large",position:{x:1561.706160598678,y:957.7375491919507},maxHealth:5,currentHealth:5,dropItems:["stone","iron"]},{id:"rock_8",type:"small",position:{x:1569.3587700744292,y:884.856725231363},maxHealth:2,currentHealth:2,dropItems:["stone"]},{id:"rock_9",type:"large",position:{x:2083.7071997164726,y:260.3899099574137},maxHealth:5,currentHealth:5,dropItems:["stone","iron"]},{id:"rock_10",type:"small",position:{x:2153.7071997164726,y:615.3899099574137},maxHealth:2,currentHealth:2,dropItems:["stone"]},{id:"rock_11",type:"large",position:{x:2179.7071997164726,y:727.3899099574137},maxHealth:5,currentHealth:5,dropItems:["stone","iron"]},{id:"rock_12",type:"small",position:{x:2125.7071997164726,y:803.3899099574137},maxHealth:2,currentHealth:2,dropItems:["stone"]},{id:"rock_13",type:"large",position:{x:2060.7071997164726,y:822.3899099574137},maxHealth:5,currentHealth:5,dropItems:["stone","iron"]},{id:"rock_14",type:"small",position:{x:2045.4075993782744,y:893.9438829728789},maxHealth:2,currentHealth:2,dropItems:["stone"]},{id:"rock_15",type:"large",position:{x:688.2052487487056,y:220.88446971196691},maxHealth:5,currentHealth:5,dropItems:["stone","iron"]},{id:"rock_16",type:"small",position:{x:320.20524874870557,y:304.8844697119669},maxHealth:2,currentHealth:2,dropItems:["stone"]},{id:"rock_17",type:"large",position:{x:715.2052487487056,y:95.88446971196691},maxHealth:5,currentHealth:5,dropItems:["stone","iron"]},{id:"rock_18",type:"small",position:{x:824.2052487487056,y:86.88446971196691},maxHealth:2,currentHealth:2,dropItems:["stone"]},{id:"rock_19",type:"large",position:{x:934.0512798355379,y:94.54172706250284},maxHealth:5,currentHealth:5,dropItems:["stone","iron"]},{id:"rock_20",type:"small",position:{x:1029.051279835538,y:63.541727062502844},maxHealth:2,currentHealth:2,dropItems:["stone"]}],r1={rocks:b2},T2=[{id:"crop_01",position:{x:1525,y:360},type:"type1",growthStage:0,growthTime:18e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_02",position:{x:1625,y:360},type:"type2",growthStage:0,growthTime:24e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_03",position:{x:1825,y:360},type:"type1",growthStage:0,growthTime:15e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_04",position:{x:1925,y:360},type:"type2",growthStage:0,growthTime:18e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_05",position:{x:1525,y:420},type:"type1",growthStage:0,growthTime:24e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_06",position:{x:1625,y:420},type:"type2",growthStage:0,growthTime:15e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_07",position:{x:1825,y:420},type:"type1",growthStage:0,growthTime:18e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_08",position:{x:1925,y:420},type:"type2",growthStage:0,growthTime:24e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_09",position:{x:1525,y:480},type:"type1",growthStage:0,growthTime:15e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_10",position:{x:1625,y:480},type:"type2",growthStage:0,growthTime:18e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_11",position:{x:1825,y:480},type:"type1",growthStage:0,growthTime:24e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_12",position:{x:1925,y:480},type:"type2",growthStage:0,growthTime:15e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_13",position:{x:1525,y:540},type:"type1",growthStage:0,growthTime:18e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_14",position:{x:1625,y:540},type:"type2",growthStage:0,growthTime:24e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_15",position:{x:1825,y:540},type:"type1",growthStage:0,growthTime:15e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100},{id:"crop_16",position:{x:1925,y:540},type:"type2",growthStage:0,growthTime:18e4,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1,waterLevel:100}],C2={crops:T2},P2=[{id:"cow_01",position:{x:346,y:680},type:"brown",productType:"milk",productionTime:432e5,lastProduced:null,happiness:100,hunger:100},{id:"cow_02",position:{x:408,y:688},type:"spotted",productType:"milk",productionTime:432e5,lastProduced:null,happiness:100,hunger:100},{id:"cow_03",position:{x:385,y:756},type:"brown",productType:"milk",productionTime:432e5,lastProduced:null,happiness:100,hunger:100},{id:"cow_04",position:{x:494,y:779},type:"spotted",productType:"milk",productionTime:432e5,lastProduced:null,happiness:100,hunger:100},{id:"cow_05",position:{x:490,y:707},type:"brown",productType:"milk",productionTime:432e5,lastProduced:null,happiness:100,hunger:100}],I2={cows:P2},R2=[{id:"chicken_01",position:{x:638,y:462},type:"white",productType:"egg",productionTime:216e5,lastProduced:null,happiness:100,hunger:100},{id:"chicken_02",position:{x:577,y:474},type:"brown",productType:"egg",productionTime:216e5,lastProduced:null,happiness:100,hunger:100},{id:"chicken_03",position:{x:630,y:495},type:"black",productType:"egg",productionTime:216e5,lastProduced:null,happiness:100,hunger:100},{id:"chicken_04",position:{x:639,y:560},type:"white",productType:"egg",productionTime:216e5,lastProduced:null,happiness:100,hunger:100},{id:"chicken_05",position:{x:727,y:455},type:"brown",productType:"egg",productionTime:216e5,lastProduced:null,happiness:100,hunger:100},{id:"chicken_06",position:{x:690,y:504},type:"black",productType:"egg",productionTime:216e5,lastProduced:null,happiness:100,hunger:100},{id:"chicken_07",position:{x:810,y:492},type:"white",productType:"egg",productionTime:216e5,lastProduced:null,happiness:100,hunger:100},{id:"chicken_08",position:{x:788,y:431},type:"brown",productType:"egg",productionTime:216e5,lastProduced:null,happiness:100,hunger:100},{id:"chicken_09",position:{x:731,y:547},type:"black",productType:"egg",productionTime:216e5,lastProduced:null,happiness:100,hunger:100}],k2={chickens:R2},M2=({playerPosition:i,onInteract:e,fruitTrees:t,checkCollision:r})=>{const s=Ce.useCallback(_=>{const A=_.x-i.x,b=_.y-i.y;return A*A+b*b<1e4},[i]),a=Ce.useMemo(()=>({tree:(_,A)=>e("tree",_,{items:A}),fruitTree:e,rock:(_,A)=>e("rock",_,{items:A}),crop:(_,A,b)=>e("crop",_,{type:A,action:b}),cow:(_,A)=>e("cow",_,{product:A}),chicken:(_,A)=>e("chicken",_,{product:A})}),[e]),[c,d]=Ce.useState([{id:"crop_01",type:"type1",position:{x:300,y:200},growthStage:0,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1},{id:"crop_02",type:"type2",position:{x:350,y:200},growthStage:0,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1}]);Ce.useEffect(()=>{const _=setInterval(()=>{d(A=>A.map(b=>{if(!b.plantedTime||b.withered)return b;const P=Date.now();return b.lastWateredTime&&P-b.lastWateredTime>3e5?{...b,withered:!0,watered:!1,needsWater:!1,harvestable:!1}:b}))},1e3);return()=>clearInterval(_)},[]);const p=Ce.useCallback((_,A)=>{d(b=>b.map(P=>{if(P.id!==_)return P;const T=Date.now();switch(A){case"water":return P.withered?P:{...P,watered:!0,needsWater:!1,lastWateredTime:T,plantedTime:P.plantedTime||T};case"harvest":return P.harvestable?{...P,growthStage:0,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1}:P;case"remove":return P.withered?{...P,growthStage:0,plantedTime:null,lastWateredTime:null,watered:!1,needsWater:!1,withered:!1,harvestable:!1}:P;default:return P}}))},[]),g=Ce.useCallback((_,A)=>{d(b=>b.map(P=>{if(P.id===_){const T=A===4;return{...P,growthStage:A,watered:!1,needsWater:!T,harvestable:T}}return P}))},[]),[y,w]=Ce.useState(r1.rocks);return Ce.useCallback(_=>{w(A=>A.filter(b=>b.id!==_))},[]),lt.jsxs(jt.Container,{children:[Hx.fruitTrees.map(_=>lt.jsx(u2,{..._,currentSeason:"summer",canInteract:s(_.position),onInteract:a.fruitTree},_.id)),k2.chickens.map(_=>lt.jsx(w2,{..._,canInteract:s(_.position),onInteract:a.chicken,checkCollision:r},_.id)),S2.trees.map(_=>lt.jsx(s2,{..._,canInteract:s(_.position),onInteract:a.tree},_.id)),r1.rocks.map(_=>lt.jsx(d2,{..._,canInteract:s(_.position),onInteract:a.rock},_.id)),C2.crops.map(_=>lt.jsx(m2,{..._,maxStage:4,growthTime:12e3,canInteract:!_.withered||_.withered&&_.growthStage>0,onClick:(A,{action:b})=>p(_.id,b),onInteract:g},_.id)),I2.cows.map(_=>lt.jsx(v2,{..._,canInteract:s(_.position),onInteract:a.cow,checkCollision:r},_.id))]})},D2=[{name:"area_01",points:[{x:567.3654708742718,y:333.52094896866873},{x:568.3654708742718,y:370.52094896866873},{x:577.3654708742718,y:426.52094896866873},{x:618.3654708742718,y:449.52094896866873},{x:657.3654708742718,y:433.52094896866873},{x:672.3654708742718,y:373.52094896866873},{x:672.3654708742718,y:336.52094896866873},{x:616.3654708742718,y:312.52094896866873}]},{name:"area_02",points:[{x:1086.1448903830294,y:404.43282810732694},{x:990.1448903830294,y:404.43282810732694},{x:986.1448903830294,y:363.43282810732694},{x:787.1448903830294,y:364.43282810732694},{x:786.1448903830294,y:119.43282810732694},{x:1213.1448903830294,y:118.43282810732694},{x:1215.1448903830294,y:363.43282810732694},{x:1175.1448903830294,y:404.43282810732694},{x:1115.1448903830294,y:404.43282810732694},{x:1113.1448903830294,y:360.43282810732694},{x:1157.1448903830294,y:355.43282810732694},{x:1159.1448903830294,y:319.43282810732694},{x:1197.1448903830294,y:315.43282810732694},{x:1200.1448903830294,y:163.43282810732694},{x:803.1448903830294,y:163.43282810732694},{x:803.1448903830294,y:319.43282810732694},{x:1001.1448903830294,y:320.43282810732694},{x:1002.1448903830294,y:357.43282810732694},{x:1085.1448903830294,y:356.43282810732694}]},{name:"area_03",points:[{x:582.9376771621087,y:614.1515615296936},{x:299.9376771621087,y:609.1515615296936},{x:295.9376771621087,y:895.1515615296936},{x:773.9376771621087,y:908.1515615296936},{x:769.6410658515184,y:988.2328053987374},{x:1103.6410658515183,y:992.2328053987374},{x:1105.6410658515183,y:959.2328053987374},{x:790.6410658515184,y:967.2328053987374},{x:785.6410658515184,y:806.2328053987374},{x:769.6410658515184,y:805.2328053987374},{x:771.6410658515184,y:884.2328053987374},{x:588.6410658515184,y:884.2328053987374},{x:581.6410658515184,y:720.2328053987374},{x:570.6410658515184,y:732.2328053987374},{x:573.6410658515184,y:880.2328053987374},{x:310.6410658515184,y:882.2328053987374},{x:313.6410658515184,y:633.2328053987374},{x:583.6410658515184,y:635.2328053987374}]},{name:"area_04",points:[{x:1292.3385642724331,y:958.5344722184774},{x:1409.3385642724331,y:963.5344722184774},{x:1410.3385642724331,y:795.5344722184774},{x:1426.3385642724331,y:797.5344722184774},{x:1431.3385642724331,y:990.5344722184774},{x:1298.3385642724331,y:994.5344722184774},{x:1291.3385642724331,y:989.5344722184774}]},{name:"area_05",points:[{x:1435.2068720173781,y:775.5302864380787},{x:1460.2068720173781,y:755.5302864380787},{x:1500.2068720173781,y:804.5302864380787},{x:1530.2068720173781,y:759.5302864380787},{x:1556.2068720173781,y:771.5302864380787},{x:1542.2068720173781,y:838.5302864380787},{x:1506.2068720173781,y:877.5302864380787},{x:1482.2068720173781,y:859.5302864380787},{x:1460.2068720173781,y:836.5302864380787},{x:1442.2068720173781,y:817.5302864380787}]},{name:"area_06",points:[{x:280.6717677976635,y:287.97383288065174},{x:280.6717677976635,y:478.97383288065174},{x:204.6717677976635,y:485.97383288065174},{x:202.00413948476353,y:989.504315599781},{x:679.0041394847635,y:1001.504315599781},{x:683.0041394847635,y:1071.504315599781},{x:1470.2514266853182,y:1075.013494283884},{x:1477.2514266853182,y:999.013494283884},{x:1587.2514266853182,y:994.013494283884},{x:1597.2514266853182,y:920.013494283884},{x:2074.6730613319087,y:913.6600258242999},{x:2079.6730613319087,y:842.6600258242999},{x:2194.6730613319087,y:835.6600258242999},{x:2198.6730613319087,y:609.6600258242999},{x:2118.6730613319087,y:598.6600258242999},{x:2118.5789131641804,y:248.16102126322482},{x:2042.4444394091283,y:238.55693936444936},{x:2033.4444394091283,y:168.55693936444936},{x:1718.4444394091283,y:158.55693936444936},{x:1712.288431742334,y:123.01740390974464},{x:1516.288431742334,y:119.01740390974464},{x:1512.288431742334,y:47.017403909744644},{x:728.3692899256298,y:40.919257155391136},{x:722.3692899256298,y:77.91925715539114},{x:650.3692899256298,y:82.91925715539114},{x:643.3692899256298,y:160.91925715539114},{x:328.4613352136099,y:159.94573796905706},{x:322.4613352136099,y:277.94573796905706},{x:335.4613352136099,y:277.94573796905706},{x:338.4613352136099,y:173.94573796905706},{x:649.4613352136099,y:171.94573796905706},{x:657.4613352136099,y:94.94573796905706},{x:730.4613352136099,y:89.94573796905706},{x:736.4613352136099,y:52.94573796905706},{x:1504.0506803635894,y:55.6005432756468},{x:1504.0506803635894,y:122.6005432756468},{x:1705.0506803635894,y:132.6005432756468},{x:1709.0506803635894,y:166.6005432756468},{x:2025.7290023236578,y:176.02269317374353},{x:2030.7290023236578,y:241.02269317374353},{x:2033.7290023236578,y:252.02269317374353},{x:2106.729002323658,y:255.02269317374353},{x:2107.3352208086544,y:598.8831931641403},{x:2104.3352208086544,y:608.8831931641403},{x:2187.3352208086544,y:617.8831931641403},{x:2186.3352208086544,y:821.8831931641403},{x:2078.3352208086544,y:830.8831931641403},{x:2068.3352208086544,y:830.8831931641403},{x:2062.7164743986377,y:903.3526015791858},{x:1595.716474398638,y:905.3526015791858},{x:1580.512344068757,y:978.5071664242132},{x:1467.512344068757,y:991.5071664242132},{x:1462.512344068757,y:1062.5071664242132},{x:691.4201180514272,y:1065.9216932276456},{x:690.4201180514272,y:994.9216932276456},{x:217.09272850155094,y:978.2728898529941},{x:217.11573449684937,y:498.1275573618576},{x:295.11573449684937,y:487.1275573618576},{x:294.4484239468641,y:293.6562150816965},{x:335.13121441227906,y:284.33012756824354},{x:319.13121441227906,y:280.33012756824354}]},{name:"area_07",points:[]},{name:"area_08",points:[{x:1087.6086402863107,y:211.39786329615117},{x:1083.6086402863107,y:239.39786329615117},{x:1053.6086402863107,y:243.39786329615117},{x:1051.6086402863107,y:272.3978632961512},{x:1081.6086402863107,y:271.3978632961512},{x:1112.6086402863107,y:270.3978632961512},{x:1151.6086402863107,y:271.3978632961512},{x:1147.6086402863107,y:249.39786329615117},{x:1128.6086402863107,y:255.39786329615117},{x:1111.6086402863107,y:234.39786329615117},{x:1112.6086402863107,y:213.39786329615117}]},{name:"area_09",points:[{x:1005.5183228565397,y:167.29091032297583},{x:1005.5183228565397,y:194.29091032297583},{x:1031.5183228565397,y:197.29091032297583},{x:1034.5183228565397,y:173.29091032297583}]},{name:"area_10",points:[{x:807.2407318293835,y:190.83481310698465},{x:836.2407318293835,y:190.83481310698465},{x:834.2407318293835,y:228.83481310698465},{x:814.2407318293835,y:233.83481310698465},{x:809.2407318293835,y:233.83481310698465},{x:802.2407318293835,y:231.83481310698465}]}],jx={areas:D2},N2=({cameraPosition:i,onCollisionAreasChange:e})=>{const[t,r]=Ce.useState(0),[s,a]=Ce.useState(jx.areas),[c,d]=Ce.useState(0),p=Ce.useCallback(g=>{if(g.button!==2)return;g.preventDefault();const w=g.currentTarget.getBoundingClientRect(),_=g.clientX-w.left-i.x,A=g.clientY-w.top-i.y;a(b=>{const P=[...b];return P[t]={...P[t],points:[...P[t].points||[],{x:_,y:A}]},P}),d(b=>b+1),e&&e(s)},[i,t,e]);return Ce.useEffect(()=>{const g=document.createElement("div");g.style.position="fixed",g.style.top="10px",g.style.left="10px",g.style.zIndex="1000",g.style.display="flex",g.style.flexDirection="column",g.style.gap="10px";const y=document.createElement("div");y.style.display="flex",y.style.gap="5px",y.style.backgroundColor="rgba(0, 0, 0, 0.5)",y.style.padding="5px",y.style.borderRadius="3px",s.forEach((R,F)=>{const D=document.createElement("button");D.textContent=R.name,D.style.padding="5px 10px",D.style.cursor="context-menu",D.style.backgroundColor=F===t?"#4CAF50":"#666",D.style.color="white",D.style.border="none",D.style.borderRadius="3px",D.addEventListener("mousedown",H=>{H.button===2&&(H.preventDefault(),r(F),y.querySelectorAll("button").forEach((O,V)=>{O.style.backgroundColor=V===F?"#4CAF50":"#666"}))}),D.addEventListener("contextmenu",H=>H.preventDefault()),y.appendChild(D)});const w=document.createElement("div");w.style.display="flex",w.style.gap="10px";const _=document.createElement("button");_.textContent="",_.style.padding="5px 10px",_.style.cursor="context-menu",_.addEventListener("mousedown",R=>{R.button===2&&(R.preventDefault(),a(F=>{const D=[...F];return D[t]={...D[t],points:[]},D}),d(F=>F+1))});const A=document.createElement("button");A.textContent="",A.style.padding="5px 10px",A.style.cursor="context-menu",A.addEventListener("mousedown",R=>{R.button===2&&(R.preventDefault(),a(F=>{const D=[...F];return D[t]={...D[t],points:(D[t].points||[]).slice(0,-1)},D}),d(F=>F+1))});const b=document.createElement("button");b.textContent="",b.style.padding="5px 10px",b.style.cursor="context-menu",b.addEventListener("mousedown",R=>{if(R.button!==2)return;R.preventDefault();const D=JSON.stringify({areas:s},null,2);navigator.clipboard.writeText(D),console.log("Exported collision config:",D)}),[_,A,b].forEach(R=>{R.style.backgroundColor="#666",R.style.color="white",R.style.border="none",R.style.borderRadius="3px",R.addEventListener("contextmenu",F=>F.preventDefault())}),w.appendChild(_),w.appendChild(A),w.appendChild(b),g.appendChild(y),g.appendChild(w),document.body.appendChild(g);const P=document.querySelector("canvas");P&&(P.addEventListener("contextmenu",R=>R.preventDefault()),P.addEventListener("mousedown",p));const T=document.createElement("div");return T.style.position="fixed",T.style.bottom="10px",T.style.left="10px",T.style.color="#00FF00",T.style.backgroundColor="rgba(0, 0, 0, 0.5)",T.style.padding="5px 10px",T.style.borderRadius="3px",T.style.zIndex="1000",T.textContent=`: ${s[t].name} | `,document.body.appendChild(T),()=>{P&&P.removeEventListener("mousedown",p),document.body.contains(g)&&document.body.removeChild(g),document.body.contains(T)&&document.body.removeChild(T)}},[p,s,t]),lt.jsx(jt.Graphics,{draw:g=>{g.clear(),s.forEach((y,w)=>{const _=y.points||[];if(_.length===0)return;const A=w===t?65280:6710886,b=w===t?1:.5;g.lineStyle(2,A,b),g.moveTo(_[0].x,_[0].y),_.forEach(P=>{g.lineTo(P.x,P.y)}),_.length>2&&g.lineTo(_[0].x,_[0].y),w===t&&_.forEach((P,T)=>{g.beginFill(A),g.drawCircle(P.x,P.y,5),g.endFill();const R=new Cf(T.toString(),{fontSize:16,fill:A});R.position.set(P.x+10,P.y+10),g.addChild(R)})})}},c)},F2=({cameraPosition:i})=>{const[e,t]=Ce.useState([]),[r,s]=Ce.useState("tree"),[a,c]=Ce.useState(0),d=["tree","fruitTree","rock","cow","chicken","crop"],p={tree:2972199,fruitTree:3897915,rock:8421504,cow:16777215,chicken:16766720,crop:9127187},g=Ce.useCallback(y=>{if(y.button!==2)return;y.preventDefault();const _=y.currentTarget.getBoundingClientRect(),A=y.clientX-_.left-i.x,b=y.clientY-_.top-i.y;t(P=>[...P,{type:r,x:A,y:b}]),c(P=>P+1)},[r,i]);return Ce.useEffect(()=>{const y=document.createElement("div");y.style.position="fixed",y.style.top="10px",y.style.left="10px",y.style.zIndex="1000",y.style.display="flex",y.style.flexDirection="column",y.style.gap="10px";const w=document.createElement("div");w.style.display="flex",w.style.gap="5px",w.style.backgroundColor="rgba(0, 0, 0, 0.5)",w.style.padding="5px",w.style.borderRadius="3px",d.forEach(F=>{const D=document.createElement("button");D.textContent=F,D.style.padding="5px 10px",D.style.backgroundColor=F===r?"#4CAF50":"#666",D.style.color="white",D.style.border="none",D.style.borderRadius="3px",D.style.cursor="context-menu",D.addEventListener("mousedown",H=>{H.button===2&&(H.preventDefault(),s(F),w.querySelectorAll("button").forEach(O=>{O.style.backgroundColor=O.textContent===F?"#4CAF50":"#666"}))}),D.addEventListener("contextmenu",H=>H.preventDefault()),w.appendChild(D)});const _=document.createElement("div");_.style.display="flex",_.style.gap="10px";const A=document.createElement("button");A.textContent="",A.addEventListener("mousedown",F=>{F.button===2&&(F.preventDefault(),t([]),c(D=>D+1))});const b=document.createElement("button");b.textContent="",b.addEventListener("mousedown",F=>{F.button===2&&(F.preventDefault(),t(D=>D.slice(0,-1)),c(D=>D+1))});const P=document.createElement("button");P.textContent="",P.addEventListener("mousedown",F=>{if(F.button!==2)return;F.preventDefault();const D=e.reduce((O,V)=>(O[V.type]||(O[V.type]=[]),O[V.type].push({id:`${V.type}_${O[V.type].length+1}`,position:{x:V.x,y:V.y}}),O),{}),H={trees:D.tree||[],fruitTrees:D.fruitTree||[],rocks:D.rock||[],cows:D.cow||[],chickens:D.chicken||[],crops:D.crop||[]};console.log(":",JSON.stringify(H,null,2))}),[A,b,P].forEach(F=>{F.style.backgroundColor="#666",F.style.color="white",F.style.border="none",F.style.borderRadius="3px",F.style.padding="5px 10px",F.style.cursor="context-menu",F.addEventListener("contextmenu",D=>D.preventDefault())}),_.appendChild(A),_.appendChild(b),_.appendChild(P),y.appendChild(w),y.appendChild(_),document.body.appendChild(y);const T=document.querySelector("canvas");T&&(T.addEventListener("contextmenu",F=>F.preventDefault()),T.addEventListener("mousedown",g));const R=document.createElement("div");return R.style.position="fixed",R.style.bottom="10px",R.style.left="10px",R.style.color="#00FF00",R.style.backgroundColor="rgba(0, 0, 0, 0.5)",R.style.padding="5px 10px",R.style.borderRadius="3px",R.style.zIndex="1000",R.textContent=`: ${r} | `,document.body.appendChild(R),()=>{T&&T.removeEventListener("mousedown",g),document.body.contains(y)&&document.body.removeChild(y),document.body.contains(R)&&document.body.removeChild(R)}},[g,r,d]),lt.jsx(jt.Graphics,{draw:y=>{y.clear(),e.forEach(w=>{y.beginFill(p[w.type]),y.drawCircle(w.x,w.y,5),y.endFill()})}},a)},B2=({cameraPosition:i})=>{const[e,t]=Ce.useState(null);return Ce.useEffect(()=>{const r=document.createElement("button");return r.style.position="fixed",r.style.top="10px",r.style.right="10px",r.style.zIndex="1000",r.style.padding="5px 10px",r.style.backgroundColor="#666",r.style.color="white",r.style.border="none",r.style.borderRadius="3px",r.style.cursor="pointer",(()=>{switch(e){case null:r.textContent="",r.style.backgroundColor="#666";break;case"debug":r.textContent="",r.style.backgroundColor="#4CAF50";break;case"position":r.textContent="",r.style.backgroundColor="#FF9800";break}})(),r.addEventListener("click",()=>{t(a=>{switch(a){case null:return"debug";case"debug":return"position";case"position":return null;default:return null}})}),document.body.appendChild(r),()=>{document.body.contains(r)&&document.body.removeChild(r)}},[e]),lt.jsxs(lt.Fragment,{children:[e==="debug"&&lt.jsx(N2,{cameraPosition:i}),e==="position"&&lt.jsx(F2,{cameraPosition:i})]})},O2=()=>{const[i,e]=Ce.useState({x:0,y:0}),[t,r]=Ce.useState({x:400,y:300}),[s,a]=Ce.useState(Hx.fruitTrees),c=Ce.useCallback((_,A)=>{let b=!1;for(let P=0,T=A.length-1;P<A.length;T=P++){const R=A[P].x,F=A[P].y,D=A[T].x,H=A[T].y;F>_.y!=H>_.y&&_.x<(D-R)*(_.y-F)/(H-F)+R&&(b=!b)}return b},[]),d=Ce.useCallback((_,A)=>{for(const b of jx.areas)if(b.points&&b.points.length>2&&c({x:_,y:A},b.points))return!0;return!1},[c]),p=Ce.useCallback((_,A)=>{r({x:_,y:A});const b=-_+window.innerWidth/2,P=-A+window.innerHeight/2;e({x:b,y:P})},[]),g=Ce.useCallback((_,A,b)=>{_==="fruitTree"&&a(P=>P.map(T=>T.id===A?{...T,currentFruits:Math.max(0,T.currentFruits-1)}:T))},[]);Ce.useEffect(()=>{const _=setInterval(()=>{a(A=>A.map(b=>b.currentFruits<b.maxFruits&&b.lastDropped&&Date.now()-b.lastDropped>=b.fruitGrowthTime?{...b,currentFruits:Math.min(b.maxFruits,b.currentFruits+1),lastDropped:Date.now()}:b))},1e3);return()=>clearInterval(_)},[]);const y=ke.from(Mb);y.baseTexture.scaleMode=jr.NEAREST;const w=Ce.useCallback(_=>{_.clear(),_.beginFill(10212547),_.drawRect(-Kd*2,-Zd*2,Kd*5,Zd*5),_.endFill()},[]);return lt.jsxs(jt.Container,{position:[i.x,i.y],children:[lt.jsx(jt.Graphics,{draw:w}),lt.jsx(jt.Sprite,{texture:y,width:Kd,height:Zd}),lt.jsx(n2,{onMove:p,checkCollision:d}),lt.jsx(M2,{playerPosition:t,onInteract:g,fruitTrees:s,checkCollision:d}),lt.jsx(B2,{cameraPosition:i})]})},L2=()=>{const[i,e]=Ce.useState({width:window.innerWidth,height:window.innerHeight});return Ce.useEffect(()=>{const t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),lt.jsx("div",{style:{position:"absolute",top:0,left:0,width:i.width,height:i.height,overflow:"hidden",backgroundColor:"#000"},children:lt.jsx(jt.Stage,{width:i.width,height:i.height,options:{backgroundColor:1087931,resolution:1,antialias:!1},children:lt.jsx(O2,{})})})};S_.createRoot(document.getElementById("root")).render(lt.jsx(As.StrictMode,{children:lt.jsx(L2,{})}))});export default U2();
